<!DOCTYPE html><html lang="en"><head><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><meta name="description" content="The CDN for pdfjs-dist"/><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/><meta name="timestamp" content="2024-06-30T07:22:39.756Z"/><link rel="shortcut icon" href="/favicon.ico"/><title>UNPKG - pdfjs-dist</title><script>window.Promise || document.write('\x3Cscript src="/es6-promise@4.2.5/dist/es6-promise.min.js">\x3C/script>\x3Cscript>ES6Promise.polyfill()\x3C/script>')</script><script>window.fetch || document.write('\x3Cscript src="/whatwg-fetch@3.0.0/dist/fetch.umd.js">\x3C/script>')</script><script>window.__DATA__ = {"packageName":"pdfjs-dist","packageVersion":"2.5.207","availableVersions":["1.0.813","1.0.816","1.0.818","1.0.820","1.0.822","1.0.824","1.0.826","1.0.828","1.0.830","1.0.833","1.0.835","1.0.837","1.0.849","1.0.851","1.0.853","1.0.855","1.0.858","1.0.861","1.0.863","1.0.864","1.0.867","1.0.869","1.0.872","1.0.874","1.0.876","1.0.878","1.0.880","1.0.882","1.0.884","1.0.887","1.0.889","1.0.892","1.0.894","1.0.896","1.0.898","1.0.900","1.0.903","1.0.905","1.0.907","1.0.909","1.0.911","1.0.913","1.0.915","1.0.917","1.0.919","1.0.921","1.0.924","1.0.925","1.0.927","1.0.929","1.0.931","1.0.933","1.0.935","1.0.937","1.0.940","1.0.942","1.0.943","1.0.945","1.0.948","1.0.951","1.0.954","1.0.956","1.0.958","1.0.960","1.0.962","1.0.964","1.0.966","1.0.968","1.0.970","1.0.972","1.0.974","1.0.976","1.0.978","1.0.980","1.0.982","1.0.984","1.0.993","1.0.995","1.0.997","1.0.1000","1.0.1002","1.0.1004","1.0.1006","1.0.1008","1.0.1011","1.0.1013","1.0.1015","1.0.1017","1.0.1019","1.0.1021","1.0.1023","1.0.1025","1.0.1027","1.0.1029","1.0.1031","1.0.1033","1.0.1035","1.0.1037","1.0.1038","1.0.1040","1.0.1051","1.0.1053","1.0.1055","1.0.1057","1.0.1059","1.0.1061","1.0.1062","1.0.1063","1.0.1065","1.0.1067","1.0.1069","1.0.1072","1.0.1074","1.0.1076","1.0.1078","1.0.1080","1.0.1082","1.0.1084","1.0.1086","1.0.1088","1.0.1090","1.0.1092","1.0.1093","1.0.1100","1.0.1102","1.0.1104","1.0.1106","1.0.1108","1.0.1110","1.0.1118","1.0.1123","1.0.1130","1.0.1132","1.0.1135","1.0.1137","1.0.1141","1.0.1143","1.0.1145","1.0.1147","1.0.1149","1.0.1151","1.0.1152","1.0.1154","1.0.1156","1.0.1158","1.0.1160","1.0.1162","1.0.1165","1.0.1167","1.0.1169","1.0.1171","1.0.1173","1.0.1175","1.0.1177","1.0.1179","1.0.1181","1.0.1183","1.0.1185","1.0.1187","1.0.1189","1.0.1191","1.0.1193","1.0.1194","1.0.1196","1.0.1199","1.0.1201","1.0.1203","1.0.1205","1.0.1207","1.0.1209","1.0.1211","1.1.3","1.1.5","1.1.7","1.1.9","1.1.11","1.1.13","1.1.15","1.1.18","1.1.20","1.1.22","1.1.24","1.1.26","1.1.28","1.1.32","1.1.34","1.1.36","1.1.38","1.1.40","1.1.42","1.1.44","1.1.45","1.1.47","1.1.49","1.1.52","1.1.54","1.1.56","1.1.58","1.1.60","1.1.63","1.1.65","1.1.67","1.1.69","1.1.71","1.1.73","1.1.82","1.1.84","1.1.86","1.1.89","1.1.94","1.1.96","1.1.98","1.1.101","1.1.103","1.1.105","1.1.107","1.1.109","1.1.111","1.1.113","1.1.114","1.1.116","1.1.118","1.1.120","1.1.122","1.1.124","1.1.126","1.1.128","1.1.130","1.1.132","1.1.134","1.1.136","1.1.138","1.1.140","1.1.143","1.1.145","1.1.147","1.1.149","1.1.151","1.1.153","1.1.155","1.1.156","1.1.157","1.1.159","1.1.165","1.1.167","1.1.169","1.1.171","1.1.174","1.1.177","1.1.179","1.1.181","1.1.183","1.1.185","1.1.187","1.1.189","1.1.191","1.1.193","1.1.195","1.1.197","1.1.199","1.1.201","1.1.203","1.1.205","1.1.207","1.1.209","1.1.211","1.1.213","1.1.215","1.1.217","1.1.218","1.1.220","1.1.222","1.1.224","1.1.226","1.1.228","1.1.230","1.1.233","1.1.238","1.1.240","1.1.242","1.1.244","1.1.246","1.1.248","1.1.250","1.1.252","1.1.254","1.1.256","1.1.258","1.1.260","1.1.262","1.1.264","1.1.266","1.1.268","1.1.270","1.1.272","1.1.274","1.1.276","1.1.278","1.1.280","1.1.284","1.1.286","1.1.288","1.1.290","1.1.293","1.1.295","1.1.297","1.1.299","1.1.301","1.1.303","1.1.305","1.1.307","1.1.309","1.1.311","1.1.313","1.1.316","1.1.320","1.1.322","1.1.324","1.1.326","1.1.329","1.1.332","1.1.334","1.1.335","1.1.337","1.1.339","1.1.341","1.1.343","1.1.345","1.1.347","1.1.350","1.1.352","1.1.355","1.1.357","1.1.359","1.1.361","1.1.364","1.1.366","1.1.368","1.1.370","1.1.373","1.1.375","1.1.377","1.1.379","1.1.381","1.1.387","1.1.390","1.1.392","1.1.394","1.1.395","1.1.397","1.1.399","1.1.401","1.1.403","1.1.405","1.1.407","1.1.409","1.1.411","1.1.413","1.1.415","1.1.417","1.1.425","1.1.427","1.1.429","1.1.431","1.1.433","1.1.435","1.1.438","1.1.440","1.1.442","1.1.444","1.1.446","1.1.448","1.1.450","1.1.452","1.1.454","1.1.456","1.1.460","1.1.462","1.1.463","1.1.465","1.1.467","1.1.469","1.1.471","1.1.472","1.1.474","1.1.476","1.1.478","1.1.480","1.1.483","1.1.485","1.1.488","1.1.490","1.1.492","1.1.494","1.1.496","1.1.498","1.1.500","1.1.503","1.1.505","1.1.507","1.1.509","1.1.511","1.1.513","1.1.515","1.1.517","1.1.519","1.1.521","1.1.523","1.1.527","1.1.529","1.1.531","1.1.534","1.1.535","1.1.537","1.1.539","1.1.542","1.1.544","1.1.546","1.1.551","1.2.26","1.2.28","1.2.30","1.2.32","1.2.34","1.2.36","1.2.38","1.2.39","1.2.41","1.2.43","1.2.45","1.2.47","1.2.49","1.2.52","1.2.55","1.2.56","1.2.58","1.2.61","1.2.64","1.2.66","1.2.68","1.2.70","1.2.73","1.2.77","1.2.79","1.2.81","1.2.83","1.2.85","1.2.87","1.2.89","1.2.91","1.2.93","1.2.95","1.2.97","1.2.99","1.2.101","1.2.103","1.2.105","1.2.107","1.2.109","1.2.111","1.2.113","1.2.115","1.2.117","1.2.119","1.2.121","1.2.123","1.2.125","1.2.127","1.2.129","1.2.131","1.2.133","1.2.135","1.3.6","1.3.10","1.3.12","1.3.14","1.3.16","1.3.17","1.3.20","1.3.22","1.3.24","1.3.26","1.3.28","1.3.32","1.3.34","1.3.36","1.3.38","1.3.40","1.3.42","1.3.44","1.3.46","1.3.48","1.3.50","1.3.52","1.3.54","1.3.56","1.3.58","1.3.60","1.3.62","1.3.64","1.3.66","1.3.68","1.3.70","1.3.72","1.3.74","1.3.76","1.3.78","1.3.80","1.3.81","1.3.88","1.3.90","1.3.94","1.3.96","1.3.98","1.3.100","1.3.102","1.3.103","1.3.104","1.3.105","1.3.106","1.3.108","1.3.110","1.3.112","1.3.114","1.3.116","1.3.118","1.3.120","1.3.122","1.3.124","1.3.125","1.3.127","1.3.129","1.3.131","1.3.133","1.3.135","1.3.137","1.3.142","1.3.144","1.3.146","1.3.148","1.3.150","1.3.152","1.3.154","1.3.156","1.3.158","1.3.161","1.3.163","1.3.165","1.3.167","1.3.169","1.3.171","1.3.173","1.3.175","1.3.177","1.3.179","1.3.181","1.3.183","1.3.185","1.3.187","1.3.190","1.3.192","1.3.194","1.3.196","1.3.198","1.3.200","1.3.202","1.3.204","1.3.206","1.3.208","1.3.210","1.3.212","1.3.214","1.3.216","1.3.218","1.3.220","1.3.222","1.3.224","1.3.226","1.3.228","1.3.231","1.3.233","1.4.11","1.4.13","1.4.14","1.4.16","1.4.18","1.4.20","1.4.21","1.4.23","1.4.31","1.4.33","1.4.35","1.4.37","1.4.39","1.4.42","1.4.44","1.4.46","1.4.48","1.4.51","1.4.53","1.4.55","1.4.57","1.4.59","1.4.61","1.4.62","1.4.63","1.4.64","1.4.66","1.4.68","1.4.72","1.4.74","1.4.76","1.4.79","1.4.81","1.4.83","1.4.85","1.4.87","1.4.91","1.4.93","1.4.95","1.4.97","1.4.99","1.4.102","1.4.105","1.4.107","1.4.109","1.4.111","1.4.113","1.4.115","1.4.117","1.4.119","1.4.121","1.4.122","1.4.124","1.4.127","1.4.129","1.4.131","1.4.133","1.4.135","1.4.137","1.4.139","1.4.141","1.4.143","1.4.145","1.4.147","1.4.149","1.4.152","1.4.154","1.4.155","1.4.157","1.4.162","1.4.164","1.4.166","1.4.168","1.4.170","1.4.172","1.4.174","1.4.176","1.4.179","1.4.181","1.4.183","1.4.185","1.4.187","1.4.190","1.4.192","1.4.194","1.4.197","1.4.199","1.4.201","1.4.203","1.4.205","1.4.209","1.4.211","1.4.213","1.4.215","1.4.217","1.4.219","1.4.221","1.4.225","1.4.227","1.4.229","1.4.231","1.4.235","1.4.237","1.4.239","1.4.241","1.4.244","1.4.248","1.4.250","1.4.255","1.4.257","1.4.258","1.4.260","1.4.263","1.4.265","1.5.188","1.5.190","1.5.192","1.5.194","1.5.196","1.5.201","1.5.203","1.5.205","1.5.207","1.5.209","1.5.211","1.5.214","1.5.216","1.5.218","1.5.220","1.5.222","1.5.224","1.5.226","1.5.228","1.5.230","1.5.232","1.5.234","1.5.236","1.5.238","1.5.240","1.5.242","1.5.244","1.5.246","1.5.248","1.5.250","1.5.252","1.5.254","1.5.256","1.5.258","1.5.260","1.5.262","1.5.264","1.5.266","1.5.268","1.5.270","1.5.272","1.5.274","1.5.276","1.5.278","1.5.279","1.5.281","1.5.283","1.5.285","1.5.287","1.5.289","1.5.292","1.5.294","1.5.296","1.5.299","1.5.301","1.5.303","1.5.305","1.5.307","1.5.309","1.5.311","1.5.312","1.5.314","1.5.316","1.5.318","1.5.320","1.5.322","1.5.324","1.5.326","1.5.328","1.5.330","1.5.332","1.5.334","1.5.336","1.5.337","1.5.339","1.5.341","1.5.343","1.5.345","1.5.347","1.5.351","1.5.353","1.5.355","1.5.357","1.5.359","1.5.361","1.5.365","1.5.367","1.5.369","1.5.370","1.5.372","1.5.374","1.5.376","1.5.378","1.5.381","1.5.383","1.5.385","1.5.387","1.5.389","1.5.391","1.5.393","1.5.395","1.5.397","1.5.399","1.5.402","1.5.404","1.5.406","1.5.408","1.5.410","1.5.413","1.5.415","1.5.418","1.5.421","1.5.424","1.5.426","1.5.430","1.5.432","1.5.434","1.5.437","1.5.440","1.5.442","1.5.444","1.5.446","1.5.448","1.5.450","1.5.452","1.5.454","1.5.456","1.5.458","1.5.460","1.5.462","1.5.464","1.5.466","1.5.470","1.5.472","1.5.474","1.5.476","1.5.477","1.5.479","1.5.481","1.5.485","1.5.488","1.5.490","1.5.492","1.5.494","1.5.496","1.5.498","1.5.500","1.6.210","1.6.212","1.6.214","1.6.217","1.6.219","1.6.221","1.6.222","1.6.226","1.6.230","1.6.232","1.6.234","1.6.237","1.6.239","1.6.242","1.6.244","1.6.248","1.6.250","1.6.254","1.6.256","1.6.258","1.6.263","1.6.264","1.6.266","1.6.268","1.6.271","1.6.272","1.6.274","1.6.279","1.6.283","1.6.284","1.6.287","1.6.289","1.6.293","1.6.295","1.6.297","1.6.299","1.6.302","1.6.304","1.6.306","1.6.309","1.6.311","1.6.313","1.6.315","1.6.317","1.6.319","1.6.320","1.6.322","1.6.324","1.6.327","1.6.329","1.6.331","1.6.332","1.6.334","1.6.336","1.6.338","1.6.341","1.6.343","1.6.346","1.6.348","1.6.350","1.6.351","1.6.353","1.6.355","1.6.357","1.6.359","1.6.361","1.6.365","1.6.366","1.6.370","1.6.372","1.6.374","1.6.377","1.6.380","1.6.396","1.6.401","1.6.404","1.6.406","1.6.411","1.6.412","1.6.414","1.6.416","1.6.418","1.6.419","1.6.422","1.6.424","1.6.426","1.6.428","1.6.430","1.6.433","1.6.437","1.6.440","1.6.442","1.6.444","1.6.446","1.6.449","1.6.451","1.6.454","1.6.456","1.6.458","1.6.459","1.6.461","1.6.463","1.6.465","1.6.467","1.6.469","1.6.471","1.6.473","1.6.475","1.6.477","1.6.479","1.6.481","1.6.483","1.6.485","1.6.486","1.7.225","1.7.227","1.7.229","1.7.231","1.7.233","1.7.235","1.7.244","1.7.246","1.7.248","1.7.250","1.7.252","1.7.254","1.7.256","1.7.258","1.7.260","1.7.262","1.7.264","1.7.267","1.7.270","1.7.274","1.7.276","1.7.278","1.7.280","1.7.282","1.7.284","1.7.286","1.7.288","1.7.290","1.7.292","1.7.294","1.7.295","1.7.297","1.7.300","1.7.302","1.7.308","1.7.310","1.7.312","1.7.314","1.7.316","1.7.323","1.7.325","1.7.327","1.7.329","1.7.331","1.7.337","1.7.339","1.7.341","1.7.344","1.7.346","1.7.348","1.7.351","1.7.355","1.7.357","1.7.359","1.7.361","1.7.363","1.7.365","1.7.367","1.7.368","1.7.370","1.7.372","1.7.374","1.7.376","1.7.378","1.7.381","1.7.384","1.7.387","1.7.389","1.7.391","1.7.393","1.7.395","1.7.397","1.7.399","1.7.401","1.7.403","1.7.406","1.7.410","1.7.412","1.7.414","1.7.416","1.7.418","1.8.170","1.8.172","1.8.173","1.8.175","1.8.177","1.8.179","1.8.181","1.8.183","1.8.186","1.8.188","1.8.190","1.8.192","1.8.195","1.8.199","1.8.201","1.8.203","1.8.205","1.8.207","1.8.213","1.8.233","1.8.235","1.8.237","1.8.241","1.8.252","1.8.254","1.8.271","1.8.273","1.8.275","1.8.276","1.8.278","1.8.280","1.8.282","1.8.284","1.8.286","1.8.288","1.8.290","1.8.292","1.8.297","1.8.299","1.8.301","1.8.303","1.8.305","1.8.306","1.8.308","1.8.310","1.8.312","1.8.314","1.8.316","1.8.318","1.8.320","1.8.323","1.8.325","1.8.327","1.8.329","1.8.331","1.8.333","1.8.337","1.8.339","1.8.342","1.8.344","1.8.346","1.8.349","1.8.351","1.8.353","1.8.355","1.8.357","1.8.359","1.8.361","1.8.363","1.8.366","1.8.369","1.8.371","1.8.374","1.8.376","1.8.378","1.8.380","1.8.382","1.8.384","1.8.386","1.8.388","1.8.390","1.8.391","1.8.394","1.8.396","1.8.398","1.8.400","1.8.402","1.8.404","1.8.406","1.8.408","1.8.410","1.8.412","1.8.414","1.8.416","1.8.418","1.8.420","1.8.423","1.8.425","1.8.426","1.8.428","1.8.430","1.8.432","1.8.434","1.8.436","1.8.439","1.8.440","1.8.442","1.8.444","1.8.446","1.8.448","1.8.450","1.8.452","1.8.454","1.8.456","1.8.458","1.8.462","1.8.463","1.8.465","1.8.467","1.8.469","1.8.472","1.8.474","1.8.476","1.8.478","1.8.480","1.8.482","1.8.484","1.8.487","1.8.489","1.8.492","1.8.493","1.8.495","1.8.497","1.8.499","1.8.501","1.8.503","1.8.505","1.8.507","1.8.508","1.8.510","1.8.512","1.8.514","1.8.516","1.8.518","1.8.520","1.8.522","1.8.524","1.8.525","1.8.527","1.8.529","1.8.531","1.8.532","1.8.535","1.8.537","1.8.540","1.8.542","1.8.548","1.8.550","1.8.552","1.8.555","1.8.557","1.8.559","1.8.562","1.8.564","1.8.568","1.8.570","1.8.571","1.8.573","1.8.575","1.8.577","1.8.579","1.8.581","1.8.583","1.8.585","1.8.587","1.8.589","1.8.591","1.8.593","1.8.595","1.8.597","1.8.599","1.8.601","1.8.603","1.8.605","1.8.607","1.8.609","1.8.610","1.8.612","1.8.614","1.8.616","1.8.618","1.8.619","1.9.426","1.9.430","1.9.432","1.9.436","1.9.438","1.9.441","1.9.444","1.9.446","1.9.448","1.9.450","1.9.452","1.9.454","1.9.456","1.9.458","1.9.460","1.9.462","1.9.466","1.9.468","1.9.470","1.9.472","1.9.474","1.9.476","1.9.478","1.9.480","1.9.482","1.9.484","1.9.486","1.9.488","1.9.489","1.9.491","1.9.493","1.9.496","1.9.502","1.9.504","1.9.506","1.9.508","1.9.510","1.9.512","1.9.514","1.9.516","1.9.523","1.9.524","1.9.526","1.9.528","1.9.530","1.9.534","1.9.537","1.9.541","1.9.544","1.9.549","1.9.551","1.9.553","1.9.554","1.9.556","1.9.558","1.9.560","1.9.562","1.9.564","1.9.566","1.9.568","1.9.570","1.9.572","1.9.573","1.9.575","1.9.577","1.9.579","1.9.583","1.9.585","1.9.587","1.9.589","1.9.593","1.9.597","1.9.598","1.9.600","1.9.602","1.9.604","1.9.607","1.9.609","1.9.611","1.9.613","1.9.615","1.9.617","1.9.620","1.9.622","1.9.623","1.9.625","1.9.628","1.9.630","1.9.632","1.9.634","1.9.636","1.9.638","1.9.640","1.9.641","1.9.643","1.9.645","1.9.646","1.9.648","1.9.650","1.9.652","1.9.654","1.9.656","1.9.658","1.9.659","1.9.661","1.10.80","1.10.81","1.10.83","1.10.86","1.10.88","1.10.90","1.10.92","1.10.93","1.10.95","1.10.97","1.10.100","2.0.87","2.0.89","2.0.91","2.0.95","2.0.97","2.0.99","2.0.101","2.0.104","2.0.106","2.0.108","2.0.112","2.0.114","2.0.118","2.0.120","2.0.122","2.0.124","2.0.126","2.0.129","2.0.131","2.0.133","2.0.135","2.0.137","2.0.139","2.0.140","2.0.142","2.0.144","2.0.151","2.0.153","2.0.155","2.0.157","2.0.159","2.0.161","2.0.163","2.0.165","2.0.167","2.0.169","2.0.172","2.0.173","2.0.175","2.0.177","2.0.179","2.0.181","2.0.183","2.0.185","2.0.187","2.0.191","2.0.193","2.0.195","2.0.197","2.0.199","2.0.201","2.0.203","2.0.205","2.0.207","2.0.209","2.0.211","2.0.213","2.0.220","2.0.222","2.0.224","2.0.226","2.0.228","2.0.230","2.0.232","2.0.234","2.0.236","2.0.239","2.0.241","2.0.243","2.0.244","2.0.246","2.0.248","2.0.250","2.0.252","2.0.254","2.0.256","2.0.258","2.0.260","2.0.263","2.0.265","2.0.267","2.0.269","2.0.271","2.0.272","2.0.274","2.0.276","2.0.279","2.0.281","2.0.283","2.0.285","2.0.288","2.0.290","2.0.292","2.0.295","2.0.301","2.0.303","2.0.305","2.0.310","2.0.312","2.0.315","2.0.318","2.0.323","2.0.328","2.0.329","2.0.330","2.0.332","2.0.334","2.0.336","2.0.338","2.0.345","2.0.347","2.0.349","2.0.352","2.0.354","2.0.357","2.0.359","2.0.361","2.0.363","2.0.374","2.0.376","2.0.378","2.0.385","2.0.389","2.0.391","2.0.395","2.0.396","2.0.398","2.0.400","2.0.402","2.0.419","2.0.421","2.0.424","2.0.426","2.0.428","2.0.430","2.0.432","2.0.437","2.0.439","2.0.442","2.0.444","2.0.447","2.0.449","2.0.451","2.0.453","2.0.455","2.0.457","2.0.466","2.0.468","2.0.470","2.0.472","2.0.474","2.0.476","2.0.478","2.0.480","2.0.485","2.0.487","2.0.489","2.0.550","2.0.943","2.1.266","2.2.228","2.3.200","2.4.456","2.5.207","2.6.347","2.7.570","2.8.335","2.9.359","2.10.377","2.11.338","2.12.313","2.13.216","2.14.305","2.15.349","2.16.105","3.0.279","3.1.81","3.2.146","3.3.122","3.4.120","3.5.141","3.6.172","3.7.107","3.8.162","3.9.179","3.10.111","3.11.174","4.0.189","4.0.269","4.0.379","4.1.392","4.2.67","4.3.136"],"filename":"/build/pdf.min.js","target":{"path":"/build/pdf.min.js","type":"file","details":{"contentType":"application/javascript","integrity":"sha384-9ukBdzxQJ42oHFrXmU4pPP8hOv6PFhPjubOeEnqznAjCGhAZWnb9Ap3jiZS9usnw","language":"JavaScript","size":195485,"uri":null,"highlights":["<span class=\"code-comment\">/**\n</span>","<span class=\"code-comment\"> * @licstart The following is the entire license notice for the\n</span>","<span class=\"code-comment\"> * Javascript code in this page\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Copyright 2020 Mozilla Foundation\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Licensed under the Apache License, Version 2.0 (the \"License\");\n</span>","<span class=\"code-comment\"> * you may not use this file except in compliance with the License.\n</span>","<span class=\"code-comment\"> * You may obtain a copy of the License at\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> *     http://www.apache.org/licenses/LICENSE-2.0\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * Unless required by applicable law or agreed to in writing, software\n</span>","<span class=\"code-comment\"> * distributed under the License is distributed on an \"AS IS\" BASIS,\n</span>","<span class=\"code-comment\"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n</span>","<span class=\"code-comment\"> * See the License for the specific language governing permissions and\n</span>","<span class=\"code-comment\"> * limitations under the License.\n</span>","<span class=\"code-comment\"> *\n</span>","<span class=\"code-comment\"> * @licend The above is the entire license notice for the\n</span>","<span class=\"code-comment\"> * Javascript code in this page\n</span>","<span class=\"code-comment\"> */</span>\n","!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> exports&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">module</span>?<span class=\"code-built_in\">module</span>.exports=t():<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> define&amp;&amp;define.amd?define(<span class=\"code-string\">\"pdfjs-dist/build/pdf\"</span>,[],t):<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> exports?exports[<span class=\"code-string\">\"pdfjs-dist/build/pdf\"</span>]=t():e[<span class=\"code-string\">\"pdfjs-dist/build/pdf\"</span>]=e.pdfjsLib=t()}(<span class=\"code-keyword\">this</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">var</span> t={};<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">r</span>(<span class=\"code-params\">s</span>)</span>{<span class=\"code-keyword\">if</span>(t[s])<span class=\"code-keyword\">return</span> t[s].exports;<span class=\"code-keyword\">var</span> n=t[s]={<span class=\"code-attr\">i</span>:s,<span class=\"code-attr\">l</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">exports</span>:{}};<span class=\"code-keyword\">return</span> e[s].call(n.exports,n,n.exports,r),n.l=!<span class=\"code-number\">0</span>,n.exports}<span class=\"code-keyword\">return</span> r.m=e,r.c=t,r.d=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,s</span>)</span>{r.o(e,t)||<span class=\"code-built_in\">Object</span>.defineProperty(e,t,{<span class=\"code-attr\">enumerable</span>:!<span class=\"code-number\">0</span>,<span class=\"code-attr\">get</span>:s})},r.r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">Symbol</span>&amp;&amp;<span class=\"code-built_in\">Symbol</span>.toStringTag&amp;&amp;<span class=\"code-built_in\">Object</span>.defineProperty(e,<span class=\"code-built_in\">Symbol</span>.toStringTag,{<span class=\"code-attr\">value</span>:<span class=\"code-string\">\"Module\"</span>}),<span class=\"code-built_in\">Object</span>.defineProperty(e,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>})},r.t=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">1</span>&amp;t&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\">e=r(e</span>)),8&amp;<span class=\"code-params\">t</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">4</span>&amp;t&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;e&amp;&amp;e.__esModule</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">r.r(s</span>),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">s,<span class=\"code-string\">\"default\"</span>,{enumerable:!<span class=\"code-number\">0</span>,value:e}</span>),2&amp;<span class=\"code-params\">t</span>&amp;&amp;\"<span class=\"code-params\">string</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">e</span>)<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> n <span class=\"code-keyword\">in</span> e</span>)<span class=\"code-params\">r</span>.<span class=\"code-params\">d</span>(<span class=\"code-params\">s,n,<span class=\"code-keyword\">function</span>(t</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>[<span class=\"code-params\">t</span>]}.<span class=\"code-params\">bind</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,n</span>));<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>},<span class=\"code-params\">r</span>.<span class=\"code-params\">n</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">__esModule</span>?<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">default</span>}:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>};<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>.<span class=\"code-params\">d</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"a\"</span>,t</span>),<span class=\"code-params\">t</span>},<span class=\"code-params\">r</span>.<span class=\"code-params\">o</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">Object</span>.<span class=\"code-params\">prototype</span>.<span class=\"code-params\">hasOwnProperty</span>.<span class=\"code-params\">call</span>(<span class=\"code-params\">e,t</span>)},<span class=\"code-params\">r</span>.<span class=\"code-params\">p</span>=\"\",<span class=\"code-params\">r</span>(<span class=\"code-params\">r.s=<span class=\"code-number\">0</span></span>)}(<span class=\"code-params\">[<span class=\"code-keyword\">function</span>(e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"addLinkAttributes\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">addLinkAttributes</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"getFilenameFromUrl\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">getFilenameFromUrl</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"LinkTarget\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">LinkTarget</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"loadScript\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">loadScript</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"PDFDateString\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">PDFDateString</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"RenderingCancelledException\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">RenderingCancelledException</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"build\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">build</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"getDocument\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">getDocument</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"LoopbackPort\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">LoopbackPort</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"PDFDataRangeTransport\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">PDFDataRangeTransport</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"PDFWorker\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">PDFWorker</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"version\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">version</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"CMapCompressionType\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">CMapCompressionType</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"createObjectURL\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">createObjectURL</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"createPromiseCapability\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">createPromiseCapability</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"createValidAbsoluteUrl\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">createValidAbsoluteUrl</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"InvalidPDFException\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">InvalidPDFException</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"MissingPDFException\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">MissingPDFException</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"OPS\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">OPS</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"PasswordResponses\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">PasswordResponses</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"PermissionFlag\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">PermissionFlag</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"removeNullCharacters\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">removeNullCharacters</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"shadow\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">shadow</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"UnexpectedResponseException\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">UnexpectedResponseException</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"UNSUPPORTED_FEATURES\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">UNSUPPORTED_FEATURES</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"Util\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">Util</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"VerbosityLevel\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">VerbosityLevel</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"AnnotationLayer\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">a</span>.<span class=\"code-params\">AnnotationLayer</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"apiCompatibilityParams\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">o</span>.<span class=\"code-params\">apiCompatibilityParams</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"GlobalWorkerOptions\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">l</span>.<span class=\"code-params\">GlobalWorkerOptions</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"renderTextLayer\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">c</span>.<span class=\"code-params\">renderTextLayer</span>}}),<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"SVGGraphics\"</span>,{enumerable:!<span class=\"code-number\">0</span>,get:<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">h</span>.<span class=\"code-params\">SVGGraphics</span>}});<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">1</span></span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">5</span></span>),<span class=\"code-params\">i</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>),<span class=\"code-params\">a</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">16</span></span>),<span class=\"code-params\">o</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">7</span></span>),<span class=\"code-params\">l</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">10</span></span>),<span class=\"code-params\">c</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">17</span></span>),<span class=\"code-params\">h</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">18</span></span>);{<span class=\"code-params\">const</span>{<span class=\"code-params\">isNodeJS</span>:<span class=\"code-params\">e</span>}=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">4</span></span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">19</span></span>).<span class=\"code-params\">PDFNodeStream</span>;(<span class=\"code-params\"><span class=\"code-number\">0</span>,n.setPDFNetworkStreamFactory</span>)(<span class=\"code-params\">t=&gt;<span class=\"code-keyword\">new</span> e(t</span>))}<span class=\"code-params\">else</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">22</span></span>).<span class=\"code-params\">PDFNetworkStream</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>;(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.isFetchSupported</span>)<span class=\"code-params\">()</span>&amp;&amp;(<span class=\"code-params\">t=r(<span class=\"code-number\">23</span></span>).<span class=\"code-params\">PDFFetchStream</span>),(<span class=\"code-params\"><span class=\"code-number\">0</span>,n.setPDFNetworkStreamFactory</span>)(<span class=\"code-params\">r=&gt;t&amp;&amp;(<span class=\"code-number\">0</span>,s.isValidFetchUrl</span>)(<span class=\"code-params\">r.url</span>)?<span class=\"code-params\">new</span> <span class=\"code-params\">t</span>(<span class=\"code-params\">r</span>):<span class=\"code-params\">new</span> <span class=\"code-params\">e</span>(<span class=\"code-params\">r</span>))}}},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">addLinkAttributes</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e,{url:t,target:r,rel:n,enabled:i=!<span class=\"code-number\">0</span>}={}</span>){(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\">t&amp;&amp;<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t,<span class=\"code-string\">'addLinkAttributes: A valid \"url\" parameter must provided.'</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.removeNullCharacters</span>)(<span class=\"code-params\">t</span>);<span class=\"code-params\">i</span>?<span class=\"code-params\">e</span>.<span class=\"code-params\">href</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">title</span>=<span class=\"code-params\">a</span>:(<span class=\"code-params\">e.href=<span class=\"code-string\">\"\"</span>,e.title=<span class=\"code-string\">\"Disabled: \"</span>+a,e.onclick=(</span>)=&gt;</span>!<span class=\"code-number\">1</span>);<span class=\"code-keyword\">let</span> l=<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">switch</span>(r){<span class=\"code-keyword\">case</span> o.NONE:<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> o.SELF:l=<span class=\"code-string\">\"_self\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> o.BLANK:l=<span class=\"code-string\">\"_blank\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> o.PARENT:l=<span class=\"code-string\">\"_parent\"</span>;<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span> o.TOP:l=<span class=\"code-string\">\"_top\"</span>}e.target=l,e.rel=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> n?n:<span class=\"code-string\">\"noopener noreferrer nofollow\"</span>},t.getFilenameFromUrl=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">const</span> t=e.indexOf(<span class=\"code-string\">\"#\"</span>),r=e.indexOf(<span class=\"code-string\">\"?\"</span>),s=<span class=\"code-built_in\">Math</span>.min(t&gt;<span class=\"code-number\">0</span>?t:e.length,r&gt;<span class=\"code-number\">0</span>?r:e.length);<span class=\"code-keyword\">return</span> e.substring(e.lastIndexOf(<span class=\"code-string\">\"/\"</span>,s)+<span class=\"code-number\">1</span>,s)},t.isFetchSupported=l,t.isValidFetchUrl=c,t.loadScript=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>(<span class=\"code-function\">(<span class=\"code-params\">t,r</span>)=&gt;</span>{<span class=\"code-keyword\">const</span> s=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"script\"</span>);s.src=e,s.onload=t,s.onerror=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{r(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Cannot load script at: \"</span>+s.src))},(<span class=\"code-built_in\">document</span>.head||<span class=\"code-built_in\">document</span>.documentElement).appendChild(s)})},t.deprecated=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-built_in\">console</span>.log(<span class=\"code-string\">\"Deprecated API usage: \"</span>+e)},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> s=r(<span class=\"code-number\">2</span>);t.DEFAULT_LINK_REL=<span class=\"code-string\">\"noopener noreferrer nofollow\"</span>;<span class=\"code-keyword\">const</span> n=<span class=\"code-string\">\"http://www.w3.org/2000/svg\"</span>;t.DOMCanvasFactory=<span class=\"code-class\"><span class=\"code-keyword\">class</span></span>{create(e,t){<span class=\"code-keyword\">if</span>(e&lt;=<span class=\"code-number\">0</span>||t&lt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid canvas size\"</span>);<span class=\"code-keyword\">const</span> r=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"canvas\"</span>),s=r.getContext(<span class=\"code-string\">\"2d\"</span>);<span class=\"code-keyword\">return</span> r.width=e,r.height=t,{<span class=\"code-attr\">canvas</span>:r,<span class=\"code-attr\">context</span>:s}}reset(e,t,r){<span class=\"code-keyword\">if</span>(!e.canvas)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Canvas is not specified\"</span>);<span class=\"code-keyword\">if</span>(t&lt;=<span class=\"code-number\">0</span>||r&lt;=<span class=\"code-number\">0</span>)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid canvas size\"</span>);e.canvas.width=t,e.canvas.height=r}destroy(e){<span class=\"code-keyword\">if</span>(!e.canvas)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Canvas is not specified\"</span>);e.canvas.width=<span class=\"code-number\">0</span>,e.canvas.height=<span class=\"code-number\">0</span>,e.canvas=<span class=\"code-literal\">null</span>,e.context=<span class=\"code-literal\">null</span>}};t.DOMCMapReaderFactory=<span class=\"code-class\"><span class=\"code-keyword\">class</span></span>{<span class=\"code-keyword\">constructor</span>({baseUrl:e=<span class=\"code-literal\">null</span>,<span class=\"code-attr\">isCompressed</span>:t=!<span class=\"code-number\">1</span>}){<span class=\"code-keyword\">this</span>.baseUrl=e,<span class=\"code-keyword\">this</span>.isCompressed=t}<span class=\"code-keyword\">async</span> fetch({<span class=\"code-attr\">name</span>:e}){<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.baseUrl)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">'The CMap \"baseUrl\" parameter must be specified, ensure that the \"cMapUrl\" and \"cMapPacked\" API parameters are provided.'</span>);<span class=\"code-keyword\">if</span>(!e)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"CMap name must be specified.\"</span>);<span class=\"code-keyword\">const</span> t=<span class=\"code-keyword\">this</span>.baseUrl+e+<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.isCompressed?<span class=\"code-string\">\".bcmap\"</span>:<span class=\"code-string\">\"\"</span></span>),<span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">isCompressed</span>?<span class=\"code-params\">s</span>.<span class=\"code-params\">CMapCompressionType</span>.<span class=\"code-params\">BINARY</span>:<span class=\"code-params\">s</span>.<span class=\"code-params\">CMapCompressionType</span>.<span class=\"code-params\">NONE</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">l</span><span class=\"code-params\">()</span>&amp;&amp;<span class=\"code-params\">c</span>(<span class=\"code-params\">t,<span class=\"code-built_in\">document</span>.baseURI</span>)?<span class=\"code-params\">fetch</span>(<span class=\"code-params\">t</span>).<span class=\"code-params\">then</span>(<span class=\"code-params\"><span class=\"code-keyword\">async</span> e=&gt;{<span class=\"code-keyword\">if</span>(!e.ok</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\">e.statusText</span>);<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">isCompressed</span>?<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\"><span class=\"code-keyword\">await</span> e.arrayBuffer(</span>)):(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.stringToBytes</span>)(<span class=\"code-params\"><span class=\"code-keyword\">await</span> e.text(</span>)),{<span class=\"code-params\">cMapData</span>:<span class=\"code-params\">t</span>,<span class=\"code-params\">compressionType</span>:<span class=\"code-params\">r</span>}}).<span class=\"code-params\">catch</span>(<span class=\"code-params\">e=&gt;{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unable to load \"</span>+(<span class=\"code-keyword\">this</span>.isCompressed?<span class=\"code-string\">\"binary \"</span>:<span class=\"code-string\">\"\"</span></span>)+\"<span class=\"code-params\">CMap</span> <span class=\"code-params\">at</span>: \"+<span class=\"code-params\">t</span>)}):<span class=\"code-params\">new</span> <span class=\"code-params\">Promise</span>(<span class=\"code-params\">(e,n</span>)=&gt;</span>{<span class=\"code-keyword\">const</span> i=<span class=\"code-keyword\">new</span> XMLHttpRequest;i.open(<span class=\"code-string\">\"GET\"</span>,t,!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>.isCompressed&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\">i.responseType=<span class=\"code-string\">\"arraybuffer\"</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">onreadystatechange</span>=<span class=\"code-params\">()</span>=&gt;</span>{<span class=\"code-keyword\">if</span>(i.readyState===XMLHttpRequest.DONE){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">200</span>===i.status||<span class=\"code-number\">0</span>===i.status){<span class=\"code-keyword\">let</span> t;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.isCompressed&amp;&amp;i.response?t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(i.response):!<span class=\"code-keyword\">this</span>.isCompressed&amp;&amp;i.responseText&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\">t=(<span class=\"code-number\">0</span>,s.stringToBytes</span>)(<span class=\"code-params\">i.responseText</span>)),<span class=\"code-params\">t</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">e</span>(<span class=\"code-params\">{cMapData:t,compressionType:r}</span>)}<span class=\"code-params\">n</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(i.statusText</span>))}},<span class=\"code-params\">i</span>.<span class=\"code-params\">send</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>)}).<span class=\"code-params\">catch</span>(<span class=\"code-params\">e=&gt;{<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unable to load \"</span>+(<span class=\"code-keyword\">this</span>.isCompressed?<span class=\"code-string\">\"binary \"</span>:<span class=\"code-string\">\"\"</span></span>)+\"<span class=\"code-params\">CMap</span> <span class=\"code-params\">at</span>: \"+<span class=\"code-params\">t</span>)})}};<span class=\"code-params\">t</span>.<span class=\"code-params\">DOMSVGFactory</span>=<span class=\"code-params\">class</span>{<span class=\"code-params\">create</span>(<span class=\"code-params\">e,t</span>){(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\">e&gt;<span class=\"code-number\">0</span>&amp;&amp;t&gt;<span class=\"code-number\">0</span>,<span class=\"code-string\">\"Invalid SVG dimensions\"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElementNS</span>(<span class=\"code-params\">n,<span class=\"code-string\">\"svg:svg\"</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"version\"</span>,<span class=\"code-string\">\"1.1\"</span></span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"width\"</span>,e+<span class=\"code-string\">\"px\"</span></span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"height\"</span>,t+<span class=\"code-string\">\"px\"</span></span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"preserveAspectRatio\"</span>,<span class=\"code-string\">\"none\"</span></span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"viewBox\"</span>,<span class=\"code-string\">\"0 0 \"</span>+e+<span class=\"code-string\">\" \"</span>+t</span>),<span class=\"code-params\">r</span>}<span class=\"code-params\">createElement</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\"><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e,<span class=\"code-string\">\"Invalid SVG element type\"</span></span>),<span class=\"code-params\">document</span>.<span class=\"code-params\">createElementNS</span>(<span class=\"code-params\">n,e</span>)}};<span class=\"code-params\">class</span> <span class=\"code-params\">i</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">{viewBox:e,scale:t,rotation:r,offsetX:s=<span class=\"code-number\">0</span>,offsetY:n=<span class=\"code-number\">0</span>,dontFlip:i=!<span class=\"code-number\">1</span>}</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">viewBox</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">scale</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">rotation</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">offsetX</span>=<span class=\"code-params\">s</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">offsetY</span>=<span class=\"code-params\">n</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=(<span class=\"code-params\">e[<span class=\"code-number\">2</span>]+e[<span class=\"code-number\">0</span>]</span>)/2,<span class=\"code-params\">o</span>=(<span class=\"code-params\">e[<span class=\"code-number\">3</span>]+e[<span class=\"code-number\">1</span>]</span>)/2;<span class=\"code-params\">let</span> <span class=\"code-params\">l</span>,<span class=\"code-params\">c</span>,<span class=\"code-params\">h</span>,<span class=\"code-params\">d</span>,<span class=\"code-params\">u</span>,<span class=\"code-params\">p</span>,<span class=\"code-params\">g</span>,<span class=\"code-params\">f</span>;<span class=\"code-params\">switch</span>(<span class=\"code-params\">r=(r%=<span class=\"code-number\">360</span></span>)&lt;0?<span class=\"code-params\">r</span>+360:<span class=\"code-params\">r</span>){<span class=\"code-params\">case</span> 180:<span class=\"code-params\">l</span>=-1,<span class=\"code-params\">c</span>=0,<span class=\"code-params\">h</span>=0,<span class=\"code-params\">d</span>=1;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> 90:<span class=\"code-params\">l</span>=0,<span class=\"code-params\">c</span>=1,<span class=\"code-params\">h</span>=1,<span class=\"code-params\">d</span>=0;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> 270:<span class=\"code-params\">l</span>=0,<span class=\"code-params\">c</span>=-1,<span class=\"code-params\">h</span>=-1,<span class=\"code-params\">d</span>=0;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> 0:<span class=\"code-params\">l</span>=1,<span class=\"code-params\">c</span>=0,<span class=\"code-params\">h</span>=0,<span class=\"code-params\">d</span>=-1;<span class=\"code-params\">break</span>;<span class=\"code-params\">default</span>:<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"PageViewport: Invalid rotation, must be a multiple of 90 degrees.\"</span></span>)}<span class=\"code-params\">i</span>&amp;&amp;(<span class=\"code-params\">h=-h,d=-d</span>),0===<span class=\"code-params\">l</span>?(<span class=\"code-params\">u=<span class=\"code-built_in\">Math</span>.abs(o-e[<span class=\"code-number\">1</span>]</span>)*<span class=\"code-params\">t</span>+<span class=\"code-params\">s</span>,<span class=\"code-params\">p</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">abs</span>(<span class=\"code-params\">a-e[<span class=\"code-number\">0</span>]</span>)*<span class=\"code-params\">t</span>+<span class=\"code-params\">n</span>,<span class=\"code-params\">g</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">abs</span>(<span class=\"code-params\">e[<span class=\"code-number\">3</span>]-e[<span class=\"code-number\">1</span>]</span>)*<span class=\"code-params\">t</span>,<span class=\"code-params\">f</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">abs</span>(<span class=\"code-params\">e[<span class=\"code-number\">2</span>]-e[<span class=\"code-number\">0</span>]</span>)*<span class=\"code-params\">t</span>):(<span class=\"code-params\">u=<span class=\"code-built_in\">Math</span>.abs(a-e[<span class=\"code-number\">0</span>]</span>)*<span class=\"code-params\">t</span>+<span class=\"code-params\">s</span>,<span class=\"code-params\">p</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">abs</span>(<span class=\"code-params\">o-e[<span class=\"code-number\">1</span>]</span>)*<span class=\"code-params\">t</span>+<span class=\"code-params\">n</span>,<span class=\"code-params\">g</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">abs</span>(<span class=\"code-params\">e[<span class=\"code-number\">2</span>]-e[<span class=\"code-number\">0</span>]</span>)*<span class=\"code-params\">t</span>,<span class=\"code-params\">f</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">abs</span>(<span class=\"code-params\">e[<span class=\"code-number\">3</span>]-e[<span class=\"code-number\">1</span>]</span>)*<span class=\"code-params\">t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">transform</span>=[<span class=\"code-params\">l</span>*<span class=\"code-params\">t</span>,<span class=\"code-params\">c</span>*<span class=\"code-params\">t</span>,<span class=\"code-params\">h</span>*<span class=\"code-params\">t</span>,<span class=\"code-params\">d</span>*<span class=\"code-params\">t</span>,<span class=\"code-params\">u</span>-<span class=\"code-params\">l</span>*<span class=\"code-params\">t</span>*<span class=\"code-params\">a</span>-<span class=\"code-params\">h</span>*<span class=\"code-params\">t</span>*<span class=\"code-params\">o</span>,<span class=\"code-params\">p</span>-<span class=\"code-params\">c</span>*<span class=\"code-params\">t</span>*<span class=\"code-params\">a</span>-<span class=\"code-params\">d</span>*<span class=\"code-params\">t</span>*<span class=\"code-params\">o</span>],<span class=\"code-params\">this</span>.<span class=\"code-params\">width</span>=<span class=\"code-params\">g</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">height</span>=<span class=\"code-params\">f</span>}<span class=\"code-params\">clone</span>(<span class=\"code-params\">{scale:e=<span class=\"code-keyword\">this</span>.scale,rotation:t=<span class=\"code-keyword\">this</span>.rotation,offsetX:r=<span class=\"code-keyword\">this</span>.offsetX,offsetY:s=<span class=\"code-keyword\">this</span>.offsetY,dontFlip:n=!<span class=\"code-number\">1</span>}={}</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">new</span> <span class=\"code-params\">i</span>(<span class=\"code-params\">{viewBox:<span class=\"code-keyword\">this</span>.viewBox.slice(</span>),<span class=\"code-params\">scale</span>:<span class=\"code-params\">e</span>,<span class=\"code-params\">rotation</span>:<span class=\"code-params\">t</span>,<span class=\"code-params\">offsetX</span>:<span class=\"code-params\">r</span>,<span class=\"code-params\">offsetY</span>:<span class=\"code-params\">s</span>,<span class=\"code-params\">dontFlip</span>:<span class=\"code-params\">n</span>})}<span class=\"code-params\">convertToViewportPoint</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[e,t],<span class=\"code-keyword\">this</span>.transform</span>)}<span class=\"code-params\">convertToViewportRectangle</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[e[<span class=\"code-number\">0</span>],e[<span class=\"code-number\">1</span>]],<span class=\"code-keyword\">this</span>.transform</span>),<span class=\"code-params\">r</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[e[<span class=\"code-number\">2</span>],e[<span class=\"code-number\">3</span>]],<span class=\"code-keyword\">this</span>.transform</span>);<span class=\"code-params\">return</span>[<span class=\"code-params\">t</span>[0],<span class=\"code-params\">t</span>[1],<span class=\"code-params\">r</span>[0],<span class=\"code-params\">r</span>[1]]}<span class=\"code-params\">convertToPdfPoint</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyInverseTransform</span>(<span class=\"code-params\">[e,t],<span class=\"code-keyword\">this</span>.transform</span>)}}<span class=\"code-params\">t</span>.<span class=\"code-params\">PageViewport</span>=<span class=\"code-params\">i</span>;<span class=\"code-params\">class</span> <span class=\"code-params\">a</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">BaseException</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">type</span>=<span class=\"code-params\">t</span>}}<span class=\"code-params\">t</span>.<span class=\"code-params\">RenderingCancelledException</span>=<span class=\"code-params\">a</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">o</span>={<span class=\"code-params\">NONE</span>:0,<span class=\"code-params\">SELF</span>:1,<span class=\"code-params\">BLANK</span>:2,<span class=\"code-params\">PARENT</span>:3,<span class=\"code-params\">TOP</span>:4};<span class=\"code-params\">t</span>.<span class=\"code-params\">LinkTarget</span>=<span class=\"code-params\">o</span>;<span class=\"code-params\">function</span> <span class=\"code-params\">l</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span>\"<span class=\"code-params\">undefined</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">fetch</span>&amp;&amp;\"<span class=\"code-params\">undefined</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">Response</span>&amp;&amp;\"<span class=\"code-params\">body</span>\"<span class=\"code-params\">in</span> <span class=\"code-params\">Response</span>.<span class=\"code-params\">prototype</span>&amp;&amp;\"<span class=\"code-params\">undefined</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">ReadableStream</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">c</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">try</span>{<span class=\"code-params\">const</span>{<span class=\"code-params\">protocol</span>:<span class=\"code-params\">r</span>}=<span class=\"code-params\">t</span>?<span class=\"code-params\">new</span> <span class=\"code-params\">URL</span>(<span class=\"code-params\">e,t</span>):<span class=\"code-params\">new</span> <span class=\"code-params\">URL</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">return</span>\"<span class=\"code-params\">http</span>:\"===<span class=\"code-params\">r</span>||\"<span class=\"code-params\">https</span>:\"===<span class=\"code-params\">r</span>}<span class=\"code-params\">catch</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>!1}}<span class=\"code-params\">let</span> <span class=\"code-params\">h</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">StatTimer</span>=<span class=\"code-params\">class</span>{<span class=\"code-params\">constructor</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">started</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">times</span>=[]}<span class=\"code-params\">time</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">e</span> <span class=\"code-params\">in</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">started</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Timer is already running for \"</span>+e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">started</span>[<span class=\"code-params\">e</span>]=<span class=\"code-params\">Date</span>.<span class=\"code-params\">now</span><span class=\"code-params\">()</span>}<span class=\"code-params\">timeEnd</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">e</span> <span class=\"code-params\">in</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">started</span>||(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Timer has not been started for \"</span>+e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">times</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">{name:e,start:<span class=\"code-keyword\">this</span>.started[e],end:<span class=\"code-built_in\">Date</span>.now(</span>)}),<span class=\"code-params\">delete</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">started</span>[<span class=\"code-params\">e</span>]}<span class=\"code-params\">toString</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=[];<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">of</span> <span class=\"code-keyword\">this</span>.times</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">name</span>;<span class=\"code-params\">r</span>.<span class=\"code-params\">length</span>&gt;<span class=\"code-params\">t</span>&amp;&amp;(<span class=\"code-params\">t=r.length</span>)}<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> r <span class=\"code-keyword\">of</span> <span class=\"code-keyword\">this</span>.times</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">end</span>-<span class=\"code-params\">r</span>.<span class=\"code-params\">start</span>;<span class=\"code-params\">e</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-string\">`<span class=\"code-subst\">${r.name.padEnd(t)}</span> <span class=\"code-subst\">${s}</span>ms\\n`</span></span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\"\"</span></span>)}};<span class=\"code-params\">t</span>.<span class=\"code-params\">PDFDateString</span>=<span class=\"code-params\">class</span>{<span class=\"code-params\">static</span> <span class=\"code-params\">toDateObject</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!e||!(<span class=\"code-number\">0</span>,s.isString</span>)(<span class=\"code-params\">e</span>))<span class=\"code-params\">return</span> <span class=\"code-params\">null</span>;<span class=\"code-params\">h</span>||(<span class=\"code-params\">h=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"^D:(\\\\d{4})(\\\\d{2})?(\\\\d{2})?(\\\\d{2})?(\\\\d{2})?(\\\\d{2})?([Z|+|-])?(\\\\d{2})?'?(\\\\d{2})?'?\"</span></span>));<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">h</span>.<span class=\"code-params\">exec</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">!t</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">null</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">parseInt</span>(<span class=\"code-params\">t[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span></span>);<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">parseInt</span>(<span class=\"code-params\">t[<span class=\"code-number\">2</span>],<span class=\"code-number\">10</span></span>);<span class=\"code-params\">n</span>=<span class=\"code-params\">n</span>&gt;=1&amp;&amp;<span class=\"code-params\">n</span>&lt;=12?<span class=\"code-params\">n</span>-1:0;<span class=\"code-params\">let</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">parseInt</span>(<span class=\"code-params\">t[<span class=\"code-number\">3</span>],<span class=\"code-number\">10</span></span>);<span class=\"code-params\">i</span>=<span class=\"code-params\">i</span>&gt;=1&amp;&amp;<span class=\"code-params\">i</span>&lt;=31?<span class=\"code-params\">i</span>:1;<span class=\"code-params\">let</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">parseInt</span>(<span class=\"code-params\">t[<span class=\"code-number\">4</span>],<span class=\"code-number\">10</span></span>);<span class=\"code-params\">a</span>=<span class=\"code-params\">a</span>&gt;=0&amp;&amp;<span class=\"code-params\">a</span>&lt;=23?<span class=\"code-params\">a</span>:0;<span class=\"code-params\">let</span> <span class=\"code-params\">o</span>=<span class=\"code-params\">parseInt</span>(<span class=\"code-params\">t[<span class=\"code-number\">5</span>],<span class=\"code-number\">10</span></span>);<span class=\"code-params\">o</span>=<span class=\"code-params\">o</span>&gt;=0&amp;&amp;<span class=\"code-params\">o</span>&lt;=59?<span class=\"code-params\">o</span>:0;<span class=\"code-params\">let</span> <span class=\"code-params\">l</span>=<span class=\"code-params\">parseInt</span>(<span class=\"code-params\">t[<span class=\"code-number\">6</span>],<span class=\"code-number\">10</span></span>);<span class=\"code-params\">l</span>=<span class=\"code-params\">l</span>&gt;=0&amp;&amp;<span class=\"code-params\">l</span>&lt;=59?<span class=\"code-params\">l</span>:0;<span class=\"code-params\">const</span> <span class=\"code-params\">c</span>=<span class=\"code-params\">t</span>[7]||\"<span class=\"code-params\">Z</span>\";<span class=\"code-params\">let</span> <span class=\"code-params\">d</span>=<span class=\"code-params\">parseInt</span>(<span class=\"code-params\">t[<span class=\"code-number\">8</span>],<span class=\"code-number\">10</span></span>);<span class=\"code-params\">d</span>=<span class=\"code-params\">d</span>&gt;=0&amp;&amp;<span class=\"code-params\">d</span>&lt;=23?<span class=\"code-params\">d</span>:0;<span class=\"code-params\">let</span> <span class=\"code-params\">u</span>=<span class=\"code-params\">parseInt</span>(<span class=\"code-params\">t[<span class=\"code-number\">9</span>],<span class=\"code-number\">10</span></span>)||0;<span class=\"code-params\">return</span> <span class=\"code-params\">u</span>=<span class=\"code-params\">u</span>&gt;=0&amp;&amp;<span class=\"code-params\">u</span>&lt;=59?<span class=\"code-params\">u</span>:0,\"-\"===<span class=\"code-params\">c</span>?(<span class=\"code-params\">a+=d,o+=u</span>):\"+\"===<span class=\"code-params\">c</span>&amp;&amp;(<span class=\"code-params\">a-=d,o-=u</span>),<span class=\"code-params\">new</span> <span class=\"code-params\">Date</span>(<span class=\"code-params\"><span class=\"code-built_in\">Date</span>.UTC(r,n,i,a,o,l</span>))}}},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">arrayByteLength</span>=<span class=\"code-params\">u</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">arraysToBytes</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">1</span>===t&amp;&amp;e[<span class=\"code-number\">0</span>]<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Uint8Array</span></span>)<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>[0];<span class=\"code-params\">let</span> <span class=\"code-params\">r</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> s=<span class=\"code-number\">0</span>;s&lt;t;s++</span>)<span class=\"code-params\">r</span>+=<span class=\"code-params\">u</span>(<span class=\"code-params\">e[s]</span>);<span class=\"code-params\">let</span> <span class=\"code-params\">s</span>=0;<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> r=<span class=\"code-number\">0</span>;r&lt;t;r++</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>[<span class=\"code-params\">r</span>];<span class=\"code-params\">t</span> <span class=\"code-params\">instanceof</span> <span class=\"code-params\">Uint8Array</span>||(<span class=\"code-params\">t=<span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t?d(t</span>):<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">t</span>));<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">byteLength</span>;<span class=\"code-params\">n</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">t,s</span>),<span class=\"code-params\">s</span>+=<span class=\"code-params\">i</span>}<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>},<span class=\"code-params\">t</span>.<span class=\"code-params\">assert</span>=<span class=\"code-params\">o</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">bytesToString</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">o</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>!==e&amp;&amp;<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> e&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.length,<span class=\"code-string\">\"Invalid argument for bytesToString\"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">t&lt;<span class=\"code-number\">8192</span></span>)<span class=\"code-params\">return</span> <span class=\"code-params\">String</span>.<span class=\"code-params\">fromCharCode</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,e</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=[];<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> s=<span class=\"code-number\">0</span>;s&lt;t;s+=<span class=\"code-number\">8192</span></span>){<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">min</span>(<span class=\"code-params\">s+<span class=\"code-number\">8192</span>,t</span>),<span class=\"code-params\">i</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">subarray</span>(<span class=\"code-params\">s,n</span>);<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-built_in\">String</span>.fromCharCode.apply(<span class=\"code-literal\">null</span>,i</span>))}<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>.<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\"\"</span></span>)},<span class=\"code-params\">t</span>.<span class=\"code-params\">createPromiseCapability</span>=<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>);<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>=!1;<span class=\"code-params\">return</span> <span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">e,<span class=\"code-string\">\"settled\"</span>,{get:(</span>)=&gt;</span>t}),e.promise=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>(<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">function</span>(r,s</span>){<span class=\"code-params\">e</span>.<span class=\"code-params\">resolve</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">t</span>=!0,<span class=\"code-params\">r</span>(<span class=\"code-params\">e</span>)},<span class=\"code-params\">e</span>.<span class=\"code-params\">reject</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">t</span>=!0,<span class=\"code-params\">s</span>(<span class=\"code-params\">e</span>)}})),<span class=\"code-params\">e</span>},<span class=\"code-params\">t</span>.<span class=\"code-params\">getVerbosityLevel</span>=<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>},<span class=\"code-params\">t</span>.<span class=\"code-params\">info</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">n</span>&gt;=<span class=\"code-params\">s</span>.<span class=\"code-params\">INFOS</span>&amp;&amp;<span class=\"code-params\">console</span>.<span class=\"code-params\">log</span>(<span class=\"code-params\"><span class=\"code-string\">\"Info: \"</span>+e</span>)},<span class=\"code-params\">t</span>.<span class=\"code-params\">isArrayBuffer</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>\"<span class=\"code-params\">object</span>\"==<span class=\"code-params\">typeof</span> <span class=\"code-params\">e</span>&amp;&amp;<span class=\"code-params\">null</span>!==<span class=\"code-params\">e</span>&amp;&amp;<span class=\"code-params\">void</span> 0!==<span class=\"code-params\">e</span>.<span class=\"code-params\">byteLength</span>},<span class=\"code-params\">t</span>.<span class=\"code-params\">isArrayEqual</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">e.length!==t.length</span>)<span class=\"code-params\">return</span>!1;<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">every</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e,r</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>===<span class=\"code-params\">t</span>[<span class=\"code-params\">r</span>]}))},<span class=\"code-params\">t</span>.<span class=\"code-params\">isBool</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>\"<span class=\"code-params\">boolean</span>\"==<span class=\"code-params\">typeof</span> <span class=\"code-params\">e</span>},<span class=\"code-params\">t</span>.<span class=\"code-params\">isEmptyObj</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> t <span class=\"code-keyword\">in</span> e</span>)<span class=\"code-params\">return</span>!1;<span class=\"code-params\">return</span>!0},<span class=\"code-params\">t</span>.<span class=\"code-params\">isNum</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>\"<span class=\"code-params\">number</span>\"==<span class=\"code-params\">typeof</span> <span class=\"code-params\">e</span>},<span class=\"code-params\">t</span>.<span class=\"code-params\">isString</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>\"<span class=\"code-params\">string</span>\"==<span class=\"code-params\">typeof</span> <span class=\"code-params\">e</span>},<span class=\"code-params\">t</span>.<span class=\"code-params\">isSameOrigin</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">r</span>;<span class=\"code-params\">try</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\">r=<span class=\"code-keyword\">new</span> URL(e</span>),!<span class=\"code-params\">r</span>.<span class=\"code-params\">origin</span>||\"<span class=\"code-params\">null</span>\"===<span class=\"code-params\">r</span>.<span class=\"code-params\">origin</span>)<span class=\"code-params\">return</span>!1}<span class=\"code-params\">catch</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>!1}<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">URL</span>(<span class=\"code-params\">t,r</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>.<span class=\"code-params\">origin</span>===<span class=\"code-params\">s</span>.<span class=\"code-params\">origin</span>},<span class=\"code-params\">t</span>.<span class=\"code-params\">createValidAbsoluteUrl</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!e</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">null</span>;<span class=\"code-params\">try</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>?<span class=\"code-params\">new</span> <span class=\"code-params\">URL</span>(<span class=\"code-params\">e,t</span>):<span class=\"code-params\">new</span> <span class=\"code-params\">URL</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!e</span>)<span class=\"code-params\">return</span>!1;<span class=\"code-params\">switch</span>(<span class=\"code-params\">e.protocol</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">http</span>:\":<span class=\"code-params\">case</span>\"<span class=\"code-params\">https</span>:\":<span class=\"code-params\">case</span>\"<span class=\"code-params\">ftp</span>:\":<span class=\"code-params\">case</span>\"<span class=\"code-params\">mailto</span>:\":<span class=\"code-params\">case</span>\"<span class=\"code-params\">tel</span>:\":<span class=\"code-params\">return</span>!0;<span class=\"code-params\">default</span>:<span class=\"code-params\">return</span>!1}}(<span class=\"code-params\">r</span>))<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>}<span class=\"code-params\">catch</span>(<span class=\"code-params\">e</span>){}<span class=\"code-params\">return</span> <span class=\"code-params\">null</span>},<span class=\"code-params\">t</span>.<span class=\"code-params\">removeNullCharacters</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> e</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>(<span class=\"code-params\"><span class=\"code-string\">\"The argument for removeNullCharacters must be a string.\"</span></span>),<span class=\"code-params\">e</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">replace</span>(<span class=\"code-params\">h,<span class=\"code-string\">\"\"</span></span>)},<span class=\"code-params\">t</span>.<span class=\"code-params\">setVerbosityLevel</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">Number</span>.<span class=\"code-params\">isInteger</span>(<span class=\"code-params\">e</span>)&amp;&amp;(<span class=\"code-params\">n=e</span>)},<span class=\"code-params\">t</span>.<span class=\"code-params\">shadow</span>=<span class=\"code-params\">l</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">string32</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">String</span>.<span class=\"code-params\">fromCharCode</span>(<span class=\"code-params\">e&gt;&gt;<span class=\"code-number\">24</span>&amp;<span class=\"code-number\">255</span>,e&gt;&gt;<span class=\"code-number\">16</span>&amp;<span class=\"code-number\">255</span>,e&gt;&gt;<span class=\"code-number\">8</span>&amp;<span class=\"code-number\">255</span>,<span class=\"code-number\">255</span>&amp;e</span>)},<span class=\"code-params\">t</span>.<span class=\"code-params\">stringToBytes</span>=<span class=\"code-params\">d</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">stringToPDFString</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>,<span class=\"code-params\">r</span>=[];<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"\u00FE\"</span>===e[<span class=\"code-number\">0</span>]&amp;&amp;<span class=\"code-string\">\"\u00FF\"</span>===e[<span class=\"code-number\">1</span>]</span>)<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> s=<span class=\"code-number\">2</span>;s&lt;t;s+=<span class=\"code-number\">2</span></span>)<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-built_in\">String</span>.fromCharCode(e.charCodeAt(s</span>)&lt;&lt;8|<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\">s+<span class=\"code-number\">1</span></span>)));<span class=\"code-params\">else</span> <span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"\u00FF\"</span>===e[<span class=\"code-number\">0</span>]&amp;&amp;<span class=\"code-string\">\"\u00FE\"</span>===e[<span class=\"code-number\">1</span>]</span>)<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> s=<span class=\"code-number\">2</span>;s&lt;t;s+=<span class=\"code-number\">2</span></span>)<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-built_in\">String</span>.fromCharCode(e.charCodeAt(s+<span class=\"code-number\">1</span></span>)&lt;&lt;8|<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\">s</span>)));<span class=\"code-params\">else</span> <span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> s=<span class=\"code-number\">0</span>;s&lt;t;++s</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">A</span>[<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\">s</span>)];<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">t?<span class=\"code-built_in\">String</span>.fromCharCode(t</span>):<span class=\"code-params\">e</span>.<span class=\"code-params\">charAt</span>(<span class=\"code-params\">s</span>))}<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>.<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\"\"</span></span>)},<span class=\"code-params\">t</span>.<span class=\"code-params\">stringToUTF8String</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">decodeURIComponent</span>(<span class=\"code-params\"><span class=\"code-built_in\">escape</span>(e</span>))},<span class=\"code-params\">t</span>.<span class=\"code-params\">utf8StringToString</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">unescape</span>(<span class=\"code-params\"><span class=\"code-built_in\">encodeURIComponent</span>(e</span>))},<span class=\"code-params\">t</span>.<span class=\"code-params\">warn</span>=<span class=\"code-params\">i</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">unreachable</span>=<span class=\"code-params\">a</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">IsEvalSupportedCached</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">IsLittleEndianCached</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">createObjectURL</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">FormatError</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">Util</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">UnknownErrorException</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">UnexpectedResponseException</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">TextRenderingMode</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">StreamType</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">PermissionFlag</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">PasswordResponses</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">PasswordException</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">MissingPDFException</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">InvalidPDFException</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">AbortException</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">CMapCompressionType</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">ImageKind</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">FontType</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationType</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationStateModelType</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationReviewState</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationReplyType</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationMarkedState</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationFlag</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationFieldFlag</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationBorderStyleType</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">UNSUPPORTED_FEATURES</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">VerbosityLevel</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">OPS</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">IDENTITY_MATRIX</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">FONT_IDENTITY_MATRIX</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">BaseException</span>=<span class=\"code-params\">void</span> 0,<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">3</span></span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">IDENTITY_MATRIX</span>=[1,0,0,1,0,0];<span class=\"code-params\">t</span>.<span class=\"code-params\">FONT_IDENTITY_MATRIX</span>=[.001,0,0,.001,0,0];<span class=\"code-params\">t</span>.<span class=\"code-params\">PermissionFlag</span>={<span class=\"code-params\">PRINT</span>:4,<span class=\"code-params\">MODIFY_CONTENTS</span>:8,<span class=\"code-params\">COPY</span>:16,<span class=\"code-params\">MODIFY_ANNOTATIONS</span>:32,<span class=\"code-params\">FILL_INTERACTIVE_FORMS</span>:256,<span class=\"code-params\">COPY_FOR_ACCESSIBILITY</span>:512,<span class=\"code-params\">ASSEMBLE</span>:1024,<span class=\"code-params\">PRINT_HIGH_QUALITY</span>:2048};<span class=\"code-params\">t</span>.<span class=\"code-params\">TextRenderingMode</span>={<span class=\"code-params\">FILL</span>:0,<span class=\"code-params\">STROKE</span>:1,<span class=\"code-params\">FILL_STROKE</span>:2,<span class=\"code-params\">INVISIBLE</span>:3,<span class=\"code-params\">FILL_ADD_TO_PATH</span>:4,<span class=\"code-params\">STROKE_ADD_TO_PATH</span>:5,<span class=\"code-params\">FILL_STROKE_ADD_TO_PATH</span>:6,<span class=\"code-params\">ADD_TO_PATH</span>:7,<span class=\"code-params\">FILL_STROKE_MASK</span>:3,<span class=\"code-params\">ADD_TO_PATH_FLAG</span>:4};<span class=\"code-params\">t</span>.<span class=\"code-params\">ImageKind</span>={<span class=\"code-params\">GRAYSCALE_1BPP</span>:1,<span class=\"code-params\">RGB_24BPP</span>:2,<span class=\"code-params\">RGBA_32BPP</span>:3};<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationType</span>={<span class=\"code-params\">TEXT</span>:1,<span class=\"code-params\">LINK</span>:2,<span class=\"code-params\">FREETEXT</span>:3,<span class=\"code-params\">LINE</span>:4,<span class=\"code-params\">SQUARE</span>:5,<span class=\"code-params\">CIRCLE</span>:6,<span class=\"code-params\">POLYGON</span>:7,<span class=\"code-params\">POLYLINE</span>:8,<span class=\"code-params\">HIGHLIGHT</span>:9,<span class=\"code-params\">UNDERLINE</span>:10,<span class=\"code-params\">SQUIGGLY</span>:11,<span class=\"code-params\">STRIKEOUT</span>:12,<span class=\"code-params\">STAMP</span>:13,<span class=\"code-params\">CARET</span>:14,<span class=\"code-params\">INK</span>:15,<span class=\"code-params\">POPUP</span>:16,<span class=\"code-params\">FILEATTACHMENT</span>:17,<span class=\"code-params\">SOUND</span>:18,<span class=\"code-params\">MOVIE</span>:19,<span class=\"code-params\">WIDGET</span>:20,<span class=\"code-params\">SCREEN</span>:21,<span class=\"code-params\">PRINTERMARK</span>:22,<span class=\"code-params\">TRAPNET</span>:23,<span class=\"code-params\">WATERMARK</span>:24,<span class=\"code-params\">THREED</span>:25,<span class=\"code-params\">REDACT</span>:26};<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationStateModelType</span>={<span class=\"code-params\">MARKED</span>:\"<span class=\"code-params\">Marked</span>\",<span class=\"code-params\">REVIEW</span>:\"<span class=\"code-params\">Review</span>\"};<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationMarkedState</span>={<span class=\"code-params\">MARKED</span>:\"<span class=\"code-params\">Marked</span>\",<span class=\"code-params\">UNMARKED</span>:\"<span class=\"code-params\">Unmarked</span>\"};<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationReviewState</span>={<span class=\"code-params\">ACCEPTED</span>:\"<span class=\"code-params\">Accepted</span>\",<span class=\"code-params\">REJECTED</span>:\"<span class=\"code-params\">Rejected</span>\",<span class=\"code-params\">CANCELLED</span>:\"<span class=\"code-params\">Cancelled</span>\",<span class=\"code-params\">COMPLETED</span>:\"<span class=\"code-params\">Completed</span>\",<span class=\"code-params\">NONE</span>:\"<span class=\"code-params\">None</span>\"};<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationReplyType</span>={<span class=\"code-params\">GROUP</span>:\"<span class=\"code-params\">Group</span>\",<span class=\"code-params\">REPLY</span>:\"<span class=\"code-params\">R</span>\"};<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationFlag</span>={<span class=\"code-params\">INVISIBLE</span>:1,<span class=\"code-params\">HIDDEN</span>:2,<span class=\"code-params\">PRINT</span>:4,<span class=\"code-params\">NOZOOM</span>:8,<span class=\"code-params\">NOROTATE</span>:16,<span class=\"code-params\">NOVIEW</span>:32,<span class=\"code-params\">READONLY</span>:64,<span class=\"code-params\">LOCKED</span>:128,<span class=\"code-params\">TOGGLENOVIEW</span>:256,<span class=\"code-params\">LOCKEDCONTENTS</span>:512};<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationFieldFlag</span>={<span class=\"code-params\">READONLY</span>:1,<span class=\"code-params\">REQUIRED</span>:2,<span class=\"code-params\">NOEXPORT</span>:4,<span class=\"code-params\">MULTILINE</span>:4096,<span class=\"code-params\">PASSWORD</span>:8192,<span class=\"code-params\">NOTOGGLETOOFF</span>:16384,<span class=\"code-params\">RADIO</span>:32768,<span class=\"code-params\">PUSHBUTTON</span>:65536,<span class=\"code-params\">COMBO</span>:131072,<span class=\"code-params\">EDIT</span>:262144,<span class=\"code-params\">SORT</span>:524288,<span class=\"code-params\">FILESELECT</span>:1048576,<span class=\"code-params\">MULTISELECT</span>:2097152,<span class=\"code-params\">DONOTSPELLCHECK</span>:4194304,<span class=\"code-params\">DONOTSCROLL</span>:8388608,<span class=\"code-params\">COMB</span>:16777216,<span class=\"code-params\">RICHTEXT</span>:33554432,<span class=\"code-params\">RADIOSINUNISON</span>:33554432,<span class=\"code-params\">COMMITONSELCHANGE</span>:67108864};<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationBorderStyleType</span>={<span class=\"code-params\">SOLID</span>:1,<span class=\"code-params\">DASHED</span>:2,<span class=\"code-params\">BEVELED</span>:3,<span class=\"code-params\">INSET</span>:4,<span class=\"code-params\">UNDERLINE</span>:5};<span class=\"code-params\">t</span>.<span class=\"code-params\">StreamType</span>={<span class=\"code-params\">UNKNOWN</span>:\"<span class=\"code-params\">UNKNOWN</span>\",<span class=\"code-params\">FLATE</span>:\"<span class=\"code-params\">FLATE</span>\",<span class=\"code-params\">LZW</span>:\"<span class=\"code-params\">LZW</span>\",<span class=\"code-params\">DCT</span>:\"<span class=\"code-params\">DCT</span>\",<span class=\"code-params\">JPX</span>:\"<span class=\"code-params\">JPX</span>\",<span class=\"code-params\">JBIG</span>:\"<span class=\"code-params\">JBIG</span>\",<span class=\"code-params\">A85</span>:\"<span class=\"code-params\">A85</span>\",<span class=\"code-params\">AHX</span>:\"<span class=\"code-params\">AHX</span>\",<span class=\"code-params\">CCF</span>:\"<span class=\"code-params\">CCF</span>\",<span class=\"code-params\">RLX</span>:\"<span class=\"code-params\">RLX</span>\"};<span class=\"code-params\">t</span>.<span class=\"code-params\">FontType</span>={<span class=\"code-params\">UNKNOWN</span>:\"<span class=\"code-params\">UNKNOWN</span>\",<span class=\"code-params\">TYPE1</span>:\"<span class=\"code-params\">TYPE1</span>\",<span class=\"code-params\">TYPE1C</span>:\"<span class=\"code-params\">TYPE1C</span>\",<span class=\"code-params\">CIDFONTTYPE0</span>:\"<span class=\"code-params\">CIDFONTTYPE0</span>\",<span class=\"code-params\">CIDFONTTYPE0C</span>:\"<span class=\"code-params\">CIDFONTTYPE0C</span>\",<span class=\"code-params\">TRUETYPE</span>:\"<span class=\"code-params\">TRUETYPE</span>\",<span class=\"code-params\">CIDFONTTYPE2</span>:\"<span class=\"code-params\">CIDFONTTYPE2</span>\",<span class=\"code-params\">TYPE3</span>:\"<span class=\"code-params\">TYPE3</span>\",<span class=\"code-params\">OPENTYPE</span>:\"<span class=\"code-params\">OPENTYPE</span>\",<span class=\"code-params\">TYPE0</span>:\"<span class=\"code-params\">TYPE0</span>\",<span class=\"code-params\">MMTYPE1</span>:\"<span class=\"code-params\">MMTYPE1</span>\"};<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>={<span class=\"code-params\">ERRORS</span>:0,<span class=\"code-params\">WARNINGS</span>:1,<span class=\"code-params\">INFOS</span>:5};<span class=\"code-params\">t</span>.<span class=\"code-params\">VerbosityLevel</span>=<span class=\"code-params\">s</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">CMapCompressionType</span>={<span class=\"code-params\">NONE</span>:0,<span class=\"code-params\">BINARY</span>:1,<span class=\"code-params\">STREAM</span>:2};<span class=\"code-params\">t</span>.<span class=\"code-params\">OPS</span>={<span class=\"code-params\">dependency</span>:1,<span class=\"code-params\">setLineWidth</span>:2,<span class=\"code-params\">setLineCap</span>:3,<span class=\"code-params\">setLineJoin</span>:4,<span class=\"code-params\">setMiterLimit</span>:5,<span class=\"code-params\">setDash</span>:6,<span class=\"code-params\">setRenderingIntent</span>:7,<span class=\"code-params\">setFlatness</span>:8,<span class=\"code-params\">setGState</span>:9,<span class=\"code-params\">save</span>:10,<span class=\"code-params\">restore</span>:11,<span class=\"code-params\">transform</span>:12,<span class=\"code-params\">moveTo</span>:13,<span class=\"code-params\">lineTo</span>:14,<span class=\"code-params\">curveTo</span>:15,<span class=\"code-params\">curveTo2</span>:16,<span class=\"code-params\">curveTo3</span>:17,<span class=\"code-params\">closePath</span>:18,<span class=\"code-params\">rectangle</span>:19,<span class=\"code-params\">stroke</span>:20,<span class=\"code-params\">closeStroke</span>:21,<span class=\"code-params\">fill</span>:22,<span class=\"code-params\">eoFill</span>:23,<span class=\"code-params\">fillStroke</span>:24,<span class=\"code-params\">eoFillStroke</span>:25,<span class=\"code-params\">closeFillStroke</span>:26,<span class=\"code-params\">closeEOFillStroke</span>:27,<span class=\"code-params\">endPath</span>:28,<span class=\"code-params\">clip</span>:29,<span class=\"code-params\">eoClip</span>:30,<span class=\"code-params\">beginText</span>:31,<span class=\"code-params\">endText</span>:32,<span class=\"code-params\">setCharSpacing</span>:33,<span class=\"code-params\">setWordSpacing</span>:34,<span class=\"code-params\">setHScale</span>:35,<span class=\"code-params\">setLeading</span>:36,<span class=\"code-params\">setFont</span>:37,<span class=\"code-params\">setTextRenderingMode</span>:38,<span class=\"code-params\">setTextRise</span>:39,<span class=\"code-params\">moveText</span>:40,<span class=\"code-params\">setLeadingMoveText</span>:41,<span class=\"code-params\">setTextMatrix</span>:42,<span class=\"code-params\">nextLine</span>:43,<span class=\"code-params\">showText</span>:44,<span class=\"code-params\">showSpacedText</span>:45,<span class=\"code-params\">nextLineShowText</span>:46,<span class=\"code-params\">nextLineSetSpacingShowText</span>:47,<span class=\"code-params\">setCharWidth</span>:48,<span class=\"code-params\">setCharWidthAndBounds</span>:49,<span class=\"code-params\">setStrokeColorSpace</span>:50,<span class=\"code-params\">setFillColorSpace</span>:51,<span class=\"code-params\">setStrokeColor</span>:52,<span class=\"code-params\">setStrokeColorN</span>:53,<span class=\"code-params\">setFillColor</span>:54,<span class=\"code-params\">setFillColorN</span>:55,<span class=\"code-params\">setStrokeGray</span>:56,<span class=\"code-params\">setFillGray</span>:57,<span class=\"code-params\">setStrokeRGBColor</span>:58,<span class=\"code-params\">setFillRGBColor</span>:59,<span class=\"code-params\">setStrokeCMYKColor</span>:60,<span class=\"code-params\">setFillCMYKColor</span>:61,<span class=\"code-params\">shadingFill</span>:62,<span class=\"code-params\">beginInlineImage</span>:63,<span class=\"code-params\">beginImageData</span>:64,<span class=\"code-params\">endInlineImage</span>:65,<span class=\"code-params\">paintXObject</span>:66,<span class=\"code-params\">markPoint</span>:67,<span class=\"code-params\">markPointProps</span>:68,<span class=\"code-params\">beginMarkedContent</span>:69,<span class=\"code-params\">beginMarkedContentProps</span>:70,<span class=\"code-params\">endMarkedContent</span>:71,<span class=\"code-params\">beginCompat</span>:72,<span class=\"code-params\">endCompat</span>:73,<span class=\"code-params\">paintFormXObjectBegin</span>:74,<span class=\"code-params\">paintFormXObjectEnd</span>:75,<span class=\"code-params\">beginGroup</span>:76,<span class=\"code-params\">endGroup</span>:77,<span class=\"code-params\">beginAnnotations</span>:78,<span class=\"code-params\">endAnnotations</span>:79,<span class=\"code-params\">beginAnnotation</span>:80,<span class=\"code-params\">endAnnotation</span>:81,<span class=\"code-params\">paintJpegXObject</span>:82,<span class=\"code-params\">paintImageMaskXObject</span>:83,<span class=\"code-params\">paintImageMaskXObjectGroup</span>:84,<span class=\"code-params\">paintImageXObject</span>:85,<span class=\"code-params\">paintInlineImageXObject</span>:86,<span class=\"code-params\">paintInlineImageXObjectGroup</span>:87,<span class=\"code-params\">paintImageXObjectRepeat</span>:88,<span class=\"code-params\">paintImageMaskXObjectRepeat</span>:89,<span class=\"code-params\">paintSolidColorImageMask</span>:90,<span class=\"code-params\">constructPath</span>:91};<span class=\"code-params\">t</span>.<span class=\"code-params\">UNSUPPORTED_FEATURES</span>={<span class=\"code-params\">unknown</span>:\"<span class=\"code-params\">unknown</span>\",<span class=\"code-params\">forms</span>:\"<span class=\"code-params\">forms</span>\",<span class=\"code-params\">javaScript</span>:\"<span class=\"code-params\">javaScript</span>\",<span class=\"code-params\">smask</span>:\"<span class=\"code-params\">smask</span>\",<span class=\"code-params\">shadingPattern</span>:\"<span class=\"code-params\">shadingPattern</span>\",<span class=\"code-params\">font</span>:\"<span class=\"code-params\">font</span>\",<span class=\"code-params\">errorTilingPattern</span>:\"<span class=\"code-params\">errorTilingPattern</span>\",<span class=\"code-params\">errorExtGState</span>:\"<span class=\"code-params\">errorExtGState</span>\",<span class=\"code-params\">errorXObject</span>:\"<span class=\"code-params\">errorXObject</span>\",<span class=\"code-params\">errorFontLoadType3</span>:\"<span class=\"code-params\">errorFontLoadType3</span>\",<span class=\"code-params\">errorFontState</span>:\"<span class=\"code-params\">errorFontState</span>\",<span class=\"code-params\">errorFontMissing</span>:\"<span class=\"code-params\">errorFontMissing</span>\",<span class=\"code-params\">errorFontTranslate</span>:\"<span class=\"code-params\">errorFontTranslate</span>\",<span class=\"code-params\">errorColorSpace</span>:\"<span class=\"code-params\">errorColorSpace</span>\",<span class=\"code-params\">errorOperatorList</span>:\"<span class=\"code-params\">errorOperatorList</span>\",<span class=\"code-params\">errorFontToUnicode</span>:\"<span class=\"code-params\">errorFontToUnicode</span>\",<span class=\"code-params\">errorFontLoadNative</span>:\"<span class=\"code-params\">errorFontLoadNative</span>\",<span class=\"code-params\">errorFontGetPath</span>:\"<span class=\"code-params\">errorFontGetPath</span>\"};<span class=\"code-params\">t</span>.<span class=\"code-params\">PasswordResponses</span>={<span class=\"code-params\">NEED_PASSWORD</span>:1,<span class=\"code-params\">INCORRECT_PASSWORD</span>:2};<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">WARNINGS</span>;<span class=\"code-params\">function</span> <span class=\"code-params\">i</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">n</span>&gt;=<span class=\"code-params\">s</span>.<span class=\"code-params\">WARNINGS</span>&amp;&amp;<span class=\"code-params\">console</span>.<span class=\"code-params\">log</span>(<span class=\"code-params\"><span class=\"code-string\">\"Warning: \"</span>+e</span>)}<span class=\"code-params\">function</span> <span class=\"code-params\">a</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">function</span> <span class=\"code-params\">o</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">e</span>||<span class=\"code-params\">a</span>(<span class=\"code-params\">t</span>)}<span class=\"code-params\">function</span> <span class=\"code-params\">l</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">e,t,{value:r,enumerable:!<span class=\"code-number\">0</span>,configurable:!<span class=\"code-number\">0</span>,writable:!<span class=\"code-number\">1</span>}</span>),<span class=\"code-params\">r</span>}<span class=\"code-params\">const</span> <span class=\"code-params\">c</span>=<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">function</span> <span class=\"code-params\">e</span>(<span class=\"code-params\">t</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">constructor</span>===<span class=\"code-params\">e</span>&amp;&amp;<span class=\"code-params\">a</span>(<span class=\"code-params\"><span class=\"code-string\">\"Cannot initialize BaseException.\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">message</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">name</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">constructor</span>.<span class=\"code-params\">name</span>}<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">prototype</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">constructor</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">e</span>}<span class=\"code-params\">()</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">BaseException</span>=<span class=\"code-params\">c</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">PasswordException</span>=<span class=\"code-params\">class</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">c</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">code</span>=<span class=\"code-params\">t</span>}};<span class=\"code-params\">t</span>.<span class=\"code-params\">UnknownErrorException</span>=<span class=\"code-params\">class</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">c</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">details</span>=<span class=\"code-params\">t</span>}};<span class=\"code-params\">t</span>.<span class=\"code-params\">InvalidPDFException</span>=<span class=\"code-params\">class</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">c</span>{};<span class=\"code-params\">t</span>.<span class=\"code-params\">MissingPDFException</span>=<span class=\"code-params\">class</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">c</span>{};<span class=\"code-params\">t</span>.<span class=\"code-params\">UnexpectedResponseException</span>=<span class=\"code-params\">class</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">c</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">status</span>=<span class=\"code-params\">t</span>}};<span class=\"code-params\">t</span>.<span class=\"code-params\">FormatError</span>=<span class=\"code-params\">class</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">c</span>{};<span class=\"code-params\">t</span>.<span class=\"code-params\">AbortException</span>=<span class=\"code-params\">class</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">c</span>{};<span class=\"code-params\">const</span> <span class=\"code-params\">h</span>=/\\<span class=\"code-params\">x00</span>/<span class=\"code-params\">g</span>;<span class=\"code-params\">function</span> <span class=\"code-params\">d</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">o</span>(<span class=\"code-params\"><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e,<span class=\"code-string\">\"Invalid argument for stringToBytes\"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">t</span>);<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> s=<span class=\"code-number\">0</span>;s&lt;t;++s</span>)<span class=\"code-params\">r</span>[<span class=\"code-params\">s</span>]=255&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\">s</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">u</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> 0!==<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>?<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>:(<span class=\"code-params\">o(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e.byteLength,<span class=\"code-string\">\"arrayByteLength - invalid argument.\"</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">byteLength</span>)}<span class=\"code-params\">const</span> <span class=\"code-params\">p</span>={<span class=\"code-params\">get</span> <span class=\"code-params\">value</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">l</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"value\"</span>,<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\"><span class=\"code-number\">4</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>[0]=1,1===<span class=\"code-params\">new</span> <span class=\"code-params\">Uint32Array</span>(<span class=\"code-params\">e.buffer,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span></span>)[0]}<span class=\"code-params\">()</span>)}};<span class=\"code-params\">t</span>.<span class=\"code-params\">IsLittleEndianCached</span>=<span class=\"code-params\">p</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">g</span>={<span class=\"code-params\">get</span> <span class=\"code-params\">value</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">l</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"value\"</span>,<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">try</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Function</span>(<span class=\"code-params\"><span class=\"code-string\">\"\"</span></span>),!0}<span class=\"code-params\">catch</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>!1}}<span class=\"code-params\">()</span>)}};<span class=\"code-params\">t</span>.<span class=\"code-params\">IsEvalSupportedCached</span>=<span class=\"code-params\">g</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">f</span>=[\"<span class=\"code-params\">rgb</span>(<span class=\"code-params\"><span class=\"code-string\">\",0,\"</span>,<span class=\"code-string\">\",0,\"</span>,<span class=\"code-string\">\",0,\"</span></span>)\"];<span class=\"code-params\">class</span> <span class=\"code-params\">m</span>{<span class=\"code-params\">static</span> <span class=\"code-params\">makeCssRgb</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">f</span>[1]=<span class=\"code-params\">e</span>,<span class=\"code-params\">f</span>[3]=<span class=\"code-params\">t</span>,<span class=\"code-params\">f</span>[5]=<span class=\"code-params\">r</span>,<span class=\"code-params\">f</span>.<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\"\"</span></span>)}<span class=\"code-params\">static</span> <span class=\"code-params\">transform</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">return</span>[<span class=\"code-params\">e</span>[0]*<span class=\"code-params\">t</span>[0]+<span class=\"code-params\">e</span>[2]*<span class=\"code-params\">t</span>[1],<span class=\"code-params\">e</span>[1]*<span class=\"code-params\">t</span>[0]+<span class=\"code-params\">e</span>[3]*<span class=\"code-params\">t</span>[1],<span class=\"code-params\">e</span>[0]*<span class=\"code-params\">t</span>[2]+<span class=\"code-params\">e</span>[2]*<span class=\"code-params\">t</span>[3],<span class=\"code-params\">e</span>[1]*<span class=\"code-params\">t</span>[2]+<span class=\"code-params\">e</span>[3]*<span class=\"code-params\">t</span>[3],<span class=\"code-params\">e</span>[0]*<span class=\"code-params\">t</span>[4]+<span class=\"code-params\">e</span>[2]*<span class=\"code-params\">t</span>[5]+<span class=\"code-params\">e</span>[4],<span class=\"code-params\">e</span>[1]*<span class=\"code-params\">t</span>[4]+<span class=\"code-params\">e</span>[3]*<span class=\"code-params\">t</span>[5]+<span class=\"code-params\">e</span>[5]]}<span class=\"code-params\">static</span> <span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">return</span>[<span class=\"code-params\">e</span>[0]*<span class=\"code-params\">t</span>[0]+<span class=\"code-params\">e</span>[1]*<span class=\"code-params\">t</span>[2]+<span class=\"code-params\">t</span>[4],<span class=\"code-params\">e</span>[0]*<span class=\"code-params\">t</span>[1]+<span class=\"code-params\">e</span>[1]*<span class=\"code-params\">t</span>[3]+<span class=\"code-params\">t</span>[5]]}<span class=\"code-params\">static</span> <span class=\"code-params\">applyInverseTransform</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>[0]*<span class=\"code-params\">t</span>[3]-<span class=\"code-params\">t</span>[1]*<span class=\"code-params\">t</span>[2];<span class=\"code-params\">return</span>[(<span class=\"code-params\">e[<span class=\"code-number\">0</span>]*t[<span class=\"code-number\">3</span>]-e[<span class=\"code-number\">1</span>]*t[<span class=\"code-number\">2</span>]+t[<span class=\"code-number\">2</span>]*t[<span class=\"code-number\">5</span>]-t[<span class=\"code-number\">4</span>]*t[<span class=\"code-number\">3</span>]</span>)/<span class=\"code-params\">r</span>,(<span class=\"code-params\">-e[<span class=\"code-number\">0</span>]*t[<span class=\"code-number\">1</span>]+e[<span class=\"code-number\">1</span>]*t[<span class=\"code-number\">0</span>]+t[<span class=\"code-number\">4</span>]*t[<span class=\"code-number\">1</span>]-t[<span class=\"code-number\">5</span>]*t[<span class=\"code-number\">0</span>]</span>)/<span class=\"code-params\">r</span>]}<span class=\"code-params\">static</span> <span class=\"code-params\">getAxialAlignedBoundingBox</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">m</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">e,t</span>),<span class=\"code-params\">s</span>=<span class=\"code-params\">m</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">e.slice(<span class=\"code-number\">2</span>,<span class=\"code-number\">4</span></span>),<span class=\"code-params\">t</span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">m</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[e[<span class=\"code-number\">0</span>],e[<span class=\"code-number\">3</span>]],t</span>),<span class=\"code-params\">i</span>=<span class=\"code-params\">m</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[e[<span class=\"code-number\">2</span>],e[<span class=\"code-number\">1</span>]],t</span>);<span class=\"code-params\">return</span>[<span class=\"code-params\">Math</span>.<span class=\"code-params\">min</span>(<span class=\"code-params\">r[<span class=\"code-number\">0</span>],s[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">0</span>],i[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">Math</span>.<span class=\"code-params\">min</span>(<span class=\"code-params\">r[<span class=\"code-number\">1</span>],s[<span class=\"code-number\">1</span>],n[<span class=\"code-number\">1</span>],i[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\">r[<span class=\"code-number\">0</span>],s[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">0</span>],i[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\">r[<span class=\"code-number\">1</span>],s[<span class=\"code-number\">1</span>],n[<span class=\"code-number\">1</span>],i[<span class=\"code-number\">1</span>]</span>)]}<span class=\"code-params\">static</span> <span class=\"code-params\">inverseTransform</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>[0]*<span class=\"code-params\">e</span>[3]-<span class=\"code-params\">e</span>[1]*<span class=\"code-params\">e</span>[2];<span class=\"code-params\">return</span>[<span class=\"code-params\">e</span>[3]/<span class=\"code-params\">t</span>,-<span class=\"code-params\">e</span>[1]/<span class=\"code-params\">t</span>,-<span class=\"code-params\">e</span>[2]/<span class=\"code-params\">t</span>,<span class=\"code-params\">e</span>[0]/<span class=\"code-params\">t</span>,(<span class=\"code-params\">e[<span class=\"code-number\">2</span>]*e[<span class=\"code-number\">5</span>]-e[<span class=\"code-number\">4</span>]*e[<span class=\"code-number\">3</span>]</span>)/<span class=\"code-params\">t</span>,(<span class=\"code-params\">e[<span class=\"code-number\">4</span>]*e[<span class=\"code-number\">1</span>]-e[<span class=\"code-number\">5</span>]*e[<span class=\"code-number\">0</span>]</span>)/<span class=\"code-params\">t</span>]}<span class=\"code-params\">static</span> <span class=\"code-params\">apply3dTransform</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">return</span>[<span class=\"code-params\">e</span>[0]*<span class=\"code-params\">t</span>[0]+<span class=\"code-params\">e</span>[1]*<span class=\"code-params\">t</span>[1]+<span class=\"code-params\">e</span>[2]*<span class=\"code-params\">t</span>[2],<span class=\"code-params\">e</span>[3]*<span class=\"code-params\">t</span>[0]+<span class=\"code-params\">e</span>[4]*<span class=\"code-params\">t</span>[1]+<span class=\"code-params\">e</span>[5]*<span class=\"code-params\">t</span>[2],<span class=\"code-params\">e</span>[6]*<span class=\"code-params\">t</span>[0]+<span class=\"code-params\">e</span>[7]*<span class=\"code-params\">t</span>[1]+<span class=\"code-params\">e</span>[8]*<span class=\"code-params\">t</span>[2]]}<span class=\"code-params\">static</span> <span class=\"code-params\">singularValueDecompose2dScale</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=[<span class=\"code-params\">e</span>[0],<span class=\"code-params\">e</span>[2],<span class=\"code-params\">e</span>[1],<span class=\"code-params\">e</span>[3]],<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>[0]*<span class=\"code-params\">t</span>[0]+<span class=\"code-params\">e</span>[1]*<span class=\"code-params\">t</span>[2],<span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>[0]*<span class=\"code-params\">t</span>[1]+<span class=\"code-params\">e</span>[1]*<span class=\"code-params\">t</span>[3],<span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>[2]*<span class=\"code-params\">t</span>[0]+<span class=\"code-params\">e</span>[3]*<span class=\"code-params\">t</span>[2],<span class=\"code-params\">i</span>=<span class=\"code-params\">e</span>[2]*<span class=\"code-params\">t</span>[1]+<span class=\"code-params\">e</span>[3]*<span class=\"code-params\">t</span>[3],<span class=\"code-params\">a</span>=(<span class=\"code-params\">r+i</span>)/2,<span class=\"code-params\">o</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">sqrt</span>(<span class=\"code-params\">(r+i</span>)*(<span class=\"code-params\">r+i</span>)-4*(<span class=\"code-params\">r*i-n*s</span>))/2,<span class=\"code-params\">l</span>=<span class=\"code-params\">a</span>+<span class=\"code-params\">o</span>||1,<span class=\"code-params\">c</span>=<span class=\"code-params\">a</span>-<span class=\"code-params\">o</span>||1;<span class=\"code-params\">return</span>[<span class=\"code-params\">Math</span>.<span class=\"code-params\">sqrt</span>(<span class=\"code-params\">l</span>),<span class=\"code-params\">Math</span>.<span class=\"code-params\">sqrt</span>(<span class=\"code-params\">c</span>)]}<span class=\"code-params\">static</span> <span class=\"code-params\">normalizeRect</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">slice</span>(<span class=\"code-params\"><span class=\"code-number\">0</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>[0]&gt;<span class=\"code-params\">e</span>[2]&amp;&amp;(<span class=\"code-params\">t[<span class=\"code-number\">0</span>]=e[<span class=\"code-number\">2</span>],t[<span class=\"code-number\">2</span>]=e[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">e</span>[1]&gt;<span class=\"code-params\">e</span>[3]&amp;&amp;(<span class=\"code-params\">t[<span class=\"code-number\">1</span>]=e[<span class=\"code-number\">3</span>],t[<span class=\"code-number\">3</span>]=e[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">t</span>}<span class=\"code-params\">static</span> <span class=\"code-params\">intersect</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">function</span> <span class=\"code-params\">r</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>-<span class=\"code-params\">t</span>}<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=[<span class=\"code-params\">e</span>[0],<span class=\"code-params\">e</span>[2],<span class=\"code-params\">t</span>[0],<span class=\"code-params\">t</span>[2]].<span class=\"code-params\">sort</span>(<span class=\"code-params\">r</span>),<span class=\"code-params\">n</span>=[<span class=\"code-params\">e</span>[1],<span class=\"code-params\">e</span>[3],<span class=\"code-params\">t</span>[1],<span class=\"code-params\">t</span>[3]].<span class=\"code-params\">sort</span>(<span class=\"code-params\">r</span>),<span class=\"code-params\">i</span>=[];<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">m</span>.<span class=\"code-params\">normalizeRect</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">t</span>=<span class=\"code-params\">m</span>.<span class=\"code-params\">normalizeRect</span>(<span class=\"code-params\">t</span>),<span class=\"code-params\">s</span>[0]===<span class=\"code-params\">e</span>[0]&amp;&amp;<span class=\"code-params\">s</span>[1]===<span class=\"code-params\">t</span>[0]||<span class=\"code-params\">s</span>[0]===<span class=\"code-params\">t</span>[0]&amp;&amp;<span class=\"code-params\">s</span>[1]===<span class=\"code-params\">e</span>[0]?(<span class=\"code-params\">i[<span class=\"code-number\">0</span>]=s[<span class=\"code-number\">1</span>],i[<span class=\"code-number\">2</span>]=s[<span class=\"code-number\">2</span>],n[<span class=\"code-number\">0</span>]===e[<span class=\"code-number\">1</span>]&amp;&amp;n[<span class=\"code-number\">1</span>]===t[<span class=\"code-number\">1</span>]||n[<span class=\"code-number\">0</span>]===t[<span class=\"code-number\">1</span>]&amp;&amp;n[<span class=\"code-number\">1</span>]===e[<span class=\"code-number\">1</span>]?(i[<span class=\"code-number\">1</span>]=n[<span class=\"code-number\">1</span>],i[<span class=\"code-number\">3</span>]=n[<span class=\"code-number\">2</span>],i</span>):<span class=\"code-params\">null</span>):<span class=\"code-params\">null</span>}}<span class=\"code-params\">t</span>.<span class=\"code-params\">Util</span>=<span class=\"code-params\">m</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">A</span>=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];<span class=\"code-params\">const</span> <span class=\"code-params\">b</span>=<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=\"<span class=\"code-params\">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789</span>+/=\";<span class=\"code-params\">return</span> <span class=\"code-params\">function</span>(<span class=\"code-params\">t,r,s=!<span class=\"code-number\">1</span></span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!s&amp;&amp;URL.createObjectURL</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Blob</span>(<span class=\"code-params\">[t],{type:r}</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">URL</span>.<span class=\"code-params\">createObjectURL</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>=`<span class=\"code-params\">data</span>:<span class=\"code-params\">$</span>{<span class=\"code-params\">r</span>};<span class=\"code-params\">base64</span>,`;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> r=<span class=\"code-number\">0</span>,s=t.length;r&lt;s;r+=<span class=\"code-number\">3</span></span>){<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=255&amp;<span class=\"code-params\">t</span>[<span class=\"code-params\">r</span>],<span class=\"code-params\">a</span>=255&amp;<span class=\"code-params\">t</span>[<span class=\"code-params\">r</span>+1],<span class=\"code-params\">o</span>=255&amp;<span class=\"code-params\">t</span>[<span class=\"code-params\">r</span>+2];<span class=\"code-params\">n</span>+=<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>&gt;&gt;2]+<span class=\"code-params\">e</span>[(<span class=\"code-params\"><span class=\"code-number\">3</span>&amp;i</span>)&lt;&lt;4|<span class=\"code-params\">a</span>&gt;&gt;4]+<span class=\"code-params\">e</span>[<span class=\"code-params\">r</span>+1&lt;<span class=\"code-params\">s</span>?(<span class=\"code-params\"><span class=\"code-number\">15</span>&amp;a</span>)&lt;&lt;2|<span class=\"code-params\">o</span>&gt;&gt;6:64]+<span class=\"code-params\">e</span>[<span class=\"code-params\">r</span>+2&lt;<span class=\"code-params\">s</span>?63&amp;<span class=\"code-params\">o</span>:64]}<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>}}<span class=\"code-params\">()</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">createObjectURL</span>=<span class=\"code-params\">b</span>},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">4</span></span>)},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">isNodeJS</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=\"<span class=\"code-params\">object</span>\"==<span class=\"code-params\">typeof</span> <span class=\"code-params\">process</span>&amp;&amp;<span class=\"code-params\">process</span>+\"\"==\"[<span class=\"code-params\">object</span> <span class=\"code-params\">process</span>]\"&amp;&amp;!<span class=\"code-params\">process</span>.<span class=\"code-params\">versions</span>.<span class=\"code-params\">nw</span>&amp;&amp;!<span class=\"code-params\">process</span>.<span class=\"code-params\">versions</span>.<span class=\"code-params\">electron</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">isNodeJS</span>=<span class=\"code-params\">s</span>},<span class=\"code-params\">function</span>(<span class=\"code-params\"><span class=\"code-built_in\">module</span>,exports,__w_pdfjs_require__</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">exports,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">exports</span>.<span class=\"code-params\">getDocument</span>=<span class=\"code-params\">getDocument</span>,<span class=\"code-params\">exports</span>.<span class=\"code-params\">setPDFNetworkStreamFactory</span>=<span class=\"code-params\">setPDFNetworkStreamFactory</span>,<span class=\"code-params\">exports</span>.<span class=\"code-params\">build</span>=<span class=\"code-params\">exports</span>.<span class=\"code-params\">version</span>=<span class=\"code-params\">exports</span>.<span class=\"code-params\">PDFPageProxy</span>=<span class=\"code-params\">exports</span>.<span class=\"code-params\">PDFDocumentProxy</span>=<span class=\"code-params\">exports</span>.<span class=\"code-params\">PDFWorker</span>=<span class=\"code-params\">exports</span>.<span class=\"code-params\">PDFDataRangeTransport</span>=<span class=\"code-params\">exports</span>.<span class=\"code-params\">LoopbackPort</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">var</span> <span class=\"code-params\">_util</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>),<span class=\"code-params\">_display_utils</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">1</span></span>),<span class=\"code-params\">_font_loader</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">6</span></span>),<span class=\"code-params\">_api_compatibility</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">7</span></span>),<span class=\"code-params\">_canvas</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">8</span></span>),<span class=\"code-params\">_worker_options</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">10</span></span>),<span class=\"code-params\">_is_node</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">4</span></span>),<span class=\"code-params\">_message_handler</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">11</span></span>),<span class=\"code-params\">_metadata</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">12</span></span>),<span class=\"code-params\">_transport_stream</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">14</span></span>),<span class=\"code-params\">_webgl</span>=<span class=\"code-params\">__w_pdfjs_require__</span>(<span class=\"code-params\"><span class=\"code-number\">15</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">DEFAULT_RANGE_CHUNK_SIZE</span>=65536,<span class=\"code-params\">RENDERING_CANCELLED_TIMEOUT</span>=100;<span class=\"code-params\">let</span> <span class=\"code-params\">createPDFNetworkStream</span>;<span class=\"code-params\">function</span> <span class=\"code-params\">setPDFNetworkStreamFactory</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">createPDFNetworkStream</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">getDocument</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">PDFDocumentLoadingTask</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">r</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e</span>)<span class=\"code-params\">r</span>={<span class=\"code-params\">url</span>:<span class=\"code-params\">e</span>};<span class=\"code-params\">else</span> <span class=\"code-params\">if</span>(<span class=\"code-params\">(<span class=\"code-number\">0</span>,_util.isArrayBuffer</span>)(<span class=\"code-params\">e</span>))<span class=\"code-params\">r</span>={<span class=\"code-params\">data</span>:<span class=\"code-params\">e</span>};<span class=\"code-params\">else</span> <span class=\"code-params\">if</span>(<span class=\"code-params\">e <span class=\"code-keyword\">instanceof</span> PDFDataRangeTransport</span>)<span class=\"code-params\">r</span>={<span class=\"code-params\">range</span>:<span class=\"code-params\">e</span>};<span class=\"code-params\">else</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> e</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Invalid parameter in getDocument, need either Uint8Array, string or a parameter object\"</span></span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">!e.url&amp;&amp;!e.data&amp;&amp;!e.range</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Invalid parameter object: need either .data, .range or .url\"</span></span>);<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>);<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">null</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">in</span> r</span>)<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"url\"</span>!==e||<span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">window</span></span>)<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"range\"</span>!==e</span>)<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"worker\"</span>!==e</span>)<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"data\"</span>!==e||r[e]<span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Uint8Array</span></span>)<span class=\"code-params\">s</span>[<span class=\"code-params\">e</span>]=<span class=\"code-params\">r</span>[<span class=\"code-params\">e</span>];<span class=\"code-params\">else</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">r</span>[<span class=\"code-params\">e</span>];<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> t</span>)<span class=\"code-params\">s</span>[<span class=\"code-params\">e</span>]=(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.stringToBytes</span>)(<span class=\"code-params\">t</span>);<span class=\"code-params\">else</span> <span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> t||<span class=\"code-literal\">null</span>===t||<span class=\"code-built_in\">isNaN</span>(t.length</span>)){<span class=\"code-params\">if</span>(<span class=\"code-params\">!(<span class=\"code-number\">0</span>,_util.isArrayBuffer</span>)(<span class=\"code-params\">t</span>))<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.\"</span></span>);<span class=\"code-params\">s</span>[<span class=\"code-params\">e</span>]=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">t</span>)}<span class=\"code-params\">else</span> <span class=\"code-params\">s</span>[<span class=\"code-params\">e</span>]=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">t</span>)}<span class=\"code-params\">else</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">r</span>[<span class=\"code-params\">e</span>];<span class=\"code-params\">else</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">r</span>[<span class=\"code-params\">e</span>];<span class=\"code-params\">else</span> <span class=\"code-params\">s</span>[<span class=\"code-params\">e</span>]=<span class=\"code-params\">new</span> <span class=\"code-params\">URL</span>(<span class=\"code-params\">r[e],<span class=\"code-built_in\">window</span>.location</span>).<span class=\"code-params\">href</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">s.rangeChunkSize=s.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,s.CMapReaderFactory=s.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,s.ignoreErrors=!<span class=\"code-number\">0</span>!==s.stopAtErrors,s.fontExtraProperties=!<span class=\"code-number\">0</span>===s.fontExtraProperties,s.pdfBug=!<span class=\"code-number\">0</span>===s.pdfBug,<span class=\"code-built_in\">Number</span>.isInteger(s.maxImageSize</span>)||(<span class=\"code-params\">s.maxImageSize=<span class=\"code-number\">-1</span></span>),\"<span class=\"code-params\">boolean</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">isEvalSupported</span>&amp;&amp;(<span class=\"code-params\">s.isEvalSupported=!<span class=\"code-number\">0</span></span>),\"<span class=\"code-params\">boolean</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">disableFontFace</span>&amp;&amp;(<span class=\"code-params\">s.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!<span class=\"code-number\">1</span></span>),\"<span class=\"code-params\">boolean</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">disableRange</span>&amp;&amp;(<span class=\"code-params\">s.disableRange=!<span class=\"code-number\">1</span></span>),\"<span class=\"code-params\">boolean</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">disableStream</span>&amp;&amp;(<span class=\"code-params\">s.disableStream=!<span class=\"code-number\">1</span></span>),\"<span class=\"code-params\">boolean</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">disableAutoFetch</span>&amp;&amp;(<span class=\"code-params\">s.disableAutoFetch=!<span class=\"code-number\">1</span></span>),(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.setVerbosityLevel</span>)(<span class=\"code-params\">s.verbosity</span>),!<span class=\"code-params\">i</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>={<span class=\"code-params\">verbosity</span>:<span class=\"code-params\">s</span>.<span class=\"code-params\">verbosity</span>,<span class=\"code-params\">port</span>:<span class=\"code-params\">_worker_options</span>.<span class=\"code-params\">GlobalWorkerOptions</span>.<span class=\"code-params\">workerPort</span>};<span class=\"code-params\">i</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">port</span>?<span class=\"code-params\">PDFWorker</span>.<span class=\"code-params\">fromPort</span>(<span class=\"code-params\">e</span>):<span class=\"code-params\">new</span> <span class=\"code-params\">PDFWorker</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">_worker</span>=<span class=\"code-params\">i</span>}<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">docId</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">promise</span>.<span class=\"code-params\">then</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">t.destroyed</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Loading aborted\"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">_fetchDocument</span>(<span class=\"code-params\">i,s,n,a</span>),<span class=\"code-params\">r</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Promise</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>;<span class=\"code-params\">n</span>?<span class=\"code-params\">t</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">_transport_stream</span>.<span class=\"code-params\">PDFDataTransportStream</span>(<span class=\"code-params\">{length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,disableRange:s.disableRange,disableStream:s.disableStream},n</span>):<span class=\"code-params\">s</span>.<span class=\"code-params\">data</span>||(<span class=\"code-params\">t=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream}</span>)),<span class=\"code-params\">e</span>(<span class=\"code-params\">t</span>)}));<span class=\"code-params\">return</span> <span class=\"code-params\">Promise</span>.<span class=\"code-params\">all</span>(<span class=\"code-params\">[e,r]</span>).<span class=\"code-params\">then</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>([e,r]</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">t.destroyed</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Loading aborted\"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">_message_handler</span>.<span class=\"code-params\">MessageHandler</span>(<span class=\"code-params\">a,e,i.port</span>);<span class=\"code-params\">n</span>.<span class=\"code-params\">postMessageTransfers</span>=<span class=\"code-params\">i</span>.<span class=\"code-params\">postMessageTransfers</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">o</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">WorkerTransport</span>(<span class=\"code-params\">n,t,r,s</span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">_transport</span>=<span class=\"code-params\">o</span>,<span class=\"code-params\">n</span>.<span class=\"code-params\">send</span>(<span class=\"code-params\"><span class=\"code-string\">\"Ready\"</span>,<span class=\"code-literal\">null</span></span>)}))})).<span class=\"code-params\">catch</span>(<span class=\"code-params\">t._capability.reject</span>),<span class=\"code-params\">t</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">_fetchDocument</span>(<span class=\"code-params\">e,t,r,s</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">destroyed</span>?<span class=\"code-params\">Promise</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Worker was destroyed\"</span></span>)):(<span class=\"code-params\">r&amp;&amp;(t.length=r.length,t.initialData=r.initialData,t.progressiveDone=r.progressiveDone</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetDocRequest\"</span>,{docId:s,apiVersion:<span class=\"code-string\">\"2.5.207\"</span>,source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}</span>).<span class=\"code-params\">then</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(t</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">e.destroyed</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Worker was destroyed\"</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">t</span>})))}<span class=\"code-params\">const</span> <span class=\"code-params\">PDFDocumentLoadingTask</span>=<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">let</span> <span class=\"code-params\">e</span>=0;<span class=\"code-params\">return</span> <span class=\"code-params\">class</span>{<span class=\"code-params\">constructor</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">_capability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_worker</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">docId</span>=\"<span class=\"code-params\">d</span>\"+<span class=\"code-params\">e</span>++,<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyed</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">onPassword</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">onProgress</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">onUnsupportedFeature</span>=<span class=\"code-params\">null</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">promise</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_capability</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">destroy</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyed</span>=!0;<span class=\"code-params\">return</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._transport?<span class=\"code-keyword\">this</span>._transport.destroy(</span>):<span class=\"code-params\">Promise</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>).<span class=\"code-params\">then</span>(<span class=\"code-params\">(</span>)=&gt;</span>{<span class=\"code-keyword\">this</span>._transport=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._worker&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._worker.destroy(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_worker</span>=<span class=\"code-params\">null</span>)})}}}<span class=\"code-params\">()</span>;<span class=\"code-params\">class</span> <span class=\"code-params\">PDFDataRangeTransport</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t,r=!<span class=\"code-number\">1</span></span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">length</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">initialData</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">progressiveDone</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeListeners</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_progressListeners</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_progressiveReadListeners</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_progressiveDoneListeners</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_readyCapability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>}<span class=\"code-params\">addRangeListener</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeListeners</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">addProgressListener</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_progressListeners</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">addProgressiveReadListener</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_progressiveReadListeners</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">addProgressiveDoneListener</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_progressiveDoneListeners</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">onDataRange</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> r <span class=\"code-keyword\">of</span> <span class=\"code-keyword\">this</span>._rangeListeners</span>)<span class=\"code-params\">r</span>(<span class=\"code-params\">e,t</span>)}<span class=\"code-params\">onDataProgress</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_readyCapability</span>.<span class=\"code-params\">promise</span>.<span class=\"code-params\">then</span>(<span class=\"code-params\">(</span>)=&gt;</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">const</span> r <span class=\"code-keyword\">of</span> <span class=\"code-keyword\">this</span>._progressListeners)r(e,t)})}onDataProgressiveRead(e){<span class=\"code-keyword\">this</span>._readyCapability.promise.then(<span class=\"code-function\"><span class=\"code-params\">()</span>=&gt;</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">const</span> t <span class=\"code-keyword\">of</span> <span class=\"code-keyword\">this</span>._progressiveReadListeners)t(e)})}onDataProgressiveDone(){<span class=\"code-keyword\">this</span>._readyCapability.promise.then(<span class=\"code-function\"><span class=\"code-params\">()</span>=&gt;</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">of</span> <span class=\"code-keyword\">this</span>._progressiveDoneListeners)e()})}transportReady(){<span class=\"code-keyword\">this</span>._readyCapability.resolve()}requestDataRange(e,t){(<span class=\"code-number\">0</span>,_util.unreachable)(<span class=\"code-string\">\"Abstract method PDFDataRangeTransport.requestDataRange\"</span>)}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;<span class=\"code-class\"><span class=\"code-keyword\">class</span> <span class=\"code-title\">PDFDocumentProxy</span></span>{<span class=\"code-keyword\">constructor</span>(e,t){<span class=\"code-keyword\">this</span>._pdfInfo=e,<span class=\"code-keyword\">this</span>._transport=t}<span class=\"code-keyword\">get</span> numPages(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._pdfInfo.numPages}<span class=\"code-keyword\">get</span> fingerprint(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._pdfInfo.fingerprint}getPage(e){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._transport.getPage(e)}getPageIndex(e){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._transport.getPageIndex(e)}getDestinations(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._transport.getDestinations()}getDestination(e){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._transport.getDestination(e)}getPageLabels(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._transport.getPageLabels()}getPageLayout(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._transport.getPageLayout()}getPageMode(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._transport.getPageMode()}getViewerPreferences(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._transport.getViewerPreferences()}getOpenAction(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._transport.getOpenAction()}getOpenActionDestination(){<span class=\"code-keyword\">return</span><span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,_display_utils.deprecated</span>)(<span class=\"code-params\"><span class=\"code-string\">\"getOpenActionDestination, use getOpenAction instead.\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">getOpenAction</span><span class=\"code-params\">()</span>.<span class=\"code-params\">then</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">dest</span>?<span class=\"code-params\">e</span>.<span class=\"code-params\">dest</span>:<span class=\"code-params\">null</span>}))}<span class=\"code-params\">getAttachments</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">getAttachments</span><span class=\"code-params\">()</span>}<span class=\"code-params\">getJavaScript</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">getJavaScript</span><span class=\"code-params\">()</span>}<span class=\"code-params\">getOutline</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">getOutline</span><span class=\"code-params\">()</span>}<span class=\"code-params\">getPermissions</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">getPermissions</span><span class=\"code-params\">()</span>}<span class=\"code-params\">getMetadata</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">getMetadata</span><span class=\"code-params\">()</span>}<span class=\"code-params\">getData</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">getData</span><span class=\"code-params\">()</span>}<span class=\"code-params\">getDownloadInfo</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">downloadInfoCapability</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">getStats</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">getStats</span><span class=\"code-params\">()</span>}<span class=\"code-params\">cleanup</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">startCleanup</span><span class=\"code-params\">()</span>}<span class=\"code-params\">destroy</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">loadingTask</span>.<span class=\"code-params\">destroy</span><span class=\"code-params\">()</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">loadingParams</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">loadingParams</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">loadingTask</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">loadingTask</span>}}<span class=\"code-params\">exports</span>.<span class=\"code-params\">PDFDocumentProxy</span>=<span class=\"code-params\">PDFDocumentProxy</span>;<span class=\"code-params\">class</span> <span class=\"code-params\">PDFPageProxy</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t,r,s=!<span class=\"code-number\">1</span></span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_pageIndex</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_pageInfo</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>=<span class=\"code-params\">s</span>?<span class=\"code-params\">new</span> <span class=\"code-params\">_display_utils</span>.<span class=\"code-params\">StatTimer</span>:<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_pdfBug</span>=<span class=\"code-params\">s</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">commonObjs</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">objs</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">PDFObjects</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">cleanupAfterRender</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingCleanup</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">intentStates</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyed</span>=!1}<span class=\"code-params\">get</span> <span class=\"code-params\">pageNumber</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_pageIndex</span>+1}<span class=\"code-params\">get</span> <span class=\"code-params\">rotate</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_pageInfo</span>.<span class=\"code-params\">rotate</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">ref</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_pageInfo</span>.<span class=\"code-params\">ref</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">userUnit</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_pageInfo</span>.<span class=\"code-params\">userUnit</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">view</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_pageInfo</span>.<span class=\"code-params\">view</span>}<span class=\"code-params\">getViewport</span>(<span class=\"code-params\">{scale:e,rotation:t=<span class=\"code-keyword\">this</span>.rotate,offsetX:r=<span class=\"code-number\">0</span>,offsetY:s=<span class=\"code-number\">0</span>,dontFlip:n=!<span class=\"code-number\">1</span>}={}</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">new</span> <span class=\"code-params\">_display_utils</span>.<span class=\"code-params\">PageViewport</span>(<span class=\"code-params\">{viewBox:<span class=\"code-keyword\">this</span>.view,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:n}</span>)}<span class=\"code-params\">getAnnotations</span>(<span class=\"code-params\">{intent:e=<span class=\"code-literal\">null</span>}={}</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">annotationsPromise</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">annotationsIntent</span>===<span class=\"code-params\">e</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.annotationsPromise=<span class=\"code-keyword\">this</span>._transport.getAnnotations(<span class=\"code-keyword\">this</span>._pageIndex,e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">annotationsIntent</span>=<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">annotationsPromise</span>}<span class=\"code-params\">render</span>(<span class=\"code-params\">{canvasContext:e,viewport:t,intent:r=<span class=\"code-string\">\"display\"</span>,enableWebGL:s=!<span class=\"code-number\">1</span>,renderInteractiveForms:n=!<span class=\"code-number\">1</span>,transform:i=<span class=\"code-literal\">null</span>,imageLayer:a=<span class=\"code-literal\">null</span>,canvasFactory:o=<span class=\"code-literal\">null</span>,background:l=<span class=\"code-literal\">null</span>}</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>.<span class=\"code-params\">time</span>(<span class=\"code-params\"><span class=\"code-string\">\"Overall\"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">c</span>=\"<span class=\"code-params\">print</span>\"===<span class=\"code-params\">r</span>?\"<span class=\"code-params\">print</span>\":\"<span class=\"code-params\">display</span>\";<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingCleanup</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">intentStates</span>[<span class=\"code-params\">c</span>]||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.intentStates[c]=<span class=\"code-built_in\">Object</span>.create(<span class=\"code-literal\">null</span></span>));<span class=\"code-params\">const</span> <span class=\"code-params\">h</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">intentStates</span>[<span class=\"code-params\">c</span>];<span class=\"code-params\">h</span>.<span class=\"code-params\">streamReaderCancelTimeout</span>&amp;&amp;(<span class=\"code-params\">clearTimeout(h.streamReaderCancelTimeout</span>),<span class=\"code-params\">h</span>.<span class=\"code-params\">streamReaderCancelTimeout</span>=<span class=\"code-params\">null</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">d</span>=<span class=\"code-params\">o</span>||<span class=\"code-params\">new</span> <span class=\"code-params\">_display_utils</span>.<span class=\"code-params\">DOMCanvasFactory</span>,<span class=\"code-params\">u</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">_webgl</span>.<span class=\"code-params\">WebGLContext</span>(<span class=\"code-params\">{enable:s}</span>);<span class=\"code-params\">h</span>.<span class=\"code-params\">displayReadyCapability</span>||(<span class=\"code-params\">h.displayReadyCapability=(<span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">h</span>.<span class=\"code-params\">operatorList</span>={<span class=\"code-params\">fnArray</span>:[],<span class=\"code-params\">argsArray</span>:[],<span class=\"code-params\">lastChunk</span>:!1},<span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>.<span class=\"code-params\">time</span>(<span class=\"code-params\"><span class=\"code-string\">\"Page Request\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_pumpOperatorList</span>(<span class=\"code-params\">{pageIndex:<span class=\"code-keyword\">this</span>._pageIndex,intent:c,renderInteractiveForms:!<span class=\"code-number\">0</span>===n}</span>));<span class=\"code-params\">const</span> <span class=\"code-params\">p</span>=<span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">const</span> t=h.renderTasks.indexOf(g);t&gt;=<span class=\"code-number\">0</span>&amp;&amp;h.renderTasks.splice(t,<span class=\"code-number\">1</span>),(<span class=\"code-keyword\">this</span>.cleanupAfterRender||<span class=\"code-string\">\"print\"</span>===c)&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.pendingCleanup=!<span class=\"code-number\">0</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_tryCleanup</span><span class=\"code-params\">()</span>,<span class=\"code-params\">e</span>?(<span class=\"code-params\">g.capability.reject(e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_abortOperatorList</span>(<span class=\"code-params\">{intentState:h,reason:e}</span>)):<span class=\"code-params\">g</span>.<span class=\"code-params\">capability</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._stats.timeEnd(<span class=\"code-string\">\"Rendering\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>.<span class=\"code-params\">timeEnd</span>(<span class=\"code-params\"><span class=\"code-string\">\"Overall\"</span></span>))},<span class=\"code-params\">g</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">InternalRenderTask</span>(<span class=\"code-params\">{callback:p,params:{canvasContext:e,viewport:t,transform:i,imageLayer:a,background:l},objs:<span class=\"code-keyword\">this</span>.objs,commonObjs:<span class=\"code-keyword\">this</span>.commonObjs,operatorList:h.operatorList,pageIndex:<span class=\"code-keyword\">this</span>._pageIndex,canvasFactory:d,webGLContext:u,useRequestAnimationFrame:<span class=\"code-string\">\"print\"</span>!==c,pdfBug:<span class=\"code-keyword\">this</span>._pdfBug}</span>);<span class=\"code-params\">h</span>.<span class=\"code-params\">renderTasks</span>||(<span class=\"code-params\">h.renderTasks=[]</span>),<span class=\"code-params\">h</span>.<span class=\"code-params\">renderTasks</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">g</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">f</span>=<span class=\"code-params\">g</span>.<span class=\"code-params\">task</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">h</span>.<span class=\"code-params\">displayReadyCapability</span>.<span class=\"code-params\">promise</span>.<span class=\"code-params\">then</span>(<span class=\"code-params\">e=&gt;{<span class=\"code-keyword\">this</span>.pendingCleanup?p(</span>):(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._stats&amp;&amp;<span class=\"code-keyword\">this</span>._stats.time(<span class=\"code-string\">\"Rendering\"</span></span>),<span class=\"code-params\">g</span>.<span class=\"code-params\">initializeGraphics</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">g</span>.<span class=\"code-params\">operatorListChanged</span><span class=\"code-params\">()</span>)}).<span class=\"code-params\">catch</span>(<span class=\"code-params\">p</span>),<span class=\"code-params\">f</span>}<span class=\"code-params\">getOperatorList</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">intentStates</span>.<span class=\"code-params\">oplist</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.intentStates.oplist=<span class=\"code-built_in\">Object</span>.create(<span class=\"code-literal\">null</span></span>));<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">intentStates</span>.<span class=\"code-params\">oplist</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">opListReadCapability</span>||(<span class=\"code-params\">t={},t.operatorListChanged=<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">e.operatorList.lastChunk</span>){<span class=\"code-params\">e</span>.<span class=\"code-params\">opListReadCapability</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">e.operatorList</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">renderTasks</span>.<span class=\"code-params\">indexOf</span>(<span class=\"code-params\">t</span>);<span class=\"code-params\">r</span>&gt;=0&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">renderTasks</span>.<span class=\"code-params\">splice</span>(<span class=\"code-params\">r,<span class=\"code-number\">1</span></span>)}},<span class=\"code-params\">e</span>.<span class=\"code-params\">opListReadCapability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">renderTasks</span>=[],<span class=\"code-params\">e</span>.<span class=\"code-params\">renderTasks</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">t</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">operatorList</span>={<span class=\"code-params\">fnArray</span>:[],<span class=\"code-params\">argsArray</span>:[],<span class=\"code-params\">lastChunk</span>:!1},<span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>.<span class=\"code-params\">time</span>(<span class=\"code-params\"><span class=\"code-string\">\"Page Request\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_pumpOperatorList</span>(<span class=\"code-params\">{pageIndex:<span class=\"code-keyword\">this</span>._pageIndex,intent:<span class=\"code-string\">\"oplist\"</span>}</span>)),<span class=\"code-params\">e</span>.<span class=\"code-params\">opListReadCapability</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">streamTextContent</span>(<span class=\"code-params\">{normalizeWhitespace:e=!<span class=\"code-number\">1</span>,disableCombineTextItems:t=!<span class=\"code-number\">1</span>}={}</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithStream</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetTextContent\"</span>,{pageIndex:<span class=\"code-keyword\">this</span>._pageIndex,normalizeWhitespace:!<span class=\"code-number\">0</span>===e,combineTextItems:!<span class=\"code-number\">0</span>!==t},{highWaterMark:<span class=\"code-number\">100</span>,size:e=&gt;e.items.length}</span>)}<span class=\"code-params\">getTextContent</span>(<span class=\"code-params\">e={}</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">streamTextContent</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Promise</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e,r</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">getReader</span><span class=\"code-params\">()</span>,<span class=\"code-params\">n</span>={<span class=\"code-params\">items</span>:[],<span class=\"code-params\">styles</span>:<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>)};!<span class=\"code-params\">function</span> <span class=\"code-params\">t</span><span class=\"code-params\">()</span>{<span class=\"code-params\">s</span>.<span class=\"code-params\">read</span><span class=\"code-params\">()</span>.<span class=\"code-params\">then</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>({value:r,done:s}</span>){<span class=\"code-params\">s</span>?<span class=\"code-params\">e</span>(<span class=\"code-params\">n</span>):(<span class=\"code-params\"><span class=\"code-built_in\">Object</span>.assign(n.styles,r.styles</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">items</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">...r.items</span>),<span class=\"code-params\">t</span><span class=\"code-params\">()</span>)}),<span class=\"code-params\">r</span>)}<span class=\"code-params\">()</span>}))}<span class=\"code-params\">_destroy</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyed</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">pageCache</span>[<span class=\"code-params\">this</span>.<span class=\"code-params\">_pageIndex</span>]=<span class=\"code-params\">null</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=[];<span class=\"code-params\">return</span> <span class=\"code-params\">Object</span>.<span class=\"code-params\">keys</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.intentStates</span>).<span class=\"code-params\">forEach</span>(<span class=\"code-params\">t=&gt;{<span class=\"code-keyword\">const</span> r=<span class=\"code-keyword\">this</span>.intentStates[t];<span class=\"code-keyword\">this</span>._abortOperatorList({intentState:r,reason:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Page was destroyed.\"</span></span>),<span class=\"code-params\">force</span>:!0}),\"<span class=\"code-params\">oplist</span>\"!==<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">r</span>.<span class=\"code-params\">renderTasks</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">capability</span>.<span class=\"code-params\">promise</span>.<span class=\"code-params\">catch</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(</span>){}));<span class=\"code-params\">e</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">r</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">cancel</span><span class=\"code-params\">()</span>}))}),<span class=\"code-params\">this</span>.<span class=\"code-params\">objs</span>.<span class=\"code-params\">clear</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">annotationsPromise</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingCleanup</span>=!1,<span class=\"code-params\">Promise</span>.<span class=\"code-params\">all</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">cleanup</span>(<span class=\"code-params\">e=!<span class=\"code-number\">1</span></span>){<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">pendingCleanup</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">_tryCleanup</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">_tryCleanup</span>(<span class=\"code-params\">e=!<span class=\"code-number\">1</span></span>){<span class=\"code-params\">return</span>!(<span class=\"code-params\">!<span class=\"code-keyword\">this</span>.pendingCleanup||<span class=\"code-built_in\">Object</span>.keys(<span class=\"code-keyword\">this</span>.intentStates</span>).<span class=\"code-params\">some</span>(<span class=\"code-params\">e=&gt;{<span class=\"code-keyword\">const</span> t=<span class=\"code-keyword\">this</span>.intentStates[e];<span class=\"code-keyword\">return</span> <span class=\"code-number\">0</span>!==t.renderTasks.length||!t.operatorList.lastChunk}</span>))&amp;&amp;(<span class=\"code-params\"><span class=\"code-built_in\">Object</span>.keys(<span class=\"code-keyword\">this</span>.intentStates</span>).<span class=\"code-params\">forEach</span>(<span class=\"code-params\">e=&gt;{<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.intentStates[e]}</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">objs</span>.<span class=\"code-params\">clear</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">annotationsPromise</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">e</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._stats=<span class=\"code-keyword\">new</span> _display_utils.StatTimer</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingCleanup</span>=!1,!0)}<span class=\"code-params\">_startRenderPage</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">intentStates</span>[<span class=\"code-params\">t</span>];<span class=\"code-params\">r</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._stats&amp;&amp;<span class=\"code-keyword\">this</span>._stats.timeEnd(<span class=\"code-string\">\"Page Request\"</span></span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">displayReadyCapability</span>&amp;&amp;<span class=\"code-params\">r</span>.<span class=\"code-params\">displayReadyCapability</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">e</span>))}<span class=\"code-params\">_renderPageChunk</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> r=<span class=\"code-number\">0</span>,s=e.length;r&lt;s;r++</span>)<span class=\"code-params\">t</span>.<span class=\"code-params\">operatorList</span>.<span class=\"code-params\">fnArray</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e.fnArray[r]</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">operatorList</span>.<span class=\"code-params\">argsArray</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e.argsArray[r]</span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">operatorList</span>.<span class=\"code-params\">lastChunk</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">lastChunk</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>;e&lt;t.renderTasks.length;e++</span>)<span class=\"code-params\">t</span>.<span class=\"code-params\">renderTasks</span>[<span class=\"code-params\">e</span>].<span class=\"code-params\">operatorListChanged</span><span class=\"code-params\">()</span>;<span class=\"code-params\">e</span>.<span class=\"code-params\">lastChunk</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_tryCleanup</span><span class=\"code-params\">()</span>}<span class=\"code-params\">_pumpOperatorList</span>(<span class=\"code-params\">e</span>){(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.assert</span>)(<span class=\"code-params\">e.intent,<span class=\"code-string\">'PDFPageProxy._pumpOperatorList: Expected \"intent\" argument.'</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_transport</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithStream</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetOperatorList\"</span>,e</span>).<span class=\"code-params\">getReader</span><span class=\"code-params\">()</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">intentStates</span>[<span class=\"code-params\">e</span>.<span class=\"code-params\">intent</span>];<span class=\"code-params\">r</span>.<span class=\"code-params\">streamReader</span>=<span class=\"code-params\">t</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">()</span>=&gt;</span>{t.read().then(<span class=\"code-function\">(<span class=\"code-params\">{value:e,done:t}</span>)=&gt;</span>{t?r.streamReader=<span class=\"code-literal\">null</span>:<span class=\"code-keyword\">this</span>._transport.destroyed||<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._renderPageChunk(e,r</span>),<span class=\"code-params\">s</span><span class=\"code-params\">()</span>)},<span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">if</span>(r.streamReader=<span class=\"code-literal\">null</span>,!<span class=\"code-keyword\">this</span>._transport.destroyed){<span class=\"code-keyword\">if</span>(r.operatorList){r.operatorList.lastChunk=!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>;e&lt;r.renderTasks.length;e++)r.renderTasks[e].operatorListChanged();<span class=\"code-keyword\">this</span>._tryCleanup()}<span class=\"code-keyword\">if</span>(r.displayReadyCapability)r.displayReadyCapability.reject(e);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(!r.opListReadCapability)<span class=\"code-keyword\">throw</span> e;r.opListReadCapability.reject(e)}}})};s()}_abortOperatorList({<span class=\"code-attr\">intentState</span>:e,<span class=\"code-attr\">reason</span>:t,<span class=\"code-attr\">force</span>:r=!<span class=\"code-number\">1</span>}){<span class=\"code-keyword\">if</span>(<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.assert</span>)(<span class=\"code-params\">t <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Error</span>||<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> t&amp;&amp;<span class=\"code-literal\">null</span>!==t,<span class=\"code-string\">'PDFPageProxy._abortOperatorList: Expected \"reason\" argument.'</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">streamReader</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!r</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>!==e.renderTasks.length</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">t <span class=\"code-keyword\">instanceof</span> _display_utils.RenderingCancelledException</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span>(<span class=\"code-params\">e.streamReaderCancelTimeout=setTimeout((</span>)=&gt;</span>{<span class=\"code-keyword\">this</span>._abortOperatorList({<span class=\"code-attr\">intentState</span>:e,<span class=\"code-attr\">reason</span>:t,<span class=\"code-attr\">force</span>:!<span class=\"code-number\">0</span>}),e.streamReaderCancelTimeout=<span class=\"code-literal\">null</span>},RENDERING_CANCELLED_TIMEOUT))}e.streamReader.cancel(<span class=\"code-keyword\">new</span> _util.AbortException(t&amp;&amp;t.message)),e.streamReader=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._transport.destroyed||<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-built_in\">Object</span>.keys(<span class=\"code-keyword\">this</span>.intentStates</span>).<span class=\"code-params\">some</span>(<span class=\"code-params\">t=&gt;<span class=\"code-keyword\">this</span>.intentStates[t]===e&amp;&amp;(<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.intentStates[t],!<span class=\"code-number\">0</span></span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">cleanup</span><span class=\"code-params\">()</span>)}}<span class=\"code-params\">get</span> <span class=\"code-params\">stats</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_stats</span>}}<span class=\"code-params\">exports</span>.<span class=\"code-params\">PDFPageProxy</span>=<span class=\"code-params\">PDFPageProxy</span>;<span class=\"code-params\">class</span> <span class=\"code-params\">LoopbackPort</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e=!<span class=\"code-number\">0</span></span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_listeners</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_defer</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_deferred</span>=<span class=\"code-params\">Promise</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\"><span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span></span>)}<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!<span class=\"code-keyword\">this</span>._defer</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_listeners</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">t=&gt;{t.call(<span class=\"code-keyword\">this</span>,{data:e}</span>)});<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">WeakMap</span>,<span class=\"code-params\">s</span>={<span class=\"code-params\">data</span>:<span class=\"code-params\">function</span> <span class=\"code-params\">e</span>(<span class=\"code-params\">s</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> s||<span class=\"code-literal\">null</span>===s</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">r.has(s</span>))<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>.<span class=\"code-params\">get</span>(<span class=\"code-params\">s</span>);<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>,<span class=\"code-params\">i</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">(n=s.buffer</span>)&amp;&amp;(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.isArrayBuffer</span>)(<span class=\"code-params\">n</span>)){<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">includes</span>(<span class=\"code-params\">n</span>)?<span class=\"code-params\">new</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">constructor</span>(<span class=\"code-params\">n,s.byteOffset,s.byteLength</span>):<span class=\"code-params\">new</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">constructor</span>(<span class=\"code-params\">s</span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">s,i</span>),<span class=\"code-params\">i</span>}<span class=\"code-params\">i</span>=<span class=\"code-params\">Array</span>.<span class=\"code-params\">isArray</span>(<span class=\"code-params\">s</span>)?[]:{},<span class=\"code-params\">r</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">s,i</span>);<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> t <span class=\"code-keyword\">in</span> s</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">r</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">s</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\">;!(r=<span class=\"code-built_in\">Object</span>.getOwnPropertyDescriptor(n,t</span>));)<span class=\"code-params\">n</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">getPrototypeOf</span>(<span class=\"code-params\">n</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r.value</span>)<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"function\"</span>!=<span class=\"code-keyword\">typeof</span> r.value</span>)<span class=\"code-params\">i</span>[<span class=\"code-params\">t</span>]=<span class=\"code-params\">e</span>(<span class=\"code-params\">r.value</span>);<span class=\"code-params\">else</span> <span class=\"code-params\">if</span>(<span class=\"code-params\">s.hasOwnProperty&amp;&amp;s.hasOwnProperty(t</span>))<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"LoopbackPort.postMessage - cannot clone: \"</span>+s[t]</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>}(<span class=\"code-params\">e</span>)};<span class=\"code-params\">this</span>.<span class=\"code-params\">_deferred</span>.<span class=\"code-params\">then</span>(<span class=\"code-params\">(</span>)=&gt;</span>{<span class=\"code-keyword\">this</span>._listeners.forEach(<span class=\"code-function\"><span class=\"code-params\">e</span>=&gt;</span>{e.call(<span class=\"code-keyword\">this</span>,s)})})}addEventListener(e,t){<span class=\"code-keyword\">this</span>._listeners.push(t)}removeEventListener(e,t){<span class=\"code-keyword\">const</span> r=<span class=\"code-keyword\">this</span>._listeners.indexOf(t);<span class=\"code-keyword\">this</span>._listeners.splice(r,<span class=\"code-number\">1</span>)}terminate(){<span class=\"code-keyword\">this</span>._listeners.length=<span class=\"code-number\">0</span>}}exports.LoopbackPort=LoopbackPort;<span class=\"code-keyword\">const</span> PDFWorker=<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">PDFWorkerClosure</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">const</span> pdfWorkerPorts=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">WeakMap</span>;<span class=\"code-keyword\">let</span> isWorkerDisabled=!<span class=\"code-number\">1</span>,fallbackWorkerSrc,nextFakeWorkerId=<span class=\"code-number\">0</span>,fakeWorkerCapability;<span class=\"code-keyword\">if</span>(_is_node.isNodeJS&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">require</span>)isWorkerDisabled=!<span class=\"code-number\">0</span>,fallbackWorkerSrc=<span class=\"code-string\">\"./pdf.worker.js\"</span>;<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"object\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">document</span>&amp;&amp;<span class=\"code-string\">\"currentScript\"</span><span class=\"code-keyword\">in</span> <span class=\"code-built_in\">document</span>){<span class=\"code-keyword\">const</span> e=<span class=\"code-built_in\">document</span>.currentScript&amp;&amp;<span class=\"code-built_in\">document</span>.currentScript.src;e&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\">fallbackWorkerSrc=e.replace(<span class=\"code-regexp\">/(\\.(?:min\\.)?js)(\\?.*)?$/i</span>,<span class=\"code-string\">\".worker$1$2\"</span></span>))}<span class=\"code-params\">function</span> <span class=\"code-params\">getWorkerSrc</span><span class=\"code-params\">()</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\">_worker_options.GlobalWorkerOptions.workerSrc</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">_worker_options</span>.<span class=\"code-params\">GlobalWorkerOptions</span>.<span class=\"code-params\">workerSrc</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==fallbackWorkerSrc</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">_is_node</span>.<span class=\"code-params\">isNodeJS</span>||(<span class=\"code-params\"><span class=\"code-number\">0</span>,_display_utils.deprecated</span>)(<span class=\"code-params\"><span class=\"code-string\">'No \"GlobalWorkerOptions.workerSrc\" specified.'</span></span>),<span class=\"code-params\">fallbackWorkerSrc</span>;<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">'No \"GlobalWorkerOptions.workerSrc\" specified.'</span></span>)}<span class=\"code-params\">function</span> <span class=\"code-params\">getMainThreadWorkerMessageHandler</span><span class=\"code-params\">()</span>{<span class=\"code-params\">let</span> <span class=\"code-params\">e</span>;<span class=\"code-params\">try</span>{<span class=\"code-params\">e</span>=<span class=\"code-params\">globalThis</span>.<span class=\"code-params\">pdfjsWorker</span>&amp;&amp;<span class=\"code-params\">globalThis</span>.<span class=\"code-params\">pdfjsWorker</span>.<span class=\"code-params\">WorkerMessageHandler</span>}<span class=\"code-params\">catch</span>(<span class=\"code-params\">e</span>){}<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>||<span class=\"code-params\">null</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">setupFakeWorkerGlobal</span><span class=\"code-params\">()</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\">fakeWorkerCapability</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">fakeWorkerCapability</span>.<span class=\"code-params\">promise</span>;<span class=\"code-params\">fakeWorkerCapability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">loader</span>=<span class=\"code-params\">async</span> <span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">mainWorkerMessageHandler</span>=<span class=\"code-params\">getMainThreadWorkerMessageHandler</span><span class=\"code-params\">()</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">mainWorkerMessageHandler</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">mainWorkerMessageHandler</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">_is_node.isNodeJS&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> <span class=\"code-built_in\">require</span></span>){<span class=\"code-params\">const</span> <span class=\"code-params\">worker</span>=<span class=\"code-params\">eval</span>(<span class=\"code-params\"><span class=\"code-string\">\"require\"</span></span>)(<span class=\"code-params\">getWorkerSrc(</span>));<span class=\"code-params\">return</span> <span class=\"code-params\">worker</span>.<span class=\"code-params\">WorkerMessageHandler</span>}<span class=\"code-params\">return</span> <span class=\"code-params\">await</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,_display_utils.loadScript</span>)(<span class=\"code-params\">getWorkerSrc(</span>)),<span class=\"code-params\">window</span>.<span class=\"code-params\">pdfjsWorker</span>.<span class=\"code-params\">WorkerMessageHandler</span>};<span class=\"code-params\">return</span> <span class=\"code-params\">loader</span><span class=\"code-params\">()</span>.<span class=\"code-params\">then</span>(<span class=\"code-params\">fakeWorkerCapability.resolve,fakeWorkerCapability.reject</span>),<span class=\"code-params\">fakeWorkerCapability</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">createCDNWrapper</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=\"<span class=\"code-params\">importScripts</span>(<span class=\"code-params\"><span class=\"code-string\">'\"+e+\"'</span></span>);\";<span class=\"code-params\">return</span> <span class=\"code-params\">URL</span>.<span class=\"code-params\">createObjectURL</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> Blob([t]</span>))}<span class=\"code-params\">class</span> <span class=\"code-params\">PDFWorker</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">{name:e=<span class=\"code-literal\">null</span>,port:t=<span class=\"code-literal\">null</span>,verbosity:r=(<span class=\"code-number\">0</span>,_util.getVerbosityLevel</span>)<span class=\"code-params\">()</span>}={}){<span class=\"code-params\">if</span>(<span class=\"code-params\">t&amp;&amp;pdfWorkerPorts.has(t</span>))<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Cannot use more than one PDFWorker per port\"</span></span>);<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.name=e,<span class=\"code-keyword\">this</span>.destroyed=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.postMessageTransfers=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.verbosity=r,<span class=\"code-keyword\">this</span>._readyCapability=(<span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_port</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_webWorker</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_messageHandler</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">t</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">pdfWorkerPorts</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">t,<span class=\"code-keyword\">this</span></span>),<span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_initializeFromPort</span>(<span class=\"code-params\">t</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_initialize</span><span class=\"code-params\">()</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">promise</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_readyCapability</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">port</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_port</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">messageHandler</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_messageHandler</span>}<span class=\"code-params\">_initializeFromPort</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_port</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_messageHandler</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">_message_handler</span>.<span class=\"code-params\">MessageHandler</span>(<span class=\"code-params\"><span class=\"code-string\">\"main\"</span>,<span class=\"code-string\">\"worker\"</span>,e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_messageHandler</span>.<span class=\"code-params\">on</span>(<span class=\"code-params\"><span class=\"code-string\">\"ready\"</span>,(<span class=\"code-keyword\">function</span>(</span>){})),<span class=\"code-params\">this</span>.<span class=\"code-params\">_readyCapability</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>}<span class=\"code-params\">_initialize</span><span class=\"code-params\">()</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> Worker&amp;&amp;!isWorkerDisabled&amp;&amp;!getMainThreadWorkerMessageHandler(</span>)){<span class=\"code-params\">let</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">getWorkerSrc</span><span class=\"code-params\">()</span>;<span class=\"code-params\">try</span>{(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.isSameOrigin</span>)(<span class=\"code-params\"><span class=\"code-built_in\">window</span>.location.href,e</span>)||(<span class=\"code-params\">e=createCDNWrapper(<span class=\"code-keyword\">new</span> URL(e,<span class=\"code-built_in\">window</span>.location</span>).<span class=\"code-params\">href</span>));<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Worker</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">r</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">_message_handler</span>.<span class=\"code-params\">MessageHandler</span>(<span class=\"code-params\"><span class=\"code-string\">\"main\"</span>,<span class=\"code-string\">\"worker\"</span>,t</span>),<span class=\"code-params\">s</span>=<span class=\"code-params\">()</span>=&gt;</span>{t.removeEventListener(<span class=\"code-string\">\"error\"</span>,n),r.destroy(),t.terminate(),<span class=\"code-keyword\">this</span>.destroyed?<span class=\"code-keyword\">this</span>._readyCapability.reject(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Worker was destroyed\"</span>)):<span class=\"code-keyword\">this</span>._setupFakeWorker()},n=<span class=\"code-function\"><span class=\"code-params\">()</span>=&gt;</span>{<span class=\"code-keyword\">this</span>._webWorker||s()};t.addEventListener(<span class=\"code-string\">\"error\"</span>,n),r.on(<span class=\"code-string\">\"test\"</span>,e=&gt;{t.removeEventListener(<span class=\"code-string\">\"error\"</span>,n),<span class=\"code-keyword\">this</span>.destroyed?s():e?<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._messageHandler=r,<span class=\"code-keyword\">this</span>._port=t,<span class=\"code-keyword\">this</span>._webWorker=t,e.supportTransfers||(<span class=\"code-keyword\">this</span>.postMessageTransfers=!<span class=\"code-number\">1</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_readyCapability</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>,<span class=\"code-params\">r</span>.<span class=\"code-params\">send</span>(<span class=\"code-params\"><span class=\"code-string\">\"configure\"</span>,{verbosity:<span class=\"code-keyword\">this</span>.verbosity}</span>)):(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._setupFakeWorker(</span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">destroy</span><span class=\"code-params\">()</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">terminate</span><span class=\"code-params\">()</span>)}),<span class=\"code-params\">r</span>.<span class=\"code-params\">on</span>(<span class=\"code-params\"><span class=\"code-string\">\"ready\"</span>,e=&gt;{<span class=\"code-keyword\">if</span>(t.removeEventListener(<span class=\"code-string\">\"error\"</span>,n</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyed</span>)<span class=\"code-params\">s</span><span class=\"code-params\">()</span>;<span class=\"code-params\">else</span> <span class=\"code-params\">try</span>{<span class=\"code-params\">i</span><span class=\"code-params\">()</span>}<span class=\"code-params\">catch</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_setupFakeWorker</span><span class=\"code-params\">()</span>}});<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">()</span>=&gt;</span>{<span class=\"code-keyword\">const</span> e=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>([<span class=\"code-keyword\">this</span>.postMessageTransfers?<span class=\"code-number\">255</span>:<span class=\"code-number\">0</span>]);<span class=\"code-keyword\">try</span>{r.send(<span class=\"code-string\">\"test\"</span>,e,[e.buffer])}<span class=\"code-keyword\">catch</span>(t){(<span class=\"code-number\">0</span>,_util.warn)(<span class=\"code-string\">\"Cannot use postMessage transfers.\"</span>),e[<span class=\"code-number\">0</span>]=<span class=\"code-number\">0</span>,r.send(<span class=\"code-string\">\"test\"</span>,e)}};<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> i()}<span class=\"code-keyword\">catch</span>(e){(<span class=\"code-number\">0</span>,_util.info)(<span class=\"code-string\">\"The worker has been disabled.\"</span>)}}<span class=\"code-keyword\">this</span>._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||<span class=\"code-function\">(<span class=\"code-params\">(<span class=\"code-number\">0</span>,_util.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Setting up fake worker.\"</span></span>),<span class=\"code-params\">isWorkerDisabled</span>=!0),<span class=\"code-params\">setupFakeWorkerGlobal</span><span class=\"code-params\">()</span>.<span class=\"code-params\">then</span>(<span class=\"code-params\">e=&gt;{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.destroyed</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_readyCapability</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Worker was destroyed\"</span></span>));<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">LoopbackPort</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">_port</span>=<span class=\"code-params\">t</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=\"<span class=\"code-params\">fake</span>\"+<span class=\"code-params\">nextFakeWorkerId</span>++,<span class=\"code-params\">s</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">_message_handler</span>.<span class=\"code-params\">MessageHandler</span>(<span class=\"code-params\">r+<span class=\"code-string\">\"_worker\"</span>,r,t</span>);<span class=\"code-params\">e</span>.<span class=\"code-params\">setup</span>(<span class=\"code-params\">s,t</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">_message_handler</span>.<span class=\"code-params\">MessageHandler</span>(<span class=\"code-params\">r,r+<span class=\"code-string\">\"_worker\"</span>,t</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_messageHandler</span>=<span class=\"code-params\">n</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_readyCapability</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>,<span class=\"code-params\">n</span>.<span class=\"code-params\">send</span>(<span class=\"code-params\"><span class=\"code-string\">\"configure\"</span>,{verbosity:<span class=\"code-keyword\">this</span>.verbosity}</span>)}).<span class=\"code-params\">catch</span>(<span class=\"code-params\">e=&gt;{<span class=\"code-keyword\">this</span>._readyCapability.reject(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">`Setting up fake worker failed: \"<span class=\"code-subst\">${e.message}</span>\".`</span></span>))})}<span class=\"code-params\">destroy</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyed</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">_webWorker</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._webWorker.terminate(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_webWorker</span>=<span class=\"code-params\">null</span>),<span class=\"code-params\">pdfWorkerPorts</span>.<span class=\"code-params\">delete</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._port</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_port</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_messageHandler</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._messageHandler.destroy(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_messageHandler</span>=<span class=\"code-params\">null</span>)}<span class=\"code-params\">static</span> <span class=\"code-params\">fromPort</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!e||!e.port</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"PDFWorker.fromPort - invalid method signature.\"</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">pdfWorkerPorts</span>.<span class=\"code-params\">has</span>(<span class=\"code-params\">e.port</span>)?<span class=\"code-params\">pdfWorkerPorts</span>.<span class=\"code-params\">get</span>(<span class=\"code-params\">e.port</span>):<span class=\"code-params\">new</span> <span class=\"code-params\">PDFWorker</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">static</span> <span class=\"code-params\">getWorkerSrc</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">getWorkerSrc</span><span class=\"code-params\">()</span>}}<span class=\"code-params\">return</span> <span class=\"code-params\">PDFWorker</span>}<span class=\"code-params\">()</span>;<span class=\"code-params\">exports</span>.<span class=\"code-params\">PDFWorker</span>=<span class=\"code-params\">PDFWorker</span>;<span class=\"code-params\">class</span> <span class=\"code-params\">WorkerTransport</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t,r,s</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">loadingTask</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">PDFObjects</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">fontLoader</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">_font_loader</span>.<span class=\"code-params\">FontLoader</span>(<span class=\"code-params\">{docId:t.docId,onUnsupportedFeature:<span class=\"code-keyword\">this</span>._onUnsupportedFeature.bind(<span class=\"code-keyword\">this</span></span>)}),<span class=\"code-params\">this</span>.<span class=\"code-params\">_params</span>=<span class=\"code-params\">s</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">CMapReaderFactory</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">CMapReaderFactory</span>(<span class=\"code-params\">{baseUrl:s.cMapUrl,isCompressed:s.cMapPacked}</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyed</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyCapability</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_passwordCapability</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_networkStream</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullReader</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_lastProgress</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">pageCache</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">pagePromises</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">downloadInfoCapability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">setupMessageHandler</span><span class=\"code-params\">()</span>}<span class=\"code-params\">destroy</span><span class=\"code-params\">()</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.destroyCapability</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">destroyCapability</span>.<span class=\"code-params\">promise</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyed</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyCapability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_passwordCapability</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_passwordCapability</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Worker was destroyed during onPassword callback\"</span></span>));<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=[];<span class=\"code-params\">this</span>.<span class=\"code-params\">pageCache</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(t</span>){<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">t._destroy(</span>))})),<span class=\"code-params\">this</span>.<span class=\"code-params\">pageCache</span>.<span class=\"code-params\">length</span>=0,<span class=\"code-params\">this</span>.<span class=\"code-params\">pagePromises</span>.<span class=\"code-params\">length</span>=0;<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"Terminate\"</span>,<span class=\"code-literal\">null</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">t</span>),<span class=\"code-params\">Promise</span>.<span class=\"code-params\">all</span>(<span class=\"code-params\">e</span>).<span class=\"code-params\">then</span>(<span class=\"code-params\">(</span>)=&gt;</span>{<span class=\"code-keyword\">this</span>.fontLoader.clear(),<span class=\"code-keyword\">this</span>._networkStream&amp;&amp;<span class=\"code-keyword\">this</span>._networkStream.cancelAllRequests(<span class=\"code-keyword\">new</span> _util.AbortException(<span class=\"code-string\">\"Worker was terminated.\"</span>)),<span class=\"code-keyword\">this</span>.messageHandler&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.messageHandler.destroy(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>=<span class=\"code-params\">null</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyCapability</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>},<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyCapability</span>.<span class=\"code-params\">reject</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyCapability</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">setupMessageHandler</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span>{<span class=\"code-params\">messageHandler</span>:<span class=\"code-params\">e</span>,<span class=\"code-params\">loadingTask</span>:<span class=\"code-params\">t</span>}=<span class=\"code-params\">this</span>;<span class=\"code-params\">e</span>.<span class=\"code-params\">on</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetReader\"</span>,(e,t</span>)=&gt;</span>{(<span class=\"code-number\">0</span>,_util.assert)(<span class=\"code-keyword\">this</span>._networkStream,<span class=\"code-string\">\"GetReader - no `IPDFStream` instance available.\"</span>),<span class=\"code-keyword\">this</span>._fullReader=<span class=\"code-keyword\">this</span>._networkStream.getFullReader(),<span class=\"code-keyword\">this</span>._fullReader.onProgress=<span class=\"code-function\"><span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">this</span>._lastProgress={<span class=\"code-attr\">loaded</span>:e.loaded,<span class=\"code-attr\">total</span>:e.total}},t.onPull=<span class=\"code-function\"><span class=\"code-params\">()</span>=&gt;</span>{<span class=\"code-keyword\">this</span>._fullReader.read().then(<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">function</span>({value:e,done:r}</span>){<span class=\"code-params\">r</span>?<span class=\"code-params\">t</span>.<span class=\"code-params\">close</span><span class=\"code-params\">()</span>:(<span class=\"code-params\">(<span class=\"code-number\">0</span>,_util.assert</span>)(<span class=\"code-params\">(<span class=\"code-number\">0</span>,_util.isArrayBuffer</span>)(<span class=\"code-params\">e</span>),\"<span class=\"code-params\">GetReader</span> - <span class=\"code-params\">expected</span> <span class=\"code-params\">an</span> <span class=\"code-params\">ArrayBuffer</span>.\"),<span class=\"code-params\">t</span>.<span class=\"code-params\">enqueue</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e</span>),1,[<span class=\"code-params\">e</span>]))})).<span class=\"code-params\">catch</span>(<span class=\"code-params\">e=&gt;{t.error(e</span>)})},<span class=\"code-params\">t</span>.<span class=\"code-params\">onCancel</span>=<span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">this</span>._fullReader.cancel(e)}}),e.on(<span class=\"code-string\">\"ReaderHeadersReady\"</span>,e=&gt;{<span class=\"code-keyword\">const</span> r=<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">s</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullReader</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">headersReady</span>.<span class=\"code-params\">then</span>(<span class=\"code-params\">(</span>)=&gt;</span>{s.isStreamingSupported&amp;&amp;s.isRangeSupported||<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._lastProgress&amp;&amp;t.onProgress&amp;&amp;t.onProgress(<span class=\"code-keyword\">this</span>._lastProgress</span>),<span class=\"code-params\">s</span>.<span class=\"code-params\">onProgress</span>=<span class=\"code-params\">e</span>=&gt;</span>{t.onProgress&amp;&amp;t.onProgress({<span class=\"code-attr\">loaded</span>:e.loaded,<span class=\"code-attr\">total</span>:e.total})}),r.resolve({<span class=\"code-attr\">isStreamingSupported</span>:s.isStreamingSupported,<span class=\"code-attr\">isRangeSupported</span>:s.isRangeSupported,<span class=\"code-attr\">contentLength</span>:s.contentLength})},r.reject),r.promise}),e.on(<span class=\"code-string\">\"GetRangeReader\"</span>,(e,t)=&gt;{(<span class=\"code-number\">0</span>,_util.assert)(<span class=\"code-keyword\">this</span>._networkStream,<span class=\"code-string\">\"GetRangeReader - no `IPDFStream` instance available.\"</span>);<span class=\"code-keyword\">const</span> r=<span class=\"code-keyword\">this</span>._networkStream.getRangeReader(e.begin,e.end);r?<span class=\"code-function\">(<span class=\"code-params\">t.onPull=(</span>)=&gt;</span>{r.read().then(<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">function</span>({value:e,done:r}</span>){<span class=\"code-params\">r</span>?<span class=\"code-params\">t</span>.<span class=\"code-params\">close</span><span class=\"code-params\">()</span>:(<span class=\"code-params\">(<span class=\"code-number\">0</span>,_util.assert</span>)(<span class=\"code-params\">(<span class=\"code-number\">0</span>,_util.isArrayBuffer</span>)(<span class=\"code-params\">e</span>),\"<span class=\"code-params\">GetRangeReader</span> - <span class=\"code-params\">expected</span> <span class=\"code-params\">an</span> <span class=\"code-params\">ArrayBuffer</span>.\"),<span class=\"code-params\">t</span>.<span class=\"code-params\">enqueue</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e</span>),1,[<span class=\"code-params\">e</span>]))})).<span class=\"code-params\">catch</span>(<span class=\"code-params\">e=&gt;{t.error(e</span>)})},<span class=\"code-params\">t</span>.<span class=\"code-params\">onCancel</span>=<span class=\"code-params\">e</span>=&gt;</span>{r.cancel(e)}):t.close()}),e.on(<span class=\"code-string\">\"GetDoc\"</span>,({<span class=\"code-attr\">pdfInfo</span>:e})=&gt;{<span class=\"code-keyword\">this</span>._numPages=e.numPages,t._capability.resolve(<span class=\"code-keyword\">new</span> PDFDocumentProxy(e,<span class=\"code-keyword\">this</span>))}),e.on(<span class=\"code-string\">\"DocException\"</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">let</span> r;<span class=\"code-keyword\">switch</span>(e.name){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"PasswordException\"</span>:r=<span class=\"code-keyword\">new</span> _util.PasswordException(e.message,e.code);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"InvalidPDFException\"</span>:r=<span class=\"code-keyword\">new</span> _util.InvalidPDFException(e.message);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"MissingPDFException\"</span>:r=<span class=\"code-keyword\">new</span> _util.MissingPDFException(e.message);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"UnexpectedResponseException\"</span>:r=<span class=\"code-keyword\">new</span> _util.UnexpectedResponseException(e.message,e.status);<span class=\"code-keyword\">break</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"UnknownErrorException\"</span>:r=<span class=\"code-keyword\">new</span> _util.UnknownErrorException(e.message,e.details)}t._capability.reject(r)})),e.on(<span class=\"code-string\">\"PasswordRequest\"</span>,e=&gt;{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._passwordCapability=<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">onPassword</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">this</span>._passwordCapability.resolve({<span class=\"code-attr\">password</span>:e})};<span class=\"code-keyword\">try</span>{t.onPassword(r,e.code)}<span class=\"code-keyword\">catch</span>(e){<span class=\"code-keyword\">this</span>._passwordCapability.reject(e)}}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>._passwordCapability.reject(<span class=\"code-keyword\">new</span> _util.PasswordException(e.message,e.code));<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._passwordCapability.promise}),e.on(<span class=\"code-string\">\"DataLoaded\"</span>,e=&gt;{t.onProgress&amp;&amp;t.onProgress({<span class=\"code-attr\">loaded</span>:e.length,<span class=\"code-attr\">total</span>:e.length}),<span class=\"code-keyword\">this</span>.downloadInfoCapability.resolve(e)}),e.on(<span class=\"code-string\">\"StartRenderPage\"</span>,e=&gt;{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.destroyed)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">this</span>.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)}),e.on(<span class=\"code-string\">\"commonobj\"</span>,t=&gt;{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.destroyed)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">const</span>[r,s,n]=t;<span class=\"code-keyword\">if</span>(!<span class=\"code-keyword\">this</span>.commonObjs.has(r))<span class=\"code-keyword\">switch</span>(s){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"Font\"</span>:<span class=\"code-keyword\">const</span> t=<span class=\"code-keyword\">this</span>._params;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"error\"</span><span class=\"code-keyword\">in</span> n){<span class=\"code-keyword\">const</span> e=n.error;<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Error during font loading: \"</span>+e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">r,e</span>);<span class=\"code-params\">break</span>}<span class=\"code-params\">let</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">null</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">pdfBug</span>&amp;&amp;<span class=\"code-params\">globalThis</span>.<span class=\"code-params\">FontInspector</span>&amp;&amp;<span class=\"code-params\">globalThis</span>.<span class=\"code-params\">FontInspector</span>.<span class=\"code-params\">enabled</span>&amp;&amp;(<span class=\"code-params\">i={registerFont(e,t</span>){<span class=\"code-params\">globalThis</span>.<span class=\"code-params\">FontInspector</span>.<span class=\"code-params\">fontAdded</span>(<span class=\"code-params\">e,t</span>)}});<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">_font_loader</span>.<span class=\"code-params\">FontFaceObject</span>(<span class=\"code-params\">n,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,onUnsupportedFeature:<span class=\"code-keyword\">this</span>._onUnsupportedFeature.bind(<span class=\"code-keyword\">this</span></span>),<span class=\"code-params\">fontRegistry</span>:<span class=\"code-params\">i</span>});<span class=\"code-params\">this</span>.<span class=\"code-params\">fontLoader</span>.<span class=\"code-params\">bind</span>(<span class=\"code-params\">a</span>).<span class=\"code-params\">catch</span>(<span class=\"code-params\">t=&gt;e.sendWithPromise(<span class=\"code-string\">\"FontFallback\"</span>,{id:r}</span>)).<span class=\"code-params\">finally</span>(<span class=\"code-params\">(</span>)=&gt;</span>{!t.fontExtraProperties&amp;&amp;a.data&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\">a.data=<span class=\"code-literal\">null</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">r,a</span>)});<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">FontPath</span>\":<span class=\"code-params\">case</span>\"<span class=\"code-params\">FontType3Res</span>\":<span class=\"code-params\">case</span>\"<span class=\"code-params\">Image</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">r,n</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">default</span>:<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Got unknown common object type \"</span>+s</span>)}}),<span class=\"code-params\">e</span>.<span class=\"code-params\">on</span>(<span class=\"code-params\"><span class=\"code-string\">\"obj\"</span>,e=&gt;{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.destroyed</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">const</span>[<span class=\"code-params\">t</span>,<span class=\"code-params\">r</span>,<span class=\"code-params\">s</span>,<span class=\"code-params\">n</span>]=<span class=\"code-params\">e</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">pageCache</span>[<span class=\"code-params\">r</span>];<span class=\"code-params\">if</span>(<span class=\"code-params\">!i.objs.has(t</span>))<span class=\"code-params\">switch</span>(<span class=\"code-params\">s</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">Image</span>\":<span class=\"code-params\">i</span>.<span class=\"code-params\">objs</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">t,n</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=8<span class=\"code-params\">e6</span>;<span class=\"code-params\">n</span>&amp;&amp;\"<span class=\"code-params\">data</span>\"<span class=\"code-params\">in</span> <span class=\"code-params\">n</span>&amp;&amp;<span class=\"code-params\">n</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">length</span>&gt;<span class=\"code-params\">e</span>&amp;&amp;(<span class=\"code-params\">i.cleanupAfterRender=!<span class=\"code-number\">0</span></span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">default</span>:<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Got unknown object type \"</span>+s</span>)}}),<span class=\"code-params\">e</span>.<span class=\"code-params\">on</span>(<span class=\"code-params\"><span class=\"code-string\">\"DocProgress\"</span>,e=&gt;{<span class=\"code-keyword\">this</span>.destroyed||t.onProgress&amp;&amp;t.onProgress({loaded:e.loaded,total:e.total}</span>)}),<span class=\"code-params\">e</span>.<span class=\"code-params\">on</span>(<span class=\"code-params\"><span class=\"code-string\">\"UnsupportedFeature\"</span>,<span class=\"code-keyword\">this</span>._onUnsupportedFeature.bind(<span class=\"code-keyword\">this</span></span>)),<span class=\"code-params\">e</span>.<span class=\"code-params\">on</span>(<span class=\"code-params\"><span class=\"code-string\">\"FetchBuiltInCMap\"</span>,(e,t</span>)=&gt;</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.destroyed)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> t.error(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Worker was destroyed\"</span>));<span class=\"code-keyword\">let</span> r=!<span class=\"code-number\">1</span>;t.onPull=<span class=\"code-function\"><span class=\"code-params\">()</span>=&gt;</span>{r?t.close():<span class=\"code-function\">(<span class=\"code-params\">r=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.CMapReaderFactory.fetch(e</span>).<span class=\"code-params\">then</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">t</span>.<span class=\"code-params\">enqueue</span>(<span class=\"code-params\">e,<span class=\"code-number\">1</span>,[e.cMapData.buffer]</span>)})).<span class=\"code-params\">catch</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">t</span>.<span class=\"code-params\">error</span>(<span class=\"code-params\">e</span>)})))}})}<span class=\"code-params\">_onUnsupportedFeature</span>(<span class=\"code-params\">{featureId:e}</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">destroyed</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">loadingTask</span>.<span class=\"code-params\">onUnsupportedFeature</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">loadingTask</span>.<span class=\"code-params\">onUnsupportedFeature</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">getData</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetData\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getPage</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!<span class=\"code-built_in\">Number</span>.isInteger(e</span>)||<span class=\"code-params\">e</span>&lt;=0||<span class=\"code-params\">e</span>&gt;<span class=\"code-params\">this</span>.<span class=\"code-params\">_numPages</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">Promise</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid page request\"</span></span>));<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>-1;<span class=\"code-params\">if</span>(<span class=\"code-params\">t <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.pagePromises</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">pagePromises</span>[<span class=\"code-params\">t</span>];<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetPage\"</span>,{pageIndex:t}</span>).<span class=\"code-params\">then</span>(<span class=\"code-params\">e=&gt;{<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>.destroyed</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Transport destroyed\"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">PDFPageProxy</span>(<span class=\"code-params\">t,e,<span class=\"code-keyword\">this</span>,<span class=\"code-keyword\">this</span>._params.pdfBug</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">pageCache</span>[<span class=\"code-params\">t</span>]=<span class=\"code-params\">r</span>,<span class=\"code-params\">r</span>});<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">pagePromises</span>[<span class=\"code-params\">t</span>]=<span class=\"code-params\">r</span>,<span class=\"code-params\">r</span>}<span class=\"code-params\">getPageIndex</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetPageIndex\"</span>,{ref:e}</span>).<span class=\"code-params\">catch</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">Promise</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(e</span>))}))}<span class=\"code-params\">getAnnotations</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetAnnotations\"</span>,{pageIndex:e,intent:t}</span>)}<span class=\"code-params\">getDestinations</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetDestinations\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getDestination</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>\"<span class=\"code-params\">string</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">e</span>?<span class=\"code-params\">Promise</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Invalid destination request.\"</span></span>)):<span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetDestination\"</span>,{id:e}</span>)}<span class=\"code-params\">getPageLabels</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetPageLabels\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getPageLayout</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetPageLayout\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getPageMode</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetPageMode\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getViewerPreferences</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetViewerPreferences\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getOpenAction</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetOpenAction\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getAttachments</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetAttachments\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getJavaScript</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetJavaScript\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getOutline</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetOutline\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getPermissions</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetPermissions\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">getMetadata</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetMetadata\"</span>,<span class=\"code-literal\">null</span></span>).<span class=\"code-params\">then</span>(<span class=\"code-params\">e=&gt;({info:e[<span class=\"code-number\">0</span>],metadata:e[<span class=\"code-number\">1</span>]?<span class=\"code-keyword\">new</span> _metadata.Metadata(e[<span class=\"code-number\">1</span>]</span>):<span class=\"code-params\">null</span>,<span class=\"code-params\">contentDispositionFilename</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullReader</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullReader</span>.<span class=\"code-params\">filename</span>:<span class=\"code-params\">null</span>}))}<span class=\"code-params\">getStats</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"GetStats\"</span>,<span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">startCleanup</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">messageHandler</span>.<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\"><span class=\"code-string\">\"Cleanup\"</span>,<span class=\"code-literal\">null</span></span>).<span class=\"code-params\">then</span>(<span class=\"code-params\">(</span>)=&gt;</span>{<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>,t=<span class=\"code-keyword\">this</span>.pageCache.length;e&lt;t;e++){<span class=\"code-keyword\">const</span> t=<span class=\"code-keyword\">this</span>.pageCache[e];<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">if</span>(!t.cleanup())<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">`startCleanup: Page <span class=\"code-subst\">${e+<span class=\"code-number\">1</span>}</span> is currently rendering.`</span>)}}<span class=\"code-keyword\">this</span>.commonObjs.clear(),<span class=\"code-keyword\">this</span>.fontLoader.clear()})}<span class=\"code-keyword\">get</span> loadingParams(){<span class=\"code-keyword\">const</span> e=<span class=\"code-keyword\">this</span>._params;<span class=\"code-keyword\">return</span><span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.shadow</span>)(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"loadingParams\"</span>,{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace}</span>)}}<span class=\"code-params\">class</span> <span class=\"code-params\">PDFObjects</span>{<span class=\"code-params\">constructor</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">_objs</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>)}<span class=\"code-params\">_ensureObj</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_objs</span>[<span class=\"code-params\">e</span>]?<span class=\"code-params\">this</span>.<span class=\"code-params\">_objs</span>[<span class=\"code-params\">e</span>]:<span class=\"code-params\">this</span>.<span class=\"code-params\">_objs</span>[<span class=\"code-params\">e</span>]={<span class=\"code-params\">capability</span>:(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">data</span>:<span class=\"code-params\">null</span>,<span class=\"code-params\">resolved</span>:!1}}<span class=\"code-params\">get</span>(<span class=\"code-params\">e,t=<span class=\"code-literal\">null</span></span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">t</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_ensureObj</span>(<span class=\"code-params\">e</span>).<span class=\"code-params\">capability</span>.<span class=\"code-params\">promise</span>.<span class=\"code-params\">then</span>(<span class=\"code-params\">t</span>),<span class=\"code-params\">null</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_objs</span>[<span class=\"code-params\">e</span>];<span class=\"code-params\">if</span>(<span class=\"code-params\">!r||!r.resolved</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">`Requesting object that isn't resolved yet <span class=\"code-subst\">${e}</span>.`</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>.<span class=\"code-params\">data</span>}<span class=\"code-params\">has</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_objs</span>[<span class=\"code-params\">e</span>];<span class=\"code-params\">return</span>!!<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">resolved</span>}<span class=\"code-params\">resolve</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_ensureObj</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">r</span>.<span class=\"code-params\">resolved</span>=!0,<span class=\"code-params\">r</span>.<span class=\"code-params\">data</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">r</span>.<span class=\"code-params\">capability</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">t</span>)}<span class=\"code-params\">clear</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">_objs</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>)}}<span class=\"code-params\">class</span> <span class=\"code-params\">RenderTask</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_internalRenderTask</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">onContinue</span>=<span class=\"code-params\">null</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">promise</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_internalRenderTask</span>.<span class=\"code-params\">capability</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">cancel</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">_internalRenderTask</span>.<span class=\"code-params\">cancel</span><span class=\"code-params\">()</span>}}<span class=\"code-params\">const</span> <span class=\"code-params\">InternalRenderTask</span>=<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">WeakSet</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">class</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">{callback:e,params:t,objs:r,commonObjs:s,operatorList:n,pageIndex:i,canvasFactory:a,webGLContext:o,useRequestAnimationFrame:l=!<span class=\"code-number\">1</span>,pdfBug:c=!<span class=\"code-number\">1</span>}</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">callback</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">params</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">objs</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>=<span class=\"code-params\">s</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">operatorListIdx</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">operatorList</span>=<span class=\"code-params\">n</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_pageIndex</span>=<span class=\"code-params\">i</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">canvasFactory</span>=<span class=\"code-params\">a</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">webGLContext</span>=<span class=\"code-params\">o</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_pdfBug</span>=<span class=\"code-params\">c</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">running</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">graphicsReadyCallback</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">graphicsReady</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">_useRequestAnimationFrame</span>=!0===<span class=\"code-params\">l</span>&amp;&amp;\"<span class=\"code-params\">undefined</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">window</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">cancelled</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">capability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,_util.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">task</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">RenderTask</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_continueBound</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_continue</span>.<span class=\"code-params\">bind</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_scheduleNextBound</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_scheduleNext</span>.<span class=\"code-params\">bind</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_nextBound</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_next</span>.<span class=\"code-params\">bind</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_canvas</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">canvasContext</span>.<span class=\"code-params\">canvas</span>}<span class=\"code-params\">initializeGraphics</span>(<span class=\"code-params\">t=!<span class=\"code-number\">1</span></span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.cancelled</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._canvas</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">e.has(<span class=\"code-keyword\">this</span>._canvas</span>))<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.\"</span></span>);<span class=\"code-params\">e</span>.<span class=\"code-params\">add</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._canvas</span>)}<span class=\"code-params\">this</span>.<span class=\"code-params\">_pdfBug</span>&amp;&amp;<span class=\"code-params\">globalThis</span>.<span class=\"code-params\">StepperManager</span>&amp;&amp;<span class=\"code-params\">globalThis</span>.<span class=\"code-params\">StepperManager</span>.<span class=\"code-params\">enabled</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.stepper=globalThis.StepperManager.create(<span class=\"code-keyword\">this</span>._pageIndex</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">stepper</span>.<span class=\"code-params\">init</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.operatorList</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">stepper</span>.<span class=\"code-params\">nextBreakPoint</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">stepper</span>.<span class=\"code-params\">getNextBreakPoint</span><span class=\"code-params\">()</span>);<span class=\"code-params\">const</span>{<span class=\"code-params\">canvasContext</span>:<span class=\"code-params\">r</span>,<span class=\"code-params\">viewport</span>:<span class=\"code-params\">s</span>,<span class=\"code-params\">transform</span>:<span class=\"code-params\">n</span>,<span class=\"code-params\">imageLayer</span>:<span class=\"code-params\">i</span>,<span class=\"code-params\">background</span>:<span class=\"code-params\">a</span>}=<span class=\"code-params\">this</span>.<span class=\"code-params\">params</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">gfx</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">_canvas</span>.<span class=\"code-params\">CanvasGraphics</span>(<span class=\"code-params\">r,<span class=\"code-keyword\">this</span>.commonObjs,<span class=\"code-keyword\">this</span>.objs,<span class=\"code-keyword\">this</span>.canvasFactory,<span class=\"code-keyword\">this</span>.webGLContext,i</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">gfx</span>.<span class=\"code-params\">beginDrawing</span>(<span class=\"code-params\">{transform:n,viewport:s,transparency:t,background:a}</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">operatorListIdx</span>=0,<span class=\"code-params\">this</span>.<span class=\"code-params\">graphicsReady</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">graphicsReadyCallback</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">graphicsReadyCallback</span><span class=\"code-params\">()</span>}<span class=\"code-params\">cancel</span>(<span class=\"code-params\">t=<span class=\"code-literal\">null</span></span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">running</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">cancelled</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">gfx</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">gfx</span>.<span class=\"code-params\">endDrawing</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_canvas</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">delete</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._canvas</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">callback</span>(<span class=\"code-params\">t||<span class=\"code-keyword\">new</span> _display_utils.RenderingCancelledException(<span class=\"code-string\">\"Rendering cancelled, page \"</span>+(<span class=\"code-keyword\">this</span>._pageIndex+<span class=\"code-number\">1</span></span>),\"<span class=\"code-params\">canvas</span>\"))}<span class=\"code-params\">operatorListChanged</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">graphicsReady</span>?(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.stepper&amp;&amp;<span class=\"code-keyword\">this</span>.stepper.updateOperatorList(<span class=\"code-keyword\">this</span>.operatorList</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">running</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_continue</span><span class=\"code-params\">()</span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">graphicsReadyCallback</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.graphicsReadyCallback=<span class=\"code-keyword\">this</span>._continueBound</span>)}<span class=\"code-params\">_continue</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">running</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">cancelled</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.task.onContinue?<span class=\"code-keyword\">this</span>.task.onContinue(<span class=\"code-keyword\">this</span>._scheduleNextBound</span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">_scheduleNext</span><span class=\"code-params\">()</span>)}<span class=\"code-params\">_scheduleNext</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">_useRequestAnimationFrame</span>?<span class=\"code-params\">window</span>.<span class=\"code-params\">requestAnimationFrame</span>(<span class=\"code-params\">(</span>)=&gt;</span>{<span class=\"code-keyword\">this</span>._nextBound().catch(<span class=\"code-keyword\">this</span>.cancel.bind(<span class=\"code-keyword\">this</span>))}):<span class=\"code-built_in\">Promise</span>.resolve().then(<span class=\"code-keyword\">this</span>._nextBound).catch(<span class=\"code-keyword\">this</span>.cancel.bind(<span class=\"code-keyword\">this</span>))}<span class=\"code-keyword\">async</span> _next(){<span class=\"code-keyword\">this</span>.cancelled||<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.operatorListIdx=<span class=\"code-keyword\">this</span>.gfx.executeOperatorList(<span class=\"code-keyword\">this</span>.operatorList,<span class=\"code-keyword\">this</span>.operatorListIdx,<span class=\"code-keyword\">this</span>._continueBound,<span class=\"code-keyword\">this</span>.stepper</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">operatorListIdx</span>===<span class=\"code-params\">this</span>.<span class=\"code-params\">operatorList</span>.<span class=\"code-params\">argsArray</span>.<span class=\"code-params\">length</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.running=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.operatorList.lastChunk&amp;&amp;(<span class=\"code-keyword\">this</span>.gfx.endDrawing(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_canvas</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">delete</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._canvas</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">callback</span><span class=\"code-params\">()</span>)))}}}<span class=\"code-params\">()</span>,<span class=\"code-params\">version</span>=\"2.5.207\";<span class=\"code-params\">exports</span>.<span class=\"code-params\">version</span>=<span class=\"code-params\">version</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">build</span>=\"0974<span class=\"code-params\">d605</span>\";<span class=\"code-params\">exports</span>.<span class=\"code-params\">build</span>=<span class=\"code-params\">build</span>},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">FontLoader</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">FontFaceObject</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>);<span class=\"code-params\">class</span> <span class=\"code-params\">n</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">{docId:e,onUnsupportedFeature:t}</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">constructor</span>===<span class=\"code-params\">n</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.unreachable</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Cannot initialize BaseFontLoader.\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">docId</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_onUnsupportedFeature</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">nativeFontFaces</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">styleElement</span>=<span class=\"code-params\">null</span>}<span class=\"code-params\">addNativeFontFace</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">nativeFontFaces</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">document</span>.<span class=\"code-params\">fonts</span>.<span class=\"code-params\">add</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">insertRule</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">styleElement</span>;<span class=\"code-params\">t</span>||(<span class=\"code-params\">t=<span class=\"code-keyword\">this</span>.styleElement=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"style\"</span></span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">id</span>=\"<span class=\"code-params\">PDFJS_FONT_STYLE_TAG_</span>\"+<span class=\"code-params\">this</span>.<span class=\"code-params\">docId</span>,<span class=\"code-params\">document</span>.<span class=\"code-params\">documentElement</span>.<span class=\"code-params\">getElementsByTagName</span>(<span class=\"code-params\"><span class=\"code-string\">\"head\"</span></span>)[0].<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">t</span>));<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">sheet</span>;<span class=\"code-params\">r</span>.<span class=\"code-params\">insertRule</span>(<span class=\"code-params\">e,r.cssRules.length</span>)}<span class=\"code-params\">clear</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">nativeFontFaces</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">document</span>.<span class=\"code-params\">fonts</span>.<span class=\"code-params\">delete</span>(<span class=\"code-params\">e</span>)})),<span class=\"code-params\">this</span>.<span class=\"code-params\">nativeFontFaces</span>.<span class=\"code-params\">length</span>=0,<span class=\"code-params\">this</span>.<span class=\"code-params\">styleElement</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.styleElement.remove(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">styleElement</span>=<span class=\"code-params\">null</span>)}<span class=\"code-params\">async</span> <span class=\"code-params\">bind</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">e.attached||e.missingFile</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">e.attached=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.isFontLoadingAPISupported</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">createNativeFontFace</span><span class=\"code-params\">()</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">t</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">addNativeFontFace</span>(<span class=\"code-params\">t</span>);<span class=\"code-params\">try</span>{<span class=\"code-params\">await</span> <span class=\"code-params\">t</span>.<span class=\"code-params\">loaded</span>}<span class=\"code-params\">catch</span>(<span class=\"code-params\">r</span>){<span class=\"code-params\">throw</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_onUnsupportedFeature</span>(<span class=\"code-params\">{featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}</span>),(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">`Failed to load font '<span class=\"code-subst\">${t.family}</span>': '<span class=\"code-subst\">${r}</span>'.`</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">disableFontFace</span>=!0,<span class=\"code-params\">r</span>}}<span class=\"code-params\">return</span>}<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">createFontFaceRule</span><span class=\"code-params\">()</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">t</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.insertRule(t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">isSyncFontLoadingSupported</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">await</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Promise</span>(<span class=\"code-params\">r=&gt;{<span class=\"code-keyword\">const</span> s=<span class=\"code-keyword\">this</span>._queueLoadingCallback(r</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_prepareFontLoadEvent</span>(<span class=\"code-params\">[t],[e],s</span>)})}}<span class=\"code-params\">_queueLoadingCallback</span>(<span class=\"code-params\">e</span>){(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.unreachable</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Abstract method `_queueLoadingCallback`.\"</span></span>)}<span class=\"code-params\">get</span> <span class=\"code-params\">isFontLoadingAPISupported</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=\"<span class=\"code-params\">undefined</span>\"!=<span class=\"code-params\">typeof</span> <span class=\"code-params\">document</span>&amp;&amp;!!<span class=\"code-params\">document</span>.<span class=\"code-params\">fonts</span>;<span class=\"code-params\">return</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.shadow</span>)(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isFontLoadingAPISupported\"</span>,e</span>)}<span class=\"code-params\">get</span> <span class=\"code-params\">isSyncFontLoadingSupported</span><span class=\"code-params\">()</span>{(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.unreachable</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Abstract method `isSyncFontLoadingSupported`.\"</span></span>)}<span class=\"code-params\">get</span> <span class=\"code-params\">_loadTestFont</span><span class=\"code-params\">()</span>{(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.unreachable</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Abstract method `_loadTestFont`.\"</span></span>)}<span class=\"code-params\">_prepareFontLoadEvent</span>(<span class=\"code-params\">e,t,r</span>){(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.unreachable</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Abstract method `_prepareFontLoadEvent`.\"</span></span>)}}<span class=\"code-params\">let</span> <span class=\"code-params\">i</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">FontLoader</span>=<span class=\"code-params\">i</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">FontLoader</span>=<span class=\"code-params\">i</span>=<span class=\"code-params\">class</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">n</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">loadingContext</span>={<span class=\"code-params\">requests</span>:[],<span class=\"code-params\">nextRequestId</span>:0},<span class=\"code-params\">this</span>.<span class=\"code-params\">loadTestFontId</span>=0}<span class=\"code-params\">get</span> <span class=\"code-params\">isSyncFontLoadingSupported</span><span class=\"code-params\">()</span>{<span class=\"code-params\">let</span> <span class=\"code-params\">e</span>=!1;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"undefined\"</span>==<span class=\"code-keyword\">typeof</span> navigator</span>)<span class=\"code-params\">e</span>=!0;<span class=\"code-params\">else</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=/<span class=\"code-params\">Mozilla</span>\\/5.0.*?<span class=\"code-params\">rv</span>:(<span class=\"code-params\">\\d+</span>).*? <span class=\"code-params\">Gecko</span>/.<span class=\"code-params\">exec</span>(<span class=\"code-params\">navigator.userAgent</span>);<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">t</span>[1]&gt;=14&amp;&amp;(<span class=\"code-params\">e=!<span class=\"code-number\">0</span></span>)}<span class=\"code-params\">return</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.shadow</span>)(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isSyncFontLoadingSupported\"</span>,e</span>)}<span class=\"code-params\">_queueLoadingCallback</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">loadingContext</span>,<span class=\"code-params\">r</span>={<span class=\"code-params\">id</span>:\"<span class=\"code-params\">pdfjs</span>-<span class=\"code-params\">font</span>-<span class=\"code-params\">loading</span>-\"+<span class=\"code-params\">t</span>.<span class=\"code-params\">nextRequestId</span>++,<span class=\"code-params\">done</span>:!1,<span class=\"code-params\">complete</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">for</span>(<span class=\"code-params\">(<span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\">!r.done,<span class=\"code-string\">\"completeRequest() cannot be called twice.\"</span></span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">done</span>=!0;<span class=\"code-params\">t</span>.<span class=\"code-params\">requests</span>.<span class=\"code-params\">length</span>&gt;0&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">requests</span>[0].<span class=\"code-params\">done</span>;){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">requests</span>.<span class=\"code-params\">shift</span><span class=\"code-params\">()</span>;<span class=\"code-params\">setTimeout</span>(<span class=\"code-params\">e.callback,<span class=\"code-number\">0</span></span>)}},<span class=\"code-params\">callback</span>:<span class=\"code-params\">e</span>};<span class=\"code-params\">return</span> <span class=\"code-params\">t</span>.<span class=\"code-params\">requests</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">r</span>),<span class=\"code-params\">r</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">_loadTestFont</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.shadow</span>)(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"_loadTestFont\"</span>,atob(<span class=\"code-string\">\"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==\"</span></span>))}<span class=\"code-params\">_prepareFontLoadEvent</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">function</span> <span class=\"code-params\">n</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\">t</span>)&lt;&lt;24|<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\">t+<span class=\"code-number\">1</span></span>)&lt;&lt;16|<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\">t+<span class=\"code-number\">2</span></span>)&lt;&lt;8|255&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\">t+<span class=\"code-number\">3</span></span>)}<span class=\"code-params\">function</span> <span class=\"code-params\">i</span>(<span class=\"code-params\">e,t,r,s</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">substring</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,t</span>)+<span class=\"code-params\">s</span>+<span class=\"code-params\">e</span>.<span class=\"code-params\">substring</span>(<span class=\"code-params\">t+r</span>)}<span class=\"code-params\">let</span> <span class=\"code-params\">a</span>,<span class=\"code-params\">o</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">l</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"canvas\"</span></span>);<span class=\"code-params\">l</span>.<span class=\"code-params\">width</span>=1,<span class=\"code-params\">l</span>.<span class=\"code-params\">height</span>=1;<span class=\"code-params\">const</span> <span class=\"code-params\">c</span>=<span class=\"code-params\">l</span>.<span class=\"code-params\">getContext</span>(<span class=\"code-params\"><span class=\"code-string\">\"2d\"</span></span>);<span class=\"code-params\">let</span> <span class=\"code-params\">h</span>=0;<span class=\"code-params\">const</span> <span class=\"code-params\">d</span>=`<span class=\"code-params\">lt$</span>{<span class=\"code-params\">Date</span>.<span class=\"code-params\">now</span><span class=\"code-params\">()</span>}<span class=\"code-params\">$</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">loadTestFontId</span>++}`;<span class=\"code-params\">let</span> <span class=\"code-params\">u</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_loadTestFont</span>;<span class=\"code-params\">u</span>=<span class=\"code-params\">i</span>(<span class=\"code-params\">u,<span class=\"code-number\">976</span>,d.length,d</span>);<span class=\"code-params\">let</span> <span class=\"code-params\">p</span>=<span class=\"code-params\">n</span>(<span class=\"code-params\">u,<span class=\"code-number\">16</span></span>);<span class=\"code-params\">for</span>(<span class=\"code-params\">a=<span class=\"code-number\">0</span>,o=d.length<span class=\"code-number\">-3</span>;a&lt;o;a+=<span class=\"code-number\">4</span></span>)<span class=\"code-params\">p</span>=<span class=\"code-params\">p</span>-1482184792+<span class=\"code-params\">n</span>(<span class=\"code-params\">d,a</span>)|0;<span class=\"code-params\">a</span>&lt;<span class=\"code-params\">d</span>.<span class=\"code-params\">length</span>&amp;&amp;(<span class=\"code-params\">p=p<span class=\"code-number\">-1482184792</span>+n(d+<span class=\"code-string\">\"XXX\"</span>,a</span>)|0),<span class=\"code-params\">u</span>=<span class=\"code-params\">i</span>(<span class=\"code-params\">u,<span class=\"code-number\">16</span>,<span class=\"code-number\">4</span>,(<span class=\"code-number\">0</span>,s.string32</span>)(<span class=\"code-params\">p</span>));<span class=\"code-params\">const</span> <span class=\"code-params\">g</span>=`@<span class=\"code-params\">font</span>-<span class=\"code-params\">face</span> {<span class=\"code-params\">font</span>-<span class=\"code-params\">family</span>:\"<span class=\"code-params\">$</span>{<span class=\"code-params\">d</span>}\";<span class=\"code-params\">src</span>:<span class=\"code-params\">$</span>{`<span class=\"code-params\">url</span>(<span class=\"code-params\">data:font<span class=\"code-regexp\">/opentype;base64,${btoa(u)});`}}`;this.insertRule(g);const f=[];for(a=0,o=t.length;a&lt;o;a++)f.push(t[a].loadedName);f.push(d);const m=document.createElement(\"div\");for(m.style.visibility=\"hidden\",m.style.width=m.style.height=\"10px\",m.style.position=\"absolute\",m.style.top=m.style.left=\"0px\",a=0,o=f.length;a&lt;o;++a){const e=document.createElement(\"span\");e.textContent=\"Hi\",e.style.fontFamily=f[a],m.appendChild(e)}document.body.appendChild(m),function e(t,r){if(h++,h&gt;30)return(0,s.warn)(\"Load test font never loaded.\"),void r();c.font=\"30px \"+t,c.fillText(\".\",0,20),c.getImageData(0,0,1,1).data[3]&gt;0?r():setTimeout(e.bind(null,t,r))}(d,(function(){document.body.removeChild(m),r.complete()}))}};t.FontFaceObject=class{constructor(e,{isEvalSupported:t=!0,disableFontFace:r=!1,ignoreErrors:s=!1,onUnsupportedFeature:n=null,fontRegistry:i=null}){this.compiledGlyphs=Object.create(null);for(const t in e)this[t]=e[t];this.isEvalSupported=!1!==t,this.disableFontFace=!0===r,this.ignoreErrors=!0===s,this._onUnsupportedFeature=n,this.fontRegistry=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;const e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&amp;&amp;this.fontRegistry.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,s.bytesToString)(new Uint8Array(this.data)),t=`url(data:${this.mimetype};base64,${btoa(e)});`,r=`@font-face {font-family:\"${this.loadedName}\";src:${t}}`;return this.fontRegistry&amp;&amp;this.fontRegistry.registerFont(this,t),r}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let r,n;try{r=e.get(this.loadedName+\"_path_\"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature&amp;&amp;this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)(`getPathGenerator - ignoring character: \"${e}\".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&amp;&amp;s.IsEvalSupportedCached.value){let e,s=\"\";for(let t=0,i=r.length;t&lt;i;t++)n=r[t],e=void 0!==n.args?n.args.join(\",\"):\"\",s+=\"c.\"+n.cmd+\"(\"+e+\");\\n\";return this.compiledGlyphs[t]=new Function(\"c\",\"size\",s)}return this.compiledGlyphs[t]=function(e,t){for(let s=0,i=r.length;s&lt;i;s++)n=r[s],\"scale\"===n.cmd&amp;&amp;(n.args=[t,-t]),e[n.cmd].apply(e,n.args)}}}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.apiCompatibilityParams=void 0;var s=r(4);const n=Object.create(null);s.isNodeJS&amp;&amp;(n.disableFontFace=!0);const i=Object.freeze(n);t.apiCompatibilityParams=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.CanvasGraphics=void 0;var s=r(2),n=r(9);function i(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,\"mozCurrentTransform\",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,\"mozCurrentTransformInverse\",{get:function(){var e=this._transformMatrix,t=e[0],r=e[1],s=e[2],n=e[3],i=e[4],a=e[5],o=t*n-r*s,l=r*s-t*n;return[n/o,r/l,s/l,t/o,(n*i-s*a)/l,(r*i-t*a)/o]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&amp;&amp;(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var r=this._transformMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5],this._originalTranslate(e,t)},e.scale=function(e,t){var r=this._transformMatrix;r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*t,r[3]=r[3]*t,this._originalScale(e,t)},e.transform=function(t,r,s,n,i,a){var o=this._transformMatrix;this._transformMatrix=[o[0]*t+o[2]*r,o[1]*t+o[3]*r,o[0]*s+o[2]*n,o[1]*s+o[3]*n,o[0]*i+o[2]*a+o[4],o[1]*i+o[3]*a+o[5]],e._originalTransform(t,r,s,n,i,a)},e.setTransform=function(t,r,s,n,i,a){this._transformMatrix=[t,r,s,n,i,a],e._originalSetTransform(t,r,s,n,i,a)},e.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*r,s[1]*t+s[3]*r,s[0]*-r+s[2]*t,s[1]*-r+s[3]*t,s[4],s[5]],this._originalRotate(e)})}var a=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,r,s){var n;return void 0!==this.cache[e]?(n=this.cache[e],this.canvasFactory.reset(n,t,r),n.context.setTransform(1,0,0,1,0,0)):(n=this.canvasFactory.create(t,r),this.cache[e]=n),s&amp;&amp;i(n.context),n},clear(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}();var o=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor=\"#000000\",this.strokeColor=\"#000000\",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),l=function(){function e(e,t,r,s,n,l){this.ctx=e,this.current=new o,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=s,this.webGLContext=n,this.imageLayer=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new a(this.canvasFactory),e&amp;&amp;i(e),this._cachedGetSinglePixelWidth=null}function t(e,t){if(\"undefined\"!=typeof ImageData&amp;&amp;t instanceof ImageData)e.putImageData(t,0,0);else{var r,n,i,a,o,l=t.height,c=t.width,h=l%16,d=(l-h)/</span><span class=\"code-number\">16</span>,u=<span class=\"code-number\">0</span>===h?d:d+<span class=\"code-number\">1</span>,p=e.createImageData(c,<span class=\"code-number\">16</span></span>),<span class=\"code-params\">g</span>=0,<span class=\"code-params\">f</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">data</span>,<span class=\"code-params\">m</span>=<span class=\"code-params\">p</span>.<span class=\"code-params\">data</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">t.kind===s.ImageKind.GRAYSCALE_1BPP</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">A</span>=<span class=\"code-params\">f</span>.<span class=\"code-params\">byteLength</span>,<span class=\"code-params\">b</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint32Array</span>(<span class=\"code-params\">m.buffer,<span class=\"code-number\">0</span>,m.byteLength&gt;&gt;<span class=\"code-number\">2</span></span>),<span class=\"code-params\">_</span>=<span class=\"code-params\">b</span>.<span class=\"code-params\">length</span>,<span class=\"code-params\">y</span>=<span class=\"code-params\">c</span>+7&gt;&gt;3,<span class=\"code-params\">v</span>=4294967295,<span class=\"code-params\">S</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">IsLittleEndianCached</span>.<span class=\"code-params\">value</span>?4278190080:255;<span class=\"code-params\">for</span>(<span class=\"code-params\">n=<span class=\"code-number\">0</span>;n&lt;u;n++</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\">a=n&lt;d?<span class=\"code-number\">16</span>:h,r=<span class=\"code-number\">0</span>,i=<span class=\"code-number\">0</span>;i&lt;a;i++</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> x=A-g,C=<span class=\"code-number\">0</span>,P=x&gt;y?c:<span class=\"code-number\">8</span>*x<span class=\"code-number\">-7</span>,k=<span class=\"code-number\">-8</span>&amp;P,R=<span class=\"code-number\">0</span>,w=<span class=\"code-number\">0</span>;C&lt;k;C+=<span class=\"code-number\">8</span></span>)<span class=\"code-params\">w</span>=<span class=\"code-params\">f</span>[<span class=\"code-params\">g</span>++],<span class=\"code-params\">b</span>[<span class=\"code-params\">r</span>++]=128&amp;<span class=\"code-params\">w</span>?<span class=\"code-params\">v</span>:<span class=\"code-params\">S</span>,<span class=\"code-params\">b</span>[<span class=\"code-params\">r</span>++]=64&amp;<span class=\"code-params\">w</span>?<span class=\"code-params\">v</span>:<span class=\"code-params\">S</span>,<span class=\"code-params\">b</span>[<span class=\"code-params\">r</span>++]=32&amp;<span class=\"code-params\">w</span>?<span class=\"code-params\">v</span>:<span class=\"code-params\">S</span>,<span class=\"code-params\">b</span>[<span class=\"code-params\">r</span>++]=16&amp;<span class=\"code-params\">w</span>?<span class=\"code-params\">v</span>:<span class=\"code-params\">S</span>,<span class=\"code-params\">b</span>[<span class=\"code-params\">r</span>++]=8&amp;<span class=\"code-params\">w</span>?<span class=\"code-params\">v</span>:<span class=\"code-params\">S</span>,<span class=\"code-params\">b</span>[<span class=\"code-params\">r</span>++]=4&amp;<span class=\"code-params\">w</span>?<span class=\"code-params\">v</span>:<span class=\"code-params\">S</span>,<span class=\"code-params\">b</span>[<span class=\"code-params\">r</span>++]=2&amp;<span class=\"code-params\">w</span>?<span class=\"code-params\">v</span>:<span class=\"code-params\">S</span>,<span class=\"code-params\">b</span>[<span class=\"code-params\">r</span>++]=1&amp;<span class=\"code-params\">w</span>?<span class=\"code-params\">v</span>:<span class=\"code-params\">S</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\">;C&lt;P;C++</span>)0===<span class=\"code-params\">R</span>&amp;&amp;(<span class=\"code-params\">w=f[g++],R=<span class=\"code-number\">128</span></span>),<span class=\"code-params\">b</span>[<span class=\"code-params\">r</span>++]=<span class=\"code-params\">w</span>&amp;<span class=\"code-params\">R</span>?<span class=\"code-params\">v</span>:<span class=\"code-params\">S</span>,<span class=\"code-params\">R</span>&gt;&gt;=1}<span class=\"code-params\">for</span>(<span class=\"code-params\">;r&lt;_;</span>)<span class=\"code-params\">b</span>[<span class=\"code-params\">r</span>++]=0;<span class=\"code-params\">e</span>.<span class=\"code-params\">putImageData</span>(<span class=\"code-params\">p,<span class=\"code-number\">0</span>,<span class=\"code-number\">16</span>*n</span>)}}<span class=\"code-params\">else</span> <span class=\"code-params\">if</span>(<span class=\"code-params\">t.kind===s.ImageKind.RGBA_32BPP</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\">i=<span class=\"code-number\">0</span>,o=<span class=\"code-number\">16</span>*c*<span class=\"code-number\">4</span>,n=<span class=\"code-number\">0</span>;n&lt;d;n++</span>)<span class=\"code-params\">m</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">f.subarray(g,g+o</span>)),<span class=\"code-params\">g</span>+=<span class=\"code-params\">o</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">putImageData</span>(<span class=\"code-params\">p,<span class=\"code-number\">0</span>,i</span>),<span class=\"code-params\">i</span>+=16;<span class=\"code-params\">n</span>&lt;<span class=\"code-params\">u</span>&amp;&amp;(<span class=\"code-params\">o=c*h*<span class=\"code-number\">4</span>,m.set(f.subarray(g,g+o</span>)),<span class=\"code-params\">e</span>.<span class=\"code-params\">putImageData</span>(<span class=\"code-params\">p,<span class=\"code-number\">0</span>,i</span>))}<span class=\"code-params\">else</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\">t.kind!==s.ImageKind.RGB_24BPP</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"bad image kind: \"</span>+t.kind</span>);<span class=\"code-params\">for</span>(<span class=\"code-params\">o=c*(a=<span class=\"code-number\">16</span></span>),<span class=\"code-params\">n</span>=0;<span class=\"code-params\">n</span>&lt;<span class=\"code-params\">u</span>;<span class=\"code-params\">n</span>++){<span class=\"code-params\">for</span>(<span class=\"code-params\">n&gt;=d&amp;&amp;(o=c*(a=h</span>)),<span class=\"code-params\">r</span>=0,<span class=\"code-params\">i</span>=<span class=\"code-params\">o</span>;<span class=\"code-params\">i</span>--;)<span class=\"code-params\">m</span>[<span class=\"code-params\">r</span>++]=<span class=\"code-params\">f</span>[<span class=\"code-params\">g</span>++],<span class=\"code-params\">m</span>[<span class=\"code-params\">r</span>++]=<span class=\"code-params\">f</span>[<span class=\"code-params\">g</span>++],<span class=\"code-params\">m</span>[<span class=\"code-params\">r</span>++]=<span class=\"code-params\">f</span>[<span class=\"code-params\">g</span>++],<span class=\"code-params\">m</span>[<span class=\"code-params\">r</span>++]=255;<span class=\"code-params\">e</span>.<span class=\"code-params\">putImageData</span>(<span class=\"code-params\">p,<span class=\"code-number\">0</span>,<span class=\"code-number\">16</span>*n</span>)}}}}<span class=\"code-params\">function</span> <span class=\"code-params\">r</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> r=t.height,s=t.width,n=r%<span class=\"code-number\">16</span>,i=(r-n</span>)/16,<span class=\"code-params\">a</span>=0===<span class=\"code-params\">n</span>?<span class=\"code-params\">i</span>:<span class=\"code-params\">i</span>+1,<span class=\"code-params\">o</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">createImageData</span>(<span class=\"code-params\">s,<span class=\"code-number\">16</span></span>),<span class=\"code-params\">l</span>=0,<span class=\"code-params\">c</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">data</span>,<span class=\"code-params\">h</span>=<span class=\"code-params\">o</span>.<span class=\"code-params\">data</span>,<span class=\"code-params\">d</span>=0;<span class=\"code-params\">d</span>&lt;<span class=\"code-params\">a</span>;<span class=\"code-params\">d</span>++){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> u=d&lt;i?<span class=\"code-number\">16</span>:n,p=<span class=\"code-number\">3</span>,g=<span class=\"code-number\">0</span>;g&lt;u;g++</span>)<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> f=<span class=\"code-number\">0</span>,m=<span class=\"code-number\">0</span>;m&lt;s;m++</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!f</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">A</span>=<span class=\"code-params\">c</span>[<span class=\"code-params\">l</span>++];<span class=\"code-params\">f</span>=128}<span class=\"code-params\">h</span>[<span class=\"code-params\">p</span>]=<span class=\"code-params\">A</span>&amp;<span class=\"code-params\">f</span>?0:255,<span class=\"code-params\">p</span>+=4,<span class=\"code-params\">f</span>&gt;&gt;=1}<span class=\"code-params\">e</span>.<span class=\"code-params\">putImageData</span>(<span class=\"code-params\">o,<span class=\"code-number\">0</span>,<span class=\"code-number\">16</span>*d</span>)}}<span class=\"code-params\">function</span> <span class=\"code-params\">l</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> r=[<span class=\"code-string\">\"strokeStyle\"</span>,<span class=\"code-string\">\"fillStyle\"</span>,<span class=\"code-string\">\"fillRule\"</span>,<span class=\"code-string\">\"globalAlpha\"</span>,<span class=\"code-string\">\"lineWidth\"</span>,<span class=\"code-string\">\"lineCap\"</span>,<span class=\"code-string\">\"lineJoin\"</span>,<span class=\"code-string\">\"miterLimit\"</span>,<span class=\"code-string\">\"globalCompositeOperation\"</span>,<span class=\"code-string\">\"font\"</span>],s=<span class=\"code-number\">0</span>,n=r.length;s&lt;n;s++</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">r</span>[<span class=\"code-params\">s</span>];<span class=\"code-params\">void</span> 0!==<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>]&amp;&amp;(<span class=\"code-params\">t[i]=e[i]</span>)}<span class=\"code-params\">void</span> 0!==<span class=\"code-params\">e</span>.<span class=\"code-params\">setLineDash</span>&amp;&amp;(<span class=\"code-params\">t.setLineDash(e.getLineDash(</span>)),<span class=\"code-params\">t</span>.<span class=\"code-params\">lineDashOffset</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">lineDashOffset</span>)}<span class=\"code-params\">function</span> <span class=\"code-params\">c</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">e</span>.<span class=\"code-params\">strokeStyle</span>=\"#000000\",<span class=\"code-params\">e</span>.<span class=\"code-params\">fillStyle</span>=\"#000000\",<span class=\"code-params\">e</span>.<span class=\"code-params\">fillRule</span>=\"<span class=\"code-params\">nonzero</span>\",<span class=\"code-params\">e</span>.<span class=\"code-params\">globalAlpha</span>=1,<span class=\"code-params\">e</span>.<span class=\"code-params\">lineWidth</span>=1,<span class=\"code-params\">e</span>.<span class=\"code-params\">lineCap</span>=\"<span class=\"code-params\">butt</span>\",<span class=\"code-params\">e</span>.<span class=\"code-params\">lineJoin</span>=\"<span class=\"code-params\">miter</span>\",<span class=\"code-params\">e</span>.<span class=\"code-params\">miterLimit</span>=10,<span class=\"code-params\">e</span>.<span class=\"code-params\">globalCompositeOperation</span>=\"<span class=\"code-params\">source</span>-<span class=\"code-params\">over</span>\",<span class=\"code-params\">e</span>.<span class=\"code-params\">font</span>=\"10<span class=\"code-params\">px</span> <span class=\"code-params\">sans</span>-<span class=\"code-params\">serif</span>\",<span class=\"code-params\">void</span> 0!==<span class=\"code-params\">e</span>.<span class=\"code-params\">setLineDash</span>&amp;&amp;(<span class=\"code-params\">e.setLineDash([]</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">lineDashOffset</span>=0)}<span class=\"code-params\">function</span> <span class=\"code-params\">h</span>(<span class=\"code-params\">e,t,r,s</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> n=e.length,i=<span class=\"code-number\">3</span>;i&lt;n;i+=<span class=\"code-number\">4</span></span>){<span class=\"code-params\">var</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>];<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>===a</span>)<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>-3]=<span class=\"code-params\">t</span>,<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>-2]=<span class=\"code-params\">r</span>,<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>-1]=<span class=\"code-params\">s</span>;<span class=\"code-params\">else</span> <span class=\"code-params\">if</span>(<span class=\"code-params\">a&lt;<span class=\"code-number\">255</span></span>){<span class=\"code-params\">var</span> <span class=\"code-params\">o</span>=255-<span class=\"code-params\">a</span>;<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>-3]=<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>-3]*<span class=\"code-params\">a</span>+<span class=\"code-params\">t</span>*<span class=\"code-params\">o</span>&gt;&gt;8,<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>-2]=<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>-2]*<span class=\"code-params\">a</span>+<span class=\"code-params\">r</span>*<span class=\"code-params\">o</span>&gt;&gt;8,<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>-1]=<span class=\"code-params\">e</span>[<span class=\"code-params\">i</span>-1]*<span class=\"code-params\">a</span>+<span class=\"code-params\">s</span>*<span class=\"code-params\">o</span>&gt;&gt;8}}}<span class=\"code-params\">function</span> <span class=\"code-params\">d</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> s=e.length,n=<span class=\"code-number\">3</span>;n&lt;s;n+=<span class=\"code-number\">4</span></span>){<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">r</span>?<span class=\"code-params\">r</span>[<span class=\"code-params\">e</span>[<span class=\"code-params\">n</span>]]:<span class=\"code-params\">e</span>[<span class=\"code-params\">n</span>];<span class=\"code-params\">t</span>[<span class=\"code-params\">n</span>]=<span class=\"code-params\">t</span>[<span class=\"code-params\">n</span>]*<span class=\"code-params\">i</span>*(<span class=\"code-params\"><span class=\"code-number\">1</span><span class=\"code-regexp\">/255)|0}}function u(e,t,r){for(var s=e.length,n=3;n&lt;s;n+=4){var i=77*e[n-3]+152*e[n-2]+28*e[n-1];t[n]=r?t[n]*r[i&gt;&gt;8]&gt;&gt;8:t[n]*i&gt;&gt;16}}function p(e,t,r,s){var n=t.canvas,i=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var a=t.backdrop||null;if(!t.transferMap&amp;&amp;s.isEnabled){const i=s.composeSMask({layer:r.canvas,mask:n,properties:{subtype:t.subtype,backdrop:a}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(i,t.offsetX,t.offsetY)}!function(e,t,r,s,n,i,a){var o,l=!!i,c=l?i[0]:0,p=l?i[1]:0,g=l?i[2]:0;o=\"Luminosity\"===n?u:d;for(var f=Math.min(s,Math.ceil(1048576/</span>r</span>)),<span class=\"code-params\">m</span>=0;<span class=\"code-params\">m</span>&lt;<span class=\"code-params\">s</span>;<span class=\"code-params\">m</span>+=<span class=\"code-params\">f</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">A</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">min</span>(<span class=\"code-params\">f,s-m</span>),<span class=\"code-params\">b</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">getImageData</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,m,r,A</span>),<span class=\"code-params\">_</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">getImageData</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,m,r,A</span>);<span class=\"code-params\">l</span>&amp;&amp;<span class=\"code-params\">h</span>(<span class=\"code-params\">b.data,c,p,g</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">b.data,_.data,a</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">putImageData</span>(<span class=\"code-params\">_,<span class=\"code-number\">0</span>,m</span>)}}(<span class=\"code-params\">i,r,n.width,n.height,t.subtype,a,t.transferMap</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">drawImage</span>(<span class=\"code-params\">n,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span></span>)}<span class=\"code-params\">var</span> <span class=\"code-params\">g</span>=[\"<span class=\"code-params\">butt</span>\",\"<span class=\"code-params\">round</span>\",\"<span class=\"code-params\">square</span>\"],<span class=\"code-params\">f</span>=[\"<span class=\"code-params\">miter</span>\",\"<span class=\"code-params\">round</span>\",\"<span class=\"code-params\">bevel</span>\"],<span class=\"code-params\">m</span>={},<span class=\"code-params\">A</span>={};<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> b <span class=\"code-keyword\">in</span> e.prototype={beginDrawing({transform:e,viewport:t,transparency:r=!<span class=\"code-number\">1</span>,background:s=<span class=\"code-literal\">null</span>}</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">canvas</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">canvas</span>.<span class=\"code-params\">height</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx.save(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">fillStyle</span>=<span class=\"code-params\">s</span>||\"<span class=\"code-params\">rgb</span>(<span class=\"code-params\"><span class=\"code-number\">255</span>, <span class=\"code-number\">255</span>, <span class=\"code-number\">255</span></span>)\",<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">fillRect</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,n,i</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">r</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">cachedCanvases</span>.<span class=\"code-params\">getCanvas</span>(<span class=\"code-params\"><span class=\"code-string\">\"transparent\"</span>,n,i,!<span class=\"code-number\">0</span></span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">compositeCtx</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">transparentCanvas</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">canvas</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">context</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx,<span class=\"code-keyword\">this</span>.compositeCtx.mozCurrentTransform</span>)}<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>,<span class=\"code-params\">c</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx</span>),<span class=\"code-params\">e</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx,e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx,t.transform</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">baseTransform</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">mozCurrentTransform</span>.<span class=\"code-params\">slice</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">imageLayer</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">imageLayer</span>.<span class=\"code-params\">beginLayout</span><span class=\"code-params\">()</span>},<span class=\"code-params\">executeOperatorList</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r,n</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">argsArray</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">fnArray</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">t</span>||0,<span class=\"code-params\">l</span>=<span class=\"code-params\">i</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">l===o</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">o</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> c,h=l-o&gt;<span class=\"code-number\">10</span>&amp;&amp;<span class=\"code-string\">\"function\"</span>==<span class=\"code-keyword\">typeof</span> r,d=h?<span class=\"code-built_in\">Date</span>.now(</span>)+15:0,<span class=\"code-params\">u</span>=0,<span class=\"code-params\">p</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>,<span class=\"code-params\">g</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">objs</span>;;){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==n&amp;&amp;o===n.nextBreakPoint</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">breakIt</span>(<span class=\"code-params\">o,r</span>),<span class=\"code-params\">o</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">(c=a[o]</span>)!==<span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">dependency</span>)<span class=\"code-params\">this</span>[<span class=\"code-params\">c</span>].<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,i[o]</span>);<span class=\"code-params\">else</span> <span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">of</span> i[o]</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">startsWith</span>(<span class=\"code-params\"><span class=\"code-string\">\"g_\"</span></span>)?<span class=\"code-params\">p</span>:<span class=\"code-params\">g</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">!t.has(e</span>))<span class=\"code-params\">return</span> <span class=\"code-params\">t</span>.<span class=\"code-params\">get</span>(<span class=\"code-params\">e,r</span>),<span class=\"code-params\">o</span>}<span class=\"code-params\">if</span>(<span class=\"code-params\">++o===l</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">o</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">h&amp;&amp;++u&gt;<span class=\"code-number\">10</span></span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-built_in\">Date</span>.now(</span>)&gt;<span class=\"code-params\">d</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">r</span><span class=\"code-params\">()</span>,<span class=\"code-params\">o</span>;<span class=\"code-params\">u</span>=0}}},<span class=\"code-params\">endDrawing</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">null</span>!==<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">activeSMask</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">endSMaskGroup</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">transparentCanvas</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx=<span class=\"code-keyword\">this</span>.compositeCtx,<span class=\"code-keyword\">this</span>.ctx.save(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">setTransform</span>(<span class=\"code-params\"><span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">drawImage</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.transparentCanvas,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">transparentCanvas</span>=<span class=\"code-params\">null</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">cachedCanvases</span>.<span class=\"code-params\">clear</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">webGLContext</span>.<span class=\"code-params\">clear</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">imageLayer</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">imageLayer</span>.<span class=\"code-params\">endLayout</span><span class=\"code-params\">()</span>},<span class=\"code-params\">setLineWidth</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineWidth</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">lineWidth</span>=<span class=\"code-params\">e</span>},<span class=\"code-params\">setLineCap</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">lineCap</span>=<span class=\"code-params\">g</span>[<span class=\"code-params\">e</span>]},<span class=\"code-params\">setLineJoin</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">lineJoin</span>=<span class=\"code-params\">f</span>[<span class=\"code-params\">e</span>]},<span class=\"code-params\">setMiterLimit</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">miterLimit</span>=<span class=\"code-params\">e</span>},<span class=\"code-params\">setDash</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>;<span class=\"code-params\">void</span> 0!==<span class=\"code-params\">r</span>.<span class=\"code-params\">setLineDash</span>&amp;&amp;(<span class=\"code-params\">r.setLineDash(e</span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">lineDashOffset</span>=<span class=\"code-params\">t</span>)},<span class=\"code-params\">setRenderingIntent</span>(<span class=\"code-params\">e</span>){},<span class=\"code-params\">setFlatness</span>(<span class=\"code-params\">e</span>){},<span class=\"code-params\">setGState</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>,r=e.length;t&lt;r;t++</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>[<span class=\"code-params\">t</span>],<span class=\"code-params\">n</span>=<span class=\"code-params\">s</span>[0],<span class=\"code-params\">i</span>=<span class=\"code-params\">s</span>[1];<span class=\"code-params\">switch</span>(<span class=\"code-params\">n</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">LW</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setLineWidth</span>(<span class=\"code-params\">i</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">LC</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setLineCap</span>(<span class=\"code-params\">i</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">LJ</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setLineJoin</span>(<span class=\"code-params\">i</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">ML</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setMiterLimit</span>(<span class=\"code-params\">i</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">D</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setDash</span>(<span class=\"code-params\">i[<span class=\"code-number\">0</span>],i[<span class=\"code-number\">1</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">RI</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setRenderingIntent</span>(<span class=\"code-params\">i</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">FL</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setFlatness</span>(<span class=\"code-params\">i</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">Font</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setFont</span>(<span class=\"code-params\">i[<span class=\"code-number\">0</span>],i[<span class=\"code-number\">1</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">CA</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">strokeAlpha</span>=<span class=\"code-params\">s</span>[1];<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">ca</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillAlpha</span>=<span class=\"code-params\">s</span>[1],<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">globalAlpha</span>=<span class=\"code-params\">s</span>[1];<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">BM</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">globalCompositeOperation</span>=<span class=\"code-params\">i</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">SMask</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">activeSMask</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.stateStack.length&gt;<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-keyword\">this</span>.stateStack[<span class=\"code-keyword\">this</span>.stateStack.length<span class=\"code-number\">-1</span>].activeSMask===<span class=\"code-keyword\">this</span>.current.activeSMask?<span class=\"code-keyword\">this</span>.suspendSMaskGroup(</span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">endSMaskGroup</span><span class=\"code-params\">()</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">activeSMask</span>=<span class=\"code-params\">i</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">tempSMask</span>:<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">activeSMask</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">beginSMaskGroup</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">tempSMask</span>=<span class=\"code-params\">null</span>}}},<span class=\"code-params\">beginSMaskGroup</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">activeSMask</span>,<span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">canvas</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">canvas</span>.<span class=\"code-params\">height</span>,<span class=\"code-params\">s</span>=\"<span class=\"code-params\">smaskGroupAt</span>\"+<span class=\"code-params\">this</span>.<span class=\"code-params\">groupLevel</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">cachedCanvases</span>.<span class=\"code-params\">getCanvas</span>(<span class=\"code-params\">s,t,r,!<span class=\"code-number\">0</span></span>),<span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">i</span>.<span class=\"code-params\">mozCurrentTransform</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">o</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">context</span>;<span class=\"code-params\">o</span>.<span class=\"code-params\">scale</span>(<span class=\"code-params\"><span class=\"code-number\">1</span><span class=\"code-regexp\">/e.scaleX,1/</span>e.scaleY</span>),<span class=\"code-params\">o</span>.<span class=\"code-params\">translate</span>(<span class=\"code-params\">-e.offsetX,-e.offsetY</span>),<span class=\"code-params\">o</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">o,a</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">startTransformInverse</span>=<span class=\"code-params\">o</span>.<span class=\"code-params\">mozCurrentTransformInverse</span>,<span class=\"code-params\">l</span>(<span class=\"code-params\">i,o</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>=<span class=\"code-params\">o</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">setGState</span>(<span class=\"code-params\">[[<span class=\"code-string\">\"BM\"</span>,<span class=\"code-string\">\"source-over\"</span>],[<span class=\"code-string\">\"ca\"</span>,<span class=\"code-number\">1</span>],[<span class=\"code-string\">\"CA\"</span>,<span class=\"code-number\">1</span>]]</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">groupStack</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">i</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">groupLevel</span>++},<span class=\"code-params\">suspendSMaskGroup</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">groupLevel</span>--,<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">groupStack</span>.<span class=\"code-params\">pop</span><span class=\"code-params\">()</span>,<span class=\"code-params\">p</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx,<span class=\"code-keyword\">this</span>.current.activeSMask,e,<span class=\"code-keyword\">this</span>.webGLContext</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>,<span class=\"code-params\">l</span>(<span class=\"code-params\">e,<span class=\"code-keyword\">this</span>.ctx</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">resumeSMaskCtx</span>=<span class=\"code-params\">e</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">transform</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.current.activeSMask.startTransformInverse,e.mozCurrentTransform</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx,t</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">setTransform</span>(<span class=\"code-params\"><span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">clearRect</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,e.canvas.width,e.canvas.height</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>},<span class=\"code-params\">resumeSMaskGroup</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">resumeSMaskCtx</span>,<span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">groupStack</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">groupLevel</span>++},<span class=\"code-params\">endSMaskGroup</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">groupLevel</span>--,<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">groupStack</span>.<span class=\"code-params\">pop</span><span class=\"code-params\">()</span>,<span class=\"code-params\">p</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx,<span class=\"code-keyword\">this</span>.current.activeSMask,e,<span class=\"code-keyword\">this</span>.webGLContext</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">l</span>(<span class=\"code-params\">e,<span class=\"code-keyword\">this</span>.ctx</span>);<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">transform</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.current.activeSMask.startTransformInverse,e.mozCurrentTransform</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx,t</span>)},<span class=\"code-params\">save</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">stateStack</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">clone</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">resumeSMaskCtx</span>=<span class=\"code-params\">null</span>},<span class=\"code-params\">restore</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">resumeSMaskCtx</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">resumeSMaskGroup</span><span class=\"code-params\">()</span>,<span class=\"code-params\">null</span>===<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">activeSMask</span>||0!==<span class=\"code-params\">this</span>.<span class=\"code-params\">stateStack</span>.<span class=\"code-params\">length</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">stateStack</span>[<span class=\"code-params\">this</span>.<span class=\"code-params\">stateStack</span>.<span class=\"code-params\">length</span>-1].<span class=\"code-params\">activeSMask</span>===<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">activeSMask</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">endSMaskGroup</span><span class=\"code-params\">()</span>,0!==<span class=\"code-params\">this</span>.<span class=\"code-params\">stateStack</span>.<span class=\"code-params\">length</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.current=<span class=\"code-keyword\">this</span>.stateStack.pop(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingClip</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_cachedGetSinglePixelWidth</span>=<span class=\"code-params\">null</span>)},<span class=\"code-params\">transform</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r,s,n,i</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">transform</span>(<span class=\"code-params\">e,t,r,s,n,i</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_cachedGetSinglePixelWidth</span>=<span class=\"code-params\">null</span>},<span class=\"code-params\">constructPath</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> r=<span class=\"code-keyword\">this</span>.ctx,n=<span class=\"code-keyword\">this</span>.current,i=n.x,a=n.y,o=<span class=\"code-number\">0</span>,l=<span class=\"code-number\">0</span>,c=e.length;o&lt;c;o++</span>)<span class=\"code-params\">switch</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>|e[o]</span>){<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">rectangle</span>:<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">a</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++];<span class=\"code-params\">var</span> <span class=\"code-params\">h</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">d</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++];0===<span class=\"code-params\">h</span>&amp;&amp;(<span class=\"code-params\">h=<span class=\"code-keyword\">this</span>.getSinglePixelWidth(</span>)),0===<span class=\"code-params\">d</span>&amp;&amp;(<span class=\"code-params\">d=<span class=\"code-keyword\">this</span>.getSinglePixelWidth(</span>));<span class=\"code-params\">var</span> <span class=\"code-params\">u</span>=<span class=\"code-params\">i</span>+<span class=\"code-params\">h</span>,<span class=\"code-params\">p</span>=<span class=\"code-params\">a</span>+<span class=\"code-params\">d</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">moveTo</span>(<span class=\"code-params\">i,a</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">lineTo</span>(<span class=\"code-params\">u,a</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">lineTo</span>(<span class=\"code-params\">u,p</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">lineTo</span>(<span class=\"code-params\">i,p</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">lineTo</span>(<span class=\"code-params\">i,a</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">moveTo</span>:<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">a</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">r</span>.<span class=\"code-params\">moveTo</span>(<span class=\"code-params\">i,a</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">lineTo</span>:<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">a</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">r</span>.<span class=\"code-params\">lineTo</span>(<span class=\"code-params\">i,a</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">curveTo</span>:<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+4],<span class=\"code-params\">a</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+5],<span class=\"code-params\">r</span>.<span class=\"code-params\">bezierCurveTo</span>(<span class=\"code-params\">t[l],t[l+<span class=\"code-number\">1</span>],t[l+<span class=\"code-number\">2</span>],t[l+<span class=\"code-number\">3</span>],i,a</span>),<span class=\"code-params\">l</span>+=6;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">curveTo2</span>:<span class=\"code-params\">r</span>.<span class=\"code-params\">bezierCurveTo</span>(<span class=\"code-params\">i,a,t[l],t[l+<span class=\"code-number\">1</span>],t[l+<span class=\"code-number\">2</span>],t[l+<span class=\"code-number\">3</span>]</span>),<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+2],<span class=\"code-params\">a</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+3],<span class=\"code-params\">l</span>+=4;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">curveTo3</span>:<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+2],<span class=\"code-params\">a</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+3],<span class=\"code-params\">r</span>.<span class=\"code-params\">bezierCurveTo</span>(<span class=\"code-params\">t[l],t[l+<span class=\"code-number\">1</span>],i,a,i,a</span>),<span class=\"code-params\">l</span>+=4;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">closePath</span>:<span class=\"code-params\">r</span>.<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>}<span class=\"code-params\">n</span>.<span class=\"code-params\">setCurrentPoint</span>(<span class=\"code-params\">i,a</span>)},<span class=\"code-params\">closePath</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>},<span class=\"code-params\">stroke</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">e</span>=<span class=\"code-params\">void</span> 0===<span class=\"code-params\">e</span>||<span class=\"code-params\">e</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">strokeColor</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">t.globalAlpha=<span class=\"code-keyword\">this</span>.current.strokeAlpha,r&amp;&amp;r.hasOwnProperty(<span class=\"code-string\">\"type\"</span></span>)&amp;&amp;\"<span class=\"code-params\">Pattern</span>\"===<span class=\"code-params\">r</span>.<span class=\"code-params\">type</span>){<span class=\"code-params\">t</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">mozCurrentTransform</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">singularValueDecompose2dScale</span>(<span class=\"code-params\">e</span>)[0];<span class=\"code-params\">t</span>.<span class=\"code-params\">strokeStyle</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">getPattern</span>(<span class=\"code-params\">t,<span class=\"code-keyword\">this</span></span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">lineWidth</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\"><span class=\"code-number\">.65</span>*<span class=\"code-keyword\">this</span>.getSinglePixelWidth(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineWidth</span>*<span class=\"code-params\">n</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">stroke</span><span class=\"code-params\">()</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>}<span class=\"code-params\">else</span> <span class=\"code-params\">t</span>.<span class=\"code-params\">lineWidth</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\"><span class=\"code-number\">.65</span>*<span class=\"code-keyword\">this</span>.getSinglePixelWidth(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineWidth</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">stroke</span><span class=\"code-params\">()</span>;<span class=\"code-params\">e</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">consumePath</span><span class=\"code-params\">()</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">globalAlpha</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillAlpha</span>},<span class=\"code-params\">closeStroke</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">stroke</span><span class=\"code-params\">()</span>},<span class=\"code-params\">fill</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">e</span>=<span class=\"code-params\">void</span> 0===<span class=\"code-params\">e</span>||<span class=\"code-params\">e</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillColor</span>,<span class=\"code-params\">s</span>=!1;<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">patternFill</span>&amp;&amp;(<span class=\"code-params\">t.save(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">baseTransform</span>&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">setTransform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">t,<span class=\"code-keyword\">this</span>.baseTransform</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">fillStyle</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">getPattern</span>(<span class=\"code-params\">t,<span class=\"code-keyword\">this</span></span>),<span class=\"code-params\">s</span>=!0),<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingEOFill</span>?(<span class=\"code-params\">t.fill(<span class=\"code-string\">\"evenodd\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingEOFill</span>=!1):<span class=\"code-params\">t</span>.<span class=\"code-params\">fill</span><span class=\"code-params\">()</span>,<span class=\"code-params\">s</span>&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">e</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">consumePath</span><span class=\"code-params\">()</span>},<span class=\"code-params\">eoFill</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingEOFill</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">fill</span><span class=\"code-params\">()</span>},<span class=\"code-params\">fillStroke</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">fill</span>(<span class=\"code-params\">!<span class=\"code-number\">1</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">stroke</span>(<span class=\"code-params\">!<span class=\"code-number\">1</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">consumePath</span><span class=\"code-params\">()</span>},<span class=\"code-params\">eoFillStroke</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingEOFill</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">fillStroke</span><span class=\"code-params\">()</span>},<span class=\"code-params\">closeFillStroke</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">fillStroke</span><span class=\"code-params\">()</span>},<span class=\"code-params\">closeEOFillStroke</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingEOFill</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">fillStroke</span><span class=\"code-params\">()</span>},<span class=\"code-params\">endPath</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">consumePath</span><span class=\"code-params\">()</span>},<span class=\"code-params\">clip</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingClip</span>=<span class=\"code-params\">m</span>},<span class=\"code-params\">eoClip</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingClip</span>=<span class=\"code-params\">A</span>},<span class=\"code-params\">beginText</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">textMatrix</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">IDENTITY_MATRIX</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">textMatrixScale</span>=1,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">x</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineX</span>=0,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">y</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineY</span>=0},<span class=\"code-params\">endText</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingTextPaths</span>,<span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==e</span>){<span class=\"code-params\">t</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">beginPath</span><span class=\"code-params\">()</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> r=<span class=\"code-number\">0</span>;r&lt;e.length;r++</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>[<span class=\"code-params\">r</span>];<span class=\"code-params\">t</span>.<span class=\"code-params\">setTransform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">t,s.transform</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">translate</span>(<span class=\"code-params\">s.x,s.y</span>),<span class=\"code-params\">s</span>.<span class=\"code-params\">addToPath</span>(<span class=\"code-params\">t,s.fontSize</span>)}<span class=\"code-params\">t</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">clip</span><span class=\"code-params\">()</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">beginPath</span><span class=\"code-params\">()</span>,<span class=\"code-params\">delete</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">pendingTextPaths</span>}<span class=\"code-params\">else</span> <span class=\"code-params\">t</span>.<span class=\"code-params\">beginPath</span><span class=\"code-params\">()</span>},<span class=\"code-params\">setCharSpacing</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">charSpacing</span>=<span class=\"code-params\">e</span>},<span class=\"code-params\">setWordSpacing</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">wordSpacing</span>=<span class=\"code-params\">e</span>},<span class=\"code-params\">setHScale</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">textHScale</span>=<span class=\"code-params\">e</span>/100},<span class=\"code-params\">setLeading</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">leading</span>=-<span class=\"code-params\">e</span>},<span class=\"code-params\">setFont</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>.<span class=\"code-params\">get</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">!r</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Can't find font for \"</span>+e</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">n.fontMatrix=r.fontMatrix?r.fontMatrix:s.FONT_IDENTITY_MATRIX,<span class=\"code-number\">0</span>!==n.fontMatrix[<span class=\"code-number\">0</span>]&amp;&amp;<span class=\"code-number\">0</span>!==n.fontMatrix[<span class=\"code-number\">3</span>]||(<span class=\"code-number\">0</span>,s.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Invalid font matrix for font \"</span>+e</span>),<span class=\"code-params\">t</span>&lt;0?(<span class=\"code-params\">t=-t,n.fontDirection=<span class=\"code-number\">-1</span></span>):<span class=\"code-params\">n</span>.<span class=\"code-params\">fontDirection</span>=1,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">font</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fontSize</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">r</span>.<span class=\"code-params\">isType3Font</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">loadedName</span>||\"<span class=\"code-params\">sans</span>-<span class=\"code-params\">serif</span>\";<span class=\"code-params\">let</span> <span class=\"code-params\">a</span>=\"<span class=\"code-params\">normal</span>\";<span class=\"code-params\">r</span>.<span class=\"code-params\">black</span>?<span class=\"code-params\">a</span>=\"900\":<span class=\"code-params\">r</span>.<span class=\"code-params\">bold</span>&amp;&amp;(<span class=\"code-params\">a=<span class=\"code-string\">\"bold\"</span></span>);<span class=\"code-params\">var</span> <span class=\"code-params\">o</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">italic</span>?\"<span class=\"code-params\">italic</span>\":\"<span class=\"code-params\">normal</span>\",<span class=\"code-params\">l</span>=`\"<span class=\"code-params\">$</span>{<span class=\"code-params\">i</span>}\", <span class=\"code-params\">$</span>{<span class=\"code-params\">r</span>.<span class=\"code-params\">fallbackName</span>}`;<span class=\"code-params\">let</span> <span class=\"code-params\">c</span>=<span class=\"code-params\">t</span>;<span class=\"code-params\">t</span>&lt;16?<span class=\"code-params\">c</span>=16:<span class=\"code-params\">t</span>&gt;100&amp;&amp;(<span class=\"code-params\">c=<span class=\"code-number\">100</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fontSizeScale</span>=<span class=\"code-params\">t</span>/<span class=\"code-params\">c</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">font</span>=`<span class=\"code-params\">$</span>{<span class=\"code-params\">o</span>} <span class=\"code-params\">$</span>{<span class=\"code-params\">a</span>} <span class=\"code-params\">$</span>{<span class=\"code-params\">c</span>}<span class=\"code-params\">px</span> <span class=\"code-params\">$</span>{<span class=\"code-params\">l</span>}`},<span class=\"code-params\">setTextRenderingMode</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">textRenderingMode</span>=<span class=\"code-params\">e</span>},<span class=\"code-params\">setTextRise</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">textRise</span>=<span class=\"code-params\">e</span>},<span class=\"code-params\">moveText</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">x</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineX</span>+=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">y</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineY</span>+=<span class=\"code-params\">t</span>},<span class=\"code-params\">setLeadingMoveText</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">setLeading</span>(<span class=\"code-params\">-t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">moveText</span>(<span class=\"code-params\">e,t</span>)},<span class=\"code-params\">setTextMatrix</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r,s,n,i</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">textMatrix</span>=[<span class=\"code-params\">e</span>,<span class=\"code-params\">t</span>,<span class=\"code-params\">r</span>,<span class=\"code-params\">s</span>,<span class=\"code-params\">n</span>,<span class=\"code-params\">i</span>],<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">textMatrixScale</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">sqrt</span>(<span class=\"code-params\">e*e+t*t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">x</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineX</span>=0,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">y</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineY</span>=0},<span class=\"code-params\">nextLine</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">moveText</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.current.leading</span>)},<span class=\"code-params\">paintChar</span>(<span class=\"code-params\">e,t,r,n</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">font</span>,<span class=\"code-params\">l</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">textRenderingMode</span>,<span class=\"code-params\">c</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">fontSize</span>/<span class=\"code-params\">a</span>.<span class=\"code-params\">fontSizeScale</span>,<span class=\"code-params\">h</span>=<span class=\"code-params\">l</span>&amp;<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">FILL_STROKE_MASK</span>,<span class=\"code-params\">d</span>=!!(<span class=\"code-params\">l&amp;s.TextRenderingMode.ADD_TO_PATH_FLAG</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">u</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">patternFill</span>&amp;&amp;!<span class=\"code-params\">o</span>.<span class=\"code-params\">missingFile</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">p</span>;(<span class=\"code-params\">(o.disableFontFace||d||u</span>)&amp;&amp;(<span class=\"code-params\">p=o.getPathGenerator(<span class=\"code-keyword\">this</span>.commonObjs,e</span>)),<span class=\"code-params\">o</span>.<span class=\"code-params\">disableFontFace</span>||<span class=\"code-params\">u</span>?(<span class=\"code-params\">i.save(</span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">translate</span>(<span class=\"code-params\">t,r</span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">beginPath</span><span class=\"code-params\">()</span>,<span class=\"code-params\">p</span>(<span class=\"code-params\">i,c</span>),<span class=\"code-params\">n</span>&amp;&amp;<span class=\"code-params\">i</span>.<span class=\"code-params\">setTransform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">i,n</span>),<span class=\"code-params\">h</span>!==<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">FILL</span>&amp;&amp;<span class=\"code-params\">h</span>!==<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">FILL_STROKE</span>||<span class=\"code-params\">i</span>.<span class=\"code-params\">fill</span><span class=\"code-params\">()</span>,<span class=\"code-params\">h</span>!==<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">STROKE</span>&amp;&amp;<span class=\"code-params\">h</span>!==<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">FILL_STROKE</span>||<span class=\"code-params\">i</span>.<span class=\"code-params\">stroke</span><span class=\"code-params\">()</span>,<span class=\"code-params\">i</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>):(<span class=\"code-params\">h!==s.TextRenderingMode.FILL&amp;&amp;h!==s.TextRenderingMode.FILL_STROKE||i.fillText(e,t,r</span>),<span class=\"code-params\">h</span>!==<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">STROKE</span>&amp;&amp;<span class=\"code-params\">h</span>!==<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">FILL_STROKE</span>||<span class=\"code-params\">i</span>.<span class=\"code-params\">strokeText</span>(<span class=\"code-params\">e,t,r</span>)),<span class=\"code-params\">d</span>)&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.pendingTextPaths||(<span class=\"code-keyword\">this</span>.pendingTextPaths=[]</span>)).<span class=\"code-params\">push</span>(<span class=\"code-params\">{transform:i.mozCurrentTransform,x:t,y:r,fontSize:c,addToPath:p}</span>)},<span class=\"code-params\">get</span> <span class=\"code-params\">isFontSubpixelAAEnabled</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span>{<span class=\"code-params\">context</span>:<span class=\"code-params\">e</span>}=<span class=\"code-params\">this</span>.<span class=\"code-params\">cachedCanvases</span>.<span class=\"code-params\">getCanvas</span>(<span class=\"code-params\"><span class=\"code-string\">\"isFontSubpixelAAEnabled\"</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">10</span></span>);<span class=\"code-params\">e</span>.<span class=\"code-params\">scale</span>(<span class=\"code-params\"><span class=\"code-number\">1.5</span>,<span class=\"code-number\">1</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">fillText</span>(<span class=\"code-params\"><span class=\"code-string\">\"I\"</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">10</span></span>);<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> t=e.getImageData(<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">10</span></span>).<span class=\"code-params\">data</span>,<span class=\"code-params\">r</span>=!1,<span class=\"code-params\">n</span>=3;<span class=\"code-params\">n</span>&lt;<span class=\"code-params\">t</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">n</span>+=4)<span class=\"code-params\">if</span>(<span class=\"code-params\">t[n]&gt;<span class=\"code-number\">0</span>&amp;&amp;t[n]&lt;<span class=\"code-number\">255</span></span>){<span class=\"code-params\">r</span>=!0;<span class=\"code-params\">break</span>}<span class=\"code-params\">return</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.shadow</span>)(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isFontSubpixelAAEnabled\"</span>,r</span>)},<span class=\"code-params\">showText</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">font</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">r.isType3Font</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">showType3Text</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">var</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">fontSize</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>===n</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">fontSizeScale</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">charSpacing</span>,<span class=\"code-params\">l</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">wordSpacing</span>,<span class=\"code-params\">c</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">fontDirection</span>,<span class=\"code-params\">h</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">textHScale</span>*<span class=\"code-params\">c</span>,<span class=\"code-params\">d</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>,<span class=\"code-params\">u</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">vertical</span>,<span class=\"code-params\">p</span>=<span class=\"code-params\">u</span>?1:-1,<span class=\"code-params\">g</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">defaultVMetrics</span>,<span class=\"code-params\">f</span>=<span class=\"code-params\">n</span>*<span class=\"code-params\">t</span>.<span class=\"code-params\">fontMatrix</span>[0],<span class=\"code-params\">m</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">textRenderingMode</span>===<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">FILL</span>&amp;&amp;!<span class=\"code-params\">r</span>.<span class=\"code-params\">disableFontFace</span>&amp;&amp;!<span class=\"code-params\">t</span>.<span class=\"code-params\">patternFill</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">A</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">i.save(</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">patternFill</span>){<span class=\"code-params\">i</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">fillColor</span>.<span class=\"code-params\">getPattern</span>(<span class=\"code-params\">i,<span class=\"code-keyword\">this</span></span>);<span class=\"code-params\">A</span>=<span class=\"code-params\">i</span>.<span class=\"code-params\">mozCurrentTransform</span>,<span class=\"code-params\">i</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">i</span>.<span class=\"code-params\">fillStyle</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">i</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">i,t.textMatrix</span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">translate</span>(<span class=\"code-params\">t.x,t.y+t.textRise</span>),<span class=\"code-params\">c</span>&gt;0?<span class=\"code-params\">i</span>.<span class=\"code-params\">scale</span>(<span class=\"code-params\">h,<span class=\"code-number\">-1</span></span>):<span class=\"code-params\">i</span>.<span class=\"code-params\">scale</span>(<span class=\"code-params\">h,<span class=\"code-number\">1</span></span>);<span class=\"code-params\">var</span> <span class=\"code-params\">b</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">lineWidth</span>,<span class=\"code-params\">_</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">textMatrixScale</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>===_||<span class=\"code-number\">0</span>===b</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">y</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">textRenderingMode</span>&amp;<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">FILL_STROKE_MASK</span>;<span class=\"code-params\">y</span>!==<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">STROKE</span>&amp;&amp;<span class=\"code-params\">y</span>!==<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">FILL_STROKE</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._cachedGetSinglePixelWidth=<span class=\"code-literal\">null</span>,b=<span class=\"code-number\">.65</span>*<span class=\"code-keyword\">this</span>.getSinglePixelWidth(</span>))}<span class=\"code-params\">else</span> <span class=\"code-params\">b</span>/=<span class=\"code-params\">_</span>;1!==<span class=\"code-params\">a</span>&amp;&amp;(<span class=\"code-params\">i.scale(a,a</span>),<span class=\"code-params\">b</span>/=<span class=\"code-params\">a</span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">lineWidth</span>=<span class=\"code-params\">b</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">v</span>,<span class=\"code-params\">S</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\">v=<span class=\"code-number\">0</span>;v&lt;d;++v</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">x</span>=<span class=\"code-params\">e</span>[<span class=\"code-params\">v</span>];<span class=\"code-params\">if</span>(<span class=\"code-params\">(<span class=\"code-number\">0</span>,s.isNum</span>)(<span class=\"code-params\">x</span>))<span class=\"code-params\">S</span>+=<span class=\"code-params\">p</span>*<span class=\"code-params\">x</span>*<span class=\"code-params\">n</span>/1<span class=\"code-params\">e3</span>;<span class=\"code-params\">else</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">C</span>,<span class=\"code-params\">P</span>,<span class=\"code-params\">k</span>,<span class=\"code-params\">R</span>,<span class=\"code-params\">w</span>,<span class=\"code-params\">T</span>,<span class=\"code-params\">E</span>,<span class=\"code-params\">F</span>=!1,<span class=\"code-params\">L</span>=(<span class=\"code-params\">x.isSpace?l:<span class=\"code-number\">0</span></span>)+<span class=\"code-params\">o</span>,<span class=\"code-params\">I</span>=<span class=\"code-params\">x</span>.<span class=\"code-params\">fontChar</span>,<span class=\"code-params\">M</span>=<span class=\"code-params\">x</span>.<span class=\"code-params\">accent</span>,<span class=\"code-params\">O</span>=<span class=\"code-params\">x</span>.<span class=\"code-params\">width</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">u</span>)<span class=\"code-params\">w</span>=<span class=\"code-params\">x</span>.<span class=\"code-params\">vmetric</span>||<span class=\"code-params\">g</span>,<span class=\"code-params\">T</span>=-(<span class=\"code-params\">T=x.vmetric?w[<span class=\"code-number\">1</span>]:<span class=\"code-number\">.5</span>*O</span>)*<span class=\"code-params\">f</span>,<span class=\"code-params\">E</span>=<span class=\"code-params\">w</span>[2]*<span class=\"code-params\">f</span>,<span class=\"code-params\">O</span>=<span class=\"code-params\">w</span>?-<span class=\"code-params\">w</span>[0]:<span class=\"code-params\">O</span>,<span class=\"code-params\">C</span>=<span class=\"code-params\">T</span>/<span class=\"code-params\">a</span>,<span class=\"code-params\">P</span>=(<span class=\"code-params\">S+E</span>)/<span class=\"code-params\">a</span>;<span class=\"code-params\">else</span> <span class=\"code-params\">C</span>=<span class=\"code-params\">S</span>/<span class=\"code-params\">a</span>,<span class=\"code-params\">P</span>=0;<span class=\"code-params\">if</span>(<span class=\"code-params\">r.remeasure&amp;&amp;O&gt;<span class=\"code-number\">0</span></span>){<span class=\"code-params\">var</span> <span class=\"code-params\">N</span>=1<span class=\"code-params\">e3</span>*<span class=\"code-params\">i</span>.<span class=\"code-params\">measureText</span>(<span class=\"code-params\">I</span>).<span class=\"code-params\">width</span>/<span class=\"code-params\">n</span>*<span class=\"code-params\">a</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">O&lt;N&amp;&amp;<span class=\"code-keyword\">this</span>.isFontSubpixelAAEnabled</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">D</span>=<span class=\"code-params\">O</span>/<span class=\"code-params\">N</span>;<span class=\"code-params\">F</span>=!0,<span class=\"code-params\">i</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>,<span class=\"code-params\">i</span>.<span class=\"code-params\">scale</span>(<span class=\"code-params\">D,<span class=\"code-number\">1</span></span>),<span class=\"code-params\">C</span>/=<span class=\"code-params\">D</span>}<span class=\"code-params\">else</span> <span class=\"code-params\">O</span>!==<span class=\"code-params\">N</span>&amp;&amp;(<span class=\"code-params\">C+=(O-N</span>)/2<span class=\"code-params\">e3</span>*<span class=\"code-params\">n</span>/<span class=\"code-params\">a</span>)}(<span class=\"code-params\">x.isInFont||r.missingFile</span>)&amp;&amp;(<span class=\"code-params\">m&amp;&amp;!M?i.fillText(I,C,P</span>):(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.paintChar(I,C,P,A</span>),<span class=\"code-params\">M</span>&amp;&amp;(<span class=\"code-params\">k=C+M.offset.x<span class=\"code-regexp\">/a,R=P-M.offset.y/</span>a,<span class=\"code-keyword\">this</span>.paintChar(M.fontChar,k,R,A</span>)))),<span class=\"code-params\">S</span>+=<span class=\"code-params\">u</span>?<span class=\"code-params\">O</span>*<span class=\"code-params\">f</span>-<span class=\"code-params\">L</span>*<span class=\"code-params\">c</span>:<span class=\"code-params\">O</span>*<span class=\"code-params\">f</span>+<span class=\"code-params\">L</span>*<span class=\"code-params\">c</span>,<span class=\"code-params\">F</span>&amp;&amp;<span class=\"code-params\">i</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>}}<span class=\"code-params\">u</span>?<span class=\"code-params\">t</span>.<span class=\"code-params\">y</span>-=<span class=\"code-params\">S</span>:<span class=\"code-params\">t</span>.<span class=\"code-params\">x</span>+=<span class=\"code-params\">S</span>*<span class=\"code-params\">h</span>,<span class=\"code-params\">i</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>},<span class=\"code-params\">showType3Text</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>,<span class=\"code-params\">r</span>,<span class=\"code-params\">n</span>,<span class=\"code-params\">i</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>,<span class=\"code-params\">l</span>=<span class=\"code-params\">o</span>.<span class=\"code-params\">font</span>,<span class=\"code-params\">c</span>=<span class=\"code-params\">o</span>.<span class=\"code-params\">fontSize</span>,<span class=\"code-params\">h</span>=<span class=\"code-params\">o</span>.<span class=\"code-params\">fontDirection</span>,<span class=\"code-params\">d</span>=<span class=\"code-params\">l</span>.<span class=\"code-params\">vertical</span>?1:-1,<span class=\"code-params\">u</span>=<span class=\"code-params\">o</span>.<span class=\"code-params\">charSpacing</span>,<span class=\"code-params\">p</span>=<span class=\"code-params\">o</span>.<span class=\"code-params\">wordSpacing</span>,<span class=\"code-params\">g</span>=<span class=\"code-params\">o</span>.<span class=\"code-params\">textHScale</span>*<span class=\"code-params\">h</span>,<span class=\"code-params\">f</span>=<span class=\"code-params\">o</span>.<span class=\"code-params\">fontMatrix</span>||<span class=\"code-params\">s</span>.<span class=\"code-params\">FONT_IDENTITY_MATRIX</span>,<span class=\"code-params\">m</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">!(o.textRenderingMode===s.TextRenderingMode.INVISIBLE</span>)&amp;&amp;0!==<span class=\"code-params\">c</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._cachedGetSinglePixelWidth=<span class=\"code-literal\">null</span>,a.save(</span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">a,o.textMatrix</span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">translate</span>(<span class=\"code-params\">o.x,o.y</span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">scale</span>(<span class=\"code-params\">g,h</span>),<span class=\"code-params\">t</span>=0;<span class=\"code-params\">t</span>&lt;<span class=\"code-params\">m</span>;++<span class=\"code-params\">t</span>)<span class=\"code-params\">if</span>(<span class=\"code-params\">r=e[t],(<span class=\"code-number\">0</span>,s.isNum</span>)(<span class=\"code-params\">r</span>))<span class=\"code-params\">i</span>=<span class=\"code-params\">d</span>*<span class=\"code-params\">r</span>*<span class=\"code-params\">c</span>/1<span class=\"code-params\">e3</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">translate</span>(<span class=\"code-params\">i,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">o</span>.<span class=\"code-params\">x</span>+=<span class=\"code-params\">i</span>*<span class=\"code-params\">g</span>;<span class=\"code-params\">else</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">A</span>=(<span class=\"code-params\">r.isSpace?p:<span class=\"code-number\">0</span></span>)+<span class=\"code-params\">u</span>,<span class=\"code-params\">b</span>=<span class=\"code-params\">l</span>.<span class=\"code-params\">charProcOperatorList</span>[<span class=\"code-params\">r</span>.<span class=\"code-params\">operatorListId</span>];<span class=\"code-params\">if</span>(<span class=\"code-params\">b</span>)<span class=\"code-params\">this</span>.<span class=\"code-params\">processingType3</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>,<span class=\"code-params\">a</span>.<span class=\"code-params\">scale</span>(<span class=\"code-params\">c,c</span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">a,f</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">executeOperatorList</span>(<span class=\"code-params\">b</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[r.width,<span class=\"code-number\">0</span>],f</span>)[0]*<span class=\"code-params\">c</span>+<span class=\"code-params\">A</span>,<span class=\"code-params\">a</span>.<span class=\"code-params\">translate</span>(<span class=\"code-params\">n,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">o</span>.<span class=\"code-params\">x</span>+=<span class=\"code-params\">n</span>*<span class=\"code-params\">g</span>;<span class=\"code-params\">else</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">`Type3 character \"<span class=\"code-subst\">${r.operatorListId}</span>\" is not available.`</span></span>)}<span class=\"code-params\">a</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">processingType3</span>=<span class=\"code-params\">null</span>}},<span class=\"code-params\">setCharWidth</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){},<span class=\"code-params\">setCharWidthAndBounds</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r,s,n,i</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">rect</span>(<span class=\"code-params\">r,s,n-r,i-s</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">clip</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">endPath</span><span class=\"code-params\">()</span>},<span class=\"code-params\">getColorN_Pattern</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">t</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">r</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"TilingPattern\"</span>===t[<span class=\"code-number\">0</span>]</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">t</span>[1],<span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">baseTransform</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">mozCurrentTransform</span>.<span class=\"code-params\">slice</span><span class=\"code-params\">()</span>,<span class=\"code-params\">a</span>={<span class=\"code-params\">createCanvasGraphics</span>:<span class=\"code-params\">t</span>=&gt;</span><span class=\"code-keyword\">new</span> e(t,<span class=\"code-keyword\">this</span>.commonObjs,<span class=\"code-keyword\">this</span>.objs,<span class=\"code-keyword\">this</span>.canvasFactory,<span class=\"code-keyword\">this</span>.webGLContext)};r=<span class=\"code-keyword\">new</span> n.TilingPattern(t,s,<span class=\"code-keyword\">this</span>.ctx,a,i)}<span class=\"code-keyword\">else</span> r=<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,n.getShadingPatternFromIR</span>)(<span class=\"code-params\">t</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>},<span class=\"code-params\">setStrokeColorN</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">strokeColor</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">getColorN_Pattern</span>(<span class=\"code-params\"><span class=\"code-built_in\">arguments</span></span>)},<span class=\"code-params\">setFillColorN</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillColor</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">getColorN_Pattern</span>(<span class=\"code-params\"><span class=\"code-built_in\">arguments</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">patternFill</span>=!0},<span class=\"code-params\">setStrokeRGBColor</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">makeCssRgb</span>(<span class=\"code-params\">e,t,r</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">strokeStyle</span>=<span class=\"code-params\">n</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">strokeColor</span>=<span class=\"code-params\">n</span>},<span class=\"code-params\">setFillRGBColor</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">makeCssRgb</span>(<span class=\"code-params\">e,t,r</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">fillStyle</span>=<span class=\"code-params\">n</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillColor</span>=<span class=\"code-params\">n</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">patternFill</span>=!1},<span class=\"code-params\">shadingFill</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">r</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,n.getShadingPatternFromIR</span>)(<span class=\"code-params\">e</span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">fillStyle</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">getPattern</span>(<span class=\"code-params\">t,<span class=\"code-keyword\">this</span>,!<span class=\"code-number\">0</span></span>);<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">mozCurrentTransformInverse</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">i</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">canvas</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">l</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">height</span>,<span class=\"code-params\">c</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>],i</span>),<span class=\"code-params\">h</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[<span class=\"code-number\">0</span>,l],i</span>),<span class=\"code-params\">d</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[o,<span class=\"code-number\">0</span>],i</span>),<span class=\"code-params\">u</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[o,l],i</span>),<span class=\"code-params\">p</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">min</span>(<span class=\"code-params\">c[<span class=\"code-number\">0</span>],h[<span class=\"code-number\">0</span>],d[<span class=\"code-number\">0</span>],u[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">g</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">min</span>(<span class=\"code-params\">c[<span class=\"code-number\">1</span>],h[<span class=\"code-number\">1</span>],d[<span class=\"code-number\">1</span>],u[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">f</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\">c[<span class=\"code-number\">0</span>],h[<span class=\"code-number\">0</span>],d[<span class=\"code-number\">0</span>],u[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">m</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\">c[<span class=\"code-number\">1</span>],h[<span class=\"code-number\">1</span>],d[<span class=\"code-number\">1</span>],u[<span class=\"code-number\">1</span>]</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">fillRect</span>(<span class=\"code-params\">p,g,f-p,m-g</span>)}<span class=\"code-params\">else</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">fillRect</span>(<span class=\"code-params\"><span class=\"code-number\">-1e10</span>,<span class=\"code-number\">-1e10</span>,<span class=\"code-number\">2e10</span>,<span class=\"code-number\">2e10</span></span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>},<span class=\"code-params\">beginInlineImage</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.unreachable</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Should not call beginInlineImage\"</span></span>)},<span class=\"code-params\">beginImageData</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.unreachable</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Should not call beginImageData\"</span></span>)},<span class=\"code-params\">paintFormXObjectBegin</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.save(</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">baseTransformStack</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.baseTransform</span>),<span class=\"code-params\">Array</span>.<span class=\"code-params\">isArray</span>(<span class=\"code-params\">e</span>)&amp;&amp;6===<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">baseTransform</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">mozCurrentTransform</span>,<span class=\"code-params\">t</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>[2]-<span class=\"code-params\">t</span>[0],<span class=\"code-params\">s</span>=<span class=\"code-params\">t</span>[3]-<span class=\"code-params\">t</span>[1];<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">rect</span>(<span class=\"code-params\">t[<span class=\"code-number\">0</span>],t[<span class=\"code-number\">1</span>],r,s</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">clip</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">endPath</span><span class=\"code-params\">()</span>}},<span class=\"code-params\">paintFormXObjectEnd</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">baseTransform</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">baseTransformStack</span>.<span class=\"code-params\">pop</span><span class=\"code-params\">()</span>},<span class=\"code-params\">beginGroup</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>;<span class=\"code-params\">e</span>.<span class=\"code-params\">isolated</span>||(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.info</span>)(<span class=\"code-params\"><span class=\"code-string\">\"TODO: Support non-isolated groups.\"</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">knockout</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Knockout groups not supported.\"</span></span>);<span class=\"code-params\">var</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">mozCurrentTransform</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">e.matrix&amp;&amp;t.transform.apply(t,e.matrix</span>),!<span class=\"code-params\">e</span>.<span class=\"code-params\">bbox</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Bounding box is required.\"</span></span>);<span class=\"code-params\">var</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">getAxialAlignedBoundingBox</span>(<span class=\"code-params\">e.bbox,t.mozCurrentTransform</span>),<span class=\"code-params\">i</span>=[0,0,<span class=\"code-params\">t</span>.<span class=\"code-params\">canvas</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">canvas</span>.<span class=\"code-params\">height</span>];<span class=\"code-params\">n</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">intersect</span>(<span class=\"code-params\">n,i</span>)||[0,0,0,0];<span class=\"code-params\">var</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">floor</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">o</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">floor</span>(<span class=\"code-params\">n[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">c</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\"><span class=\"code-built_in\">Math</span>.ceil(n[<span class=\"code-number\">2</span>]</span>)-<span class=\"code-params\">a</span>,1),<span class=\"code-params\">h</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\"><span class=\"code-built_in\">Math</span>.ceil(n[<span class=\"code-number\">3</span>]</span>)-<span class=\"code-params\">o</span>,1),<span class=\"code-params\">d</span>=1,<span class=\"code-params\">u</span>=1;<span class=\"code-params\">c</span>&gt;4096&amp;&amp;(<span class=\"code-params\">d=c<span class=\"code-regexp\">/4096,c=4096),h&gt;4096&amp;&amp;(u=h/</span><span class=\"code-number\">4096</span>,h=<span class=\"code-number\">4096</span></span>);<span class=\"code-params\">var</span> <span class=\"code-params\">p</span>=\"<span class=\"code-params\">groupAt</span>\"+<span class=\"code-params\">this</span>.<span class=\"code-params\">groupLevel</span>;<span class=\"code-params\">e</span>.<span class=\"code-params\">smask</span>&amp;&amp;(<span class=\"code-params\">p+=<span class=\"code-string\">\"_smask_\"</span>+<span class=\"code-keyword\">this</span>.smaskCounter++%<span class=\"code-number\">2</span></span>);<span class=\"code-params\">var</span> <span class=\"code-params\">g</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">cachedCanvases</span>.<span class=\"code-params\">getCanvas</span>(<span class=\"code-params\">p,c,h,!<span class=\"code-number\">0</span></span>),<span class=\"code-params\">f</span>=<span class=\"code-params\">g</span>.<span class=\"code-params\">context</span>;<span class=\"code-params\">f</span>.<span class=\"code-params\">scale</span>(<span class=\"code-params\"><span class=\"code-number\">1</span><span class=\"code-regexp\">/d,1/u</span></span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">translate</span>(<span class=\"code-params\">-a,-o</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">f,r</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">smask</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">smaskStack</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">{canvas:g.canvas,context:f,offsetX:a,offsetY:o,scaleX:d,scaleY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||<span class=\"code-literal\">null</span>,startTransformInverse:<span class=\"code-literal\">null</span>}</span>):(<span class=\"code-params\">t.setTransform(<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">translate</span>(<span class=\"code-params\">a,o</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">scale</span>(<span class=\"code-params\">d,u</span>)),<span class=\"code-params\">l</span>(<span class=\"code-params\">t,f</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>=<span class=\"code-params\">f</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">setGState</span>(<span class=\"code-params\">[[<span class=\"code-string\">\"BM\"</span>,<span class=\"code-string\">\"source-over\"</span>],[<span class=\"code-string\">\"ca\"</span>,<span class=\"code-number\">1</span>],[<span class=\"code-string\">\"CA\"</span>,<span class=\"code-number\">1</span>]]</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">groupStack</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">groupLevel</span>++,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">activeSMask</span>=<span class=\"code-params\">null</span>},<span class=\"code-params\">endGroup</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">groupLevel</span>--;<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">groupStack</span>.<span class=\"code-params\">pop</span><span class=\"code-params\">()</span>,<span class=\"code-params\">void</span> 0!==<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">imageSmoothingEnabled</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">imageSmoothingEnabled</span>=!1:<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">mozImageSmoothingEnabled</span>=!1,<span class=\"code-params\">e</span>.<span class=\"code-params\">smask</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">tempSMask</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">smaskStack</span>.<span class=\"code-params\">pop</span><span class=\"code-params\">()</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">drawImage</span>(<span class=\"code-params\">t.canvas,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>},<span class=\"code-params\">beginAnnotations</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">baseTransform</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">setTransform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx,<span class=\"code-keyword\">this</span>.baseTransform</span>)},<span class=\"code-params\">endAnnotations</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>},<span class=\"code-params\">beginAnnotation</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.save(</span>),<span class=\"code-params\">c</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.ctx</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">o</span>,<span class=\"code-params\">Array</span>.<span class=\"code-params\">isArray</span>(<span class=\"code-params\">e</span>)&amp;&amp;4===<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>[2]-<span class=\"code-params\">e</span>[0],<span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>[3]-<span class=\"code-params\">e</span>[1];<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">rect</span>(<span class=\"code-params\">e[<span class=\"code-number\">0</span>],e[<span class=\"code-number\">1</span>],s,n</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">clip</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">endPath</span><span class=\"code-params\">()</span>}<span class=\"code-params\">this</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,r</span>)},<span class=\"code-params\">endAnnotation</span>:<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>},<span class=\"code-params\">paintImageMaskXObject</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>,<span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">height</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillColor</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">patternFill</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">processingType3</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">o&amp;&amp;<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===o.compiled&amp;&amp;(o.compiled=s&lt;=<span class=\"code-number\">1e3</span>&amp;&amp;n&lt;=<span class=\"code-number\">1e3</span>?<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>,<span class=\"code-params\">r</span>,<span class=\"code-params\">s</span>,<span class=\"code-params\">n</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">height</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">i</span>+1,<span class=\"code-params\">l</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">o*(a+<span class=\"code-number\">1</span></span>)),<span class=\"code-params\">c</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">[<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">5</span>,<span class=\"code-number\">4</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">8</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">h</span>=<span class=\"code-params\">i</span>+7&amp;-8,<span class=\"code-params\">d</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">data</span>,<span class=\"code-params\">u</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">h*a</span>),<span class=\"code-params\">p</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\">t=<span class=\"code-number\">0</span>,n=d.length;t&lt;n;t++</span>)<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> g=<span class=\"code-number\">128</span>,f=d[t];g&gt;<span class=\"code-number\">0</span>;</span>)<span class=\"code-params\">u</span>[<span class=\"code-params\">p</span>++]=<span class=\"code-params\">f</span>&amp;<span class=\"code-params\">g</span>?0:255,<span class=\"code-params\">g</span>&gt;&gt;=1;<span class=\"code-params\">var</span> <span class=\"code-params\">m</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>!==u[p=<span class=\"code-number\">0</span>]&amp;&amp;(l[<span class=\"code-number\">0</span>]=<span class=\"code-number\">1</span>,++m</span>),<span class=\"code-params\">r</span>=1;<span class=\"code-params\">r</span>&lt;<span class=\"code-params\">i</span>;<span class=\"code-params\">r</span>++)<span class=\"code-params\">u</span>[<span class=\"code-params\">p</span>]!==<span class=\"code-params\">u</span>[<span class=\"code-params\">p</span>+1]&amp;&amp;(<span class=\"code-params\">l[r]=u[p]?<span class=\"code-number\">2</span>:<span class=\"code-number\">1</span>,++m</span>),<span class=\"code-params\">p</span>++;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>!==u[p]&amp;&amp;(l[r]=<span class=\"code-number\">2</span>,++m</span>),<span class=\"code-params\">t</span>=1;<span class=\"code-params\">t</span>&lt;<span class=\"code-params\">a</span>;<span class=\"code-params\">t</span>++){<span class=\"code-params\">s</span>=<span class=\"code-params\">t</span>*<span class=\"code-params\">o</span>,<span class=\"code-params\">u</span>[(<span class=\"code-params\">p=t*h</span>)-<span class=\"code-params\">h</span>]!==<span class=\"code-params\">u</span>[<span class=\"code-params\">p</span>]&amp;&amp;(<span class=\"code-params\">l[s]=u[p]?<span class=\"code-number\">1</span>:<span class=\"code-number\">8</span>,++m</span>);<span class=\"code-params\">var</span> <span class=\"code-params\">A</span>=(<span class=\"code-params\">u[p]?<span class=\"code-number\">4</span>:<span class=\"code-number\">0</span></span>)+(<span class=\"code-params\">u[p-h]?<span class=\"code-number\">8</span>:<span class=\"code-number\">0</span></span>);<span class=\"code-params\">for</span>(<span class=\"code-params\">r=<span class=\"code-number\">1</span>;r&lt;i;r++</span>)<span class=\"code-params\">c</span>[<span class=\"code-params\">A</span>=(<span class=\"code-params\">A&gt;&gt;<span class=\"code-number\">2</span></span>)+(<span class=\"code-params\">u[p+<span class=\"code-number\">1</span>]?<span class=\"code-number\">4</span>:<span class=\"code-number\">0</span></span>)+(<span class=\"code-params\">u[p-h+<span class=\"code-number\">1</span>]?<span class=\"code-number\">8</span>:<span class=\"code-number\">0</span></span>)]&amp;&amp;(<span class=\"code-params\">l[s+r]=c[A],++m</span>),<span class=\"code-params\">p</span>++;<span class=\"code-params\">if</span>(<span class=\"code-params\">u[p-h]!==u[p]&amp;&amp;(l[s+r]=u[p]?<span class=\"code-number\">2</span>:<span class=\"code-number\">4</span>,++m</span>),<span class=\"code-params\">m</span>&gt;1<span class=\"code-params\">e3</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">null</span>}<span class=\"code-params\">for</span>(<span class=\"code-params\">s=t*o,<span class=\"code-number\">0</span>!==u[p=h*(a<span class=\"code-number\">-1</span></span>)]&amp;&amp;(<span class=\"code-params\">l[s]=<span class=\"code-number\">8</span>,++m</span>),<span class=\"code-params\">r</span>=1;<span class=\"code-params\">r</span>&lt;<span class=\"code-params\">i</span>;<span class=\"code-params\">r</span>++)<span class=\"code-params\">u</span>[<span class=\"code-params\">p</span>]!==<span class=\"code-params\">u</span>[<span class=\"code-params\">p</span>+1]&amp;&amp;(<span class=\"code-params\">l[s+r]=u[p]?<span class=\"code-number\">4</span>:<span class=\"code-number\">8</span>,++m</span>),<span class=\"code-params\">p</span>++;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>!==u[p]&amp;&amp;(l[s+r]=<span class=\"code-number\">4</span>,++m</span>),<span class=\"code-params\">m</span>&gt;1<span class=\"code-params\">e3</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">null</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">b</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Int32Array</span>(<span class=\"code-params\">[<span class=\"code-number\">0</span>,o,<span class=\"code-number\">-1</span>,<span class=\"code-number\">0</span>,-o,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">_</span>=[];<span class=\"code-params\">for</span>(<span class=\"code-params\">t=<span class=\"code-number\">0</span>;m&amp;&amp;t&lt;=a;t++</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> y=t*o,v=y+i;y&lt;v&amp;&amp;!l[y];</span>)<span class=\"code-params\">y</span>++;<span class=\"code-params\">if</span>(<span class=\"code-params\">y!==v</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">S</span>,<span class=\"code-params\">x</span>=[<span class=\"code-params\">y</span>%<span class=\"code-params\">o</span>,<span class=\"code-params\">t</span>],<span class=\"code-params\">C</span>=<span class=\"code-params\">l</span>[<span class=\"code-params\">y</span>],<span class=\"code-params\">P</span>=<span class=\"code-params\">y</span>;<span class=\"code-params\">do</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">k</span>=<span class=\"code-params\">b</span>[<span class=\"code-params\">C</span>];<span class=\"code-params\">do</span>{<span class=\"code-params\">y</span>+=<span class=\"code-params\">k</span>}<span class=\"code-params\">while</span>(<span class=\"code-params\">!l[y]</span>);5!==(<span class=\"code-params\">S=l[y]</span>)&amp;&amp;10!==<span class=\"code-params\">S</span>?(<span class=\"code-params\">C=S,l[y]=<span class=\"code-number\">0</span></span>):(<span class=\"code-params\">C=S&amp;<span class=\"code-number\">51</span>*C&gt;&gt;<span class=\"code-number\">4</span>,l[y]&amp;=C&gt;&gt;<span class=\"code-number\">2</span>|C&lt;&lt;<span class=\"code-number\">2</span></span>),<span class=\"code-params\">x</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">y%o</span>),<span class=\"code-params\">x</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">y<span class=\"code-regexp\">/o|0),l[y]||--m}while(P!==y);_.push(x),--t}}return function(e){e.save(),e.scale(1/i</span>,<span class=\"code-number\">-1</span><span class=\"code-regexp\">/a),e.translate(0,-a),e.beginPath();for(let r=0,s=_.length;r&lt;s;r++){var t=_[r];e.moveTo(t[0],t[1]);for(let r=2,s=t.length;r&lt;s;r+=2)e.lineTo(t[r],t[r+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:s,height:n}):null),o&amp;&amp;o.compiled)o.compiled(t);else{var l=this.cachedCanvases.getCanvas(\"maskCanvas\",s,n),c=l.context;c.save(),r(c,e),c.globalCompositeOperation=\"source-in\",c.fillStyle=a?i.getPattern(c,this):i,c.fillRect(0,0,s,n),c.restore(),this.paintInlineImageXObject(l.canvas)}},paintImageMaskXObjectRepeat:function(e,t,s,n){var i=e.width,a=e.height,o=this.current.fillColor,l=this.current.patternFill,c=this.cachedCanvases.getCanvas(\"maskCanvas\",i,a),h=c.context;h.save(),r(h,e),h.globalCompositeOperation=\"source-in\",h.fillStyle=l?o.getPattern(h,this):o,h.fillRect(0,0,i,a),h.restore();for(var d=this.ctx,u=0,p=n.length;u&lt;p;u+=2)d.save(),d.transform(t,0,0,s,n[u],n[u+1]),d.scale(1,-1),d.drawImage(c.canvas,0,0,i,a,0,-1,1,1),d.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,s=this.current.fillColor,n=this.current.patternFill,i=0,a=e.length;i&lt;a;i++){var o=e[i],l=o.width,c=o.height,h=this.cachedCanvases.getCanvas(\"maskCanvas\",l,c),d=h.context;d.save(),r(d,o),d.globalCompositeOperation=\"source-in\",d.fillStyle=n?s.getPattern(d,this):s,d.fillRect(0,0,l,c),d.restore(),t.save(),t.transform.apply(t,o.transform),t.scale(1,-1),t.drawImage(h.canvas,0,0,l,c,0,-1,1,1),t.restore()}},paintImageXObject:function(e){const t=e.startsWith(\"g_\")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,s.warn)(\"Dependent image isn't ready yet\")},paintImageXObjectRepeat:function(e,t,r,n){const i=e.startsWith(\"g_\")?this.commonObjs.get(e):this.objs.get(e);if(i){for(var a=i.width,o=i.height,l=[],c=0,h=n.length;c&lt;h;c+=2)l.push({transform:[t,0,0,r,n[c],n[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(i,l)}else(0,s.warn)(\"Dependent image isn't ready yet\")},paintInlineImageXObject:function(e){var r=e.width,s=e.height,n=this.ctx;this.save(),n.scale(1/</span>r,<span class=\"code-number\">-1</span><span class=\"code-regexp\">/s);var i,a,o=n.mozCurrentTransformInverse,l=o[0],c=o[1],h=Math.max(Math.sqrt(l*l+c*c),1),d=o[2],u=o[3],p=Math.max(Math.sqrt(d*d+u*u),1);if(\"function\"==typeof HTMLElement&amp;&amp;e instanceof HTMLElement||!e.data)i=e;else{var g=(a=this.cachedCanvases.getCanvas(\"inlineImage\",r,s)).context;t(g,e),i=a.canvas}for(var f=r,m=s,A=\"prescale1\";h&gt;2&amp;&amp;f&gt;1||p&gt;2&amp;&amp;m&gt;1;){var b=f,_=m;h&gt;2&amp;&amp;f&gt;1&amp;&amp;(h/</span>=f<span class=\"code-regexp\">/(b=Math.ceil(f/</span><span class=\"code-number\">2</span></span>))),<span class=\"code-params\">p</span>&gt;2&amp;&amp;<span class=\"code-params\">m</span>&gt;1&amp;&amp;(<span class=\"code-params\">p<span class=\"code-regexp\">/=m/</span>(_=<span class=\"code-built_in\">Math</span>.ceil(m<span class=\"code-regexp\">/2))),(g=(a=this.cachedCanvases.getCanvas(A,b,_)).context).clearRect(0,0,b,_),g.drawImage(i,0,0,f,m,0,0,b,_),i=a.canvas,f=b,m=_,A=\"prescale1\"===A?\"prescale2\":\"prescale1\"}if(n.drawImage(i,0,0,f,m,0,-s,r,s),this.imageLayer){var y=this.getCanvasPosition(0,-s);this.imageLayer.appendImage({imgData:e,left:y[0],top:y[1],width:r/</span>o[<span class=\"code-number\">0</span>],height:s<span class=\"code-regexp\">/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,r){var s=this.ctx,n=e.width,i=e.height,a=this.cachedCanvases.getCanvas(\"inlineImage\",n,i);t(a.context,e);for(var o=0,l=r.length;o&lt;l;o++){var c=r[o];if(s.save(),s.transform.apply(s,c.transform),s.scale(1,-1),s.drawImage(a.canvas,c.x,c.y,c.w,c.h,0,-1,1,1),this.imageLayer){var h=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:e,left:h[0],top:h[1],width:n,height:i})}s.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,s.warn)(\"Unsupported 'paintXObject' command.\")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&amp;&amp;(this.pendingClip===A?e.clip(\"evenodd\"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth(e){if(null===this._cachedGetSinglePixelWidth){const e=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var r=this.ctx.mozCurrentTransform;return[r[0]*e+r[2]*t+r[4],r[1]*e+r[3]*t+r[5]]}},s.OPS)e.prototype[s.OPS[b]]=e.prototype[b];return e}();t.CanvasGraphics=l},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.getShadingPatternFromIR=function(e){var t=n[e[0]];if(!t)throw new Error(\"Unknown IR type: \"+e[0]);return t.fromIR(e)},t.TilingPattern=void 0;var s=r(2),n={};function i(e,t){if(!t||\"undefined\"==typeof Path2D)return;const r=t[2]-t[0],s=t[3]-t[1],n=new Path2D;n.rect(t[0],t[1],r,s),e.clip(n)}n.RadialAxial={fromIR:function(e){var t=e[1],r=e[2],s=e[3],n=e[4],a=e[5],o=e[6],l=e[7];return{type:\"Pattern\",getPattern:function(e){var c;i(e,r),\"axial\"===t?c=e.createLinearGradient(n[0],n[1],a[0],a[1]):\"radial\"===t&amp;&amp;(c=e.createRadialGradient(n[0],n[1],o,a[0],a[1],l));for(var h=0,d=s.length;h&lt;d;++h){var u=s[h];c.addColorStop(u[0],u[1])}return c}}}};var a=function(){function e(e,t,r,s,n,i,a,o){var l,c=t.coords,h=t.colors,d=e.data,u=4*e.width;c[r+1]&gt;c[s+1]&amp;&amp;(l=r,r=s,s=l,l=i,i=a,a=l),c[s+1]&gt;c[n+1]&amp;&amp;(l=s,s=n,n=l,l=a,a=o,o=l),c[r+1]&gt;c[s+1]&amp;&amp;(l=r,r=s,s=l,l=i,i=a,a=l);var p=(c[r]+t.offsetX)*t.scaleX,g=(c[r+1]+t.offsetY)*t.scaleY,f=(c[s]+t.offsetX)*t.scaleX,m=(c[s+1]+t.offsetY)*t.scaleY,A=(c[n]+t.offsetX)*t.scaleX,b=(c[n+1]+t.offsetY)*t.scaleY;if(!(g&gt;=b))for(var _,y,v,S,x,C,P,k,R=h[i],w=h[i+1],T=h[i+2],E=h[a],F=h[a+1],L=h[a+2],I=h[o],M=h[o+1],O=h[o+2],N=Math.round(g),D=Math.round(b),j=N;j&lt;=D;j++){if(j&lt;m){let e;e=j&lt;g?0:g===m?1:(g-j)/</span>(g-m</span>),<span class=\"code-params\">_</span>=<span class=\"code-params\">p</span>-(<span class=\"code-params\">p-f</span>)*<span class=\"code-params\">e</span>,<span class=\"code-params\">y</span>=<span class=\"code-params\">R</span>-(<span class=\"code-params\">R-E</span>)*<span class=\"code-params\">e</span>,<span class=\"code-params\">v</span>=<span class=\"code-params\">w</span>-(<span class=\"code-params\">w-F</span>)*<span class=\"code-params\">e</span>,<span class=\"code-params\">S</span>=<span class=\"code-params\">T</span>-(<span class=\"code-params\">T-L</span>)*<span class=\"code-params\">e</span>}<span class=\"code-params\">else</span>{<span class=\"code-params\">let</span> <span class=\"code-params\">e</span>;<span class=\"code-params\">e</span>=<span class=\"code-params\">j</span>&gt;<span class=\"code-params\">b</span>?1:<span class=\"code-params\">m</span>===<span class=\"code-params\">b</span>?0:(<span class=\"code-params\">m-j</span>)/(<span class=\"code-params\">m-b</span>),<span class=\"code-params\">_</span>=<span class=\"code-params\">f</span>-(<span class=\"code-params\">f-A</span>)*<span class=\"code-params\">e</span>,<span class=\"code-params\">y</span>=<span class=\"code-params\">E</span>-(<span class=\"code-params\">E-I</span>)*<span class=\"code-params\">e</span>,<span class=\"code-params\">v</span>=<span class=\"code-params\">F</span>-(<span class=\"code-params\">F-M</span>)*<span class=\"code-params\">e</span>,<span class=\"code-params\">S</span>=<span class=\"code-params\">L</span>-(<span class=\"code-params\">L-O</span>)*<span class=\"code-params\">e</span>}<span class=\"code-params\">let</span> <span class=\"code-params\">e</span>;<span class=\"code-params\">e</span>=<span class=\"code-params\">j</span>&lt;<span class=\"code-params\">g</span>?0:<span class=\"code-params\">j</span>&gt;<span class=\"code-params\">b</span>?1:(<span class=\"code-params\">g-j</span>)/(<span class=\"code-params\">g-b</span>),<span class=\"code-params\">x</span>=<span class=\"code-params\">p</span>-(<span class=\"code-params\">p-A</span>)*<span class=\"code-params\">e</span>,<span class=\"code-params\">C</span>=<span class=\"code-params\">R</span>-(<span class=\"code-params\">R-I</span>)*<span class=\"code-params\">e</span>,<span class=\"code-params\">P</span>=<span class=\"code-params\">w</span>-(<span class=\"code-params\">w-M</span>)*<span class=\"code-params\">e</span>,<span class=\"code-params\">k</span>=<span class=\"code-params\">T</span>-(<span class=\"code-params\">T-O</span>)*<span class=\"code-params\">e</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> U=<span class=\"code-built_in\">Math</span>.round(<span class=\"code-built_in\">Math</span>.min(_,x</span>)),<span class=\"code-params\">q</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">round</span>(<span class=\"code-params\"><span class=\"code-built_in\">Math</span>.max(_,x</span>)),<span class=\"code-params\">W</span>=<span class=\"code-params\">u</span>*<span class=\"code-params\">j</span>+4*<span class=\"code-params\">U</span>,<span class=\"code-params\">G</span>=<span class=\"code-params\">U</span>;<span class=\"code-params\">G</span>&lt;=<span class=\"code-params\">q</span>;<span class=\"code-params\">G</span>++)<span class=\"code-params\">e</span>=(<span class=\"code-params\">_-G</span>)/(<span class=\"code-params\">_-x</span>),<span class=\"code-params\">e</span>&lt;0?<span class=\"code-params\">e</span>=0:<span class=\"code-params\">e</span>&gt;1&amp;&amp;(<span class=\"code-params\">e=<span class=\"code-number\">1</span></span>),<span class=\"code-params\">d</span>[<span class=\"code-params\">W</span>++]=<span class=\"code-params\">y</span>-(<span class=\"code-params\">y-C</span>)*<span class=\"code-params\">e</span>|0,<span class=\"code-params\">d</span>[<span class=\"code-params\">W</span>++]=<span class=\"code-params\">v</span>-(<span class=\"code-params\">v-P</span>)*<span class=\"code-params\">e</span>|0,<span class=\"code-params\">d</span>[<span class=\"code-params\">W</span>++]=<span class=\"code-params\">S</span>-(<span class=\"code-params\">S-k</span>)*<span class=\"code-params\">e</span>|0,<span class=\"code-params\">d</span>[<span class=\"code-params\">W</span>++]=255}}<span class=\"code-params\">function</span> <span class=\"code-params\">t</span>(<span class=\"code-params\">t,r,s</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">n</span>,<span class=\"code-params\">i</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">coords</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">colors</span>;<span class=\"code-params\">switch</span>(<span class=\"code-params\">r.type</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">lattice</span>\":<span class=\"code-params\">var</span> <span class=\"code-params\">l</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">verticesPerRow</span>,<span class=\"code-params\">c</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">floor</span>(<span class=\"code-params\">a.length<span class=\"code-regexp\">/l)-1,h=l-1;for(n=0;n&lt;c;n++)for(var d=n*l,u=0;u&lt;h;u++,d++)e(t,s,a[d],a[d+1],a[d+l],o[d],o[d+1],o[d+l]),e(t,s,a[d+l+1],a[d+1],a[d+l],o[d+l+1],o[d+1],o[d+l]);break;case\"triangles\":for(n=0,i=a.length;n&lt;i;n+=3)e(t,s,a[n],a[n+1],a[n+2],o[n],o[n+1],o[n+2]);break;default:throw new Error(\"illegal figure\")}}return function(e,r,s,n,i,a,o,l){var c,h,d,u,p=Math.floor(e[0]),g=Math.floor(e[1]),f=Math.ceil(e[2])-p,m=Math.ceil(e[3])-g,A=Math.min(Math.ceil(Math.abs(f*r[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*r[1]*1.1)),3e3),_=f/</span>A,y=m<span class=\"code-regexp\">/b,v={coords:s,colors:n,offsetX:-p,offsetY:-g,scaleX:1/</span>_,scaleY:<span class=\"code-number\">1</span><span class=\"code-regexp\">/y},S=A+4,x=b+4;if(l.isEnabled)c=l.drawFigures({width:A,height:b,backgroundColor:a,figures:i,context:v}),(h=o.getCanvas(\"mesh\",S,x,!1)).context.drawImage(c,2,2),c=h.canvas;else{var C=(h=o.getCanvas(\"mesh\",S,x,!1)).context,P=C.createImageData(A,b);if(a){var k=P.data;for(d=0,u=k.length;d&lt;u;d+=4)k[d]=a[0],k[d+1]=a[1],k[d+2]=a[2],k[d+3]=255}for(d=0;d&lt;i.length;d++)t(P,i[d],v);C.putImageData(P,2,2),c=h.canvas}return{canvas:c,offsetX:p-2*_,offsetY:g-2*y,scaleX:_,scaleY:y}}}();n.Mesh={fromIR:function(e){var t=e[2],r=e[3],n=e[4],o=e[5],l=e[6],c=e[7],h=e[8];return{type:\"Pattern\",getPattern:function(e,d,u){var p;if(i(e,c),u)p=s.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(p=s.Util.singularValueDecompose2dScale(d.baseTransform),l){var g=s.Util.singularValueDecompose2dScale(l);p=[p[0]*g[0],p[1]*g[1]]}var f=a(o,p,t,r,n,u?null:h,d.cachedCanvases,d.webGLContext);return u||(e.setTransform.apply(e,d.baseTransform),l&amp;&amp;e.transform.apply(e,l)),e.translate(f.offsetX,f.offsetY),e.scale(f.scaleX,f.scaleY),e.createPattern(f.canvas,\"no-repeat\")}}}},n.Dummy={fromIR:function(){return{type:\"Pattern\",getPattern:function(){return\"hotpink\"}}}};var o=function(){var e=1,t=2;function r(e,t,r,s,n){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=s,this.baseTransform=n,this.type=\"Pattern\",this.ctx=r}return r.prototype={createPatternCanvas:function(e){var t=this.operatorList,r=this.bbox,n=this.xstep,i=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,s.info)(\"TilingType: \"+o);var h=r[0],d=r[1],u=r[2],p=r[3],g=s.Util.singularValueDecompose2dScale(this.matrix),f=s.Util.singularValueDecompose2dScale(this.baseTransform),m=[g[0]*f[0],g[1]*f[1]],A=this.getSizeAndScale(n,this.ctx.canvas.width,m[0]),b=this.getSizeAndScale(i,this.ctx.canvas.height,m[1]),_=e.cachedCanvases.getCanvas(\"pattern\",A.size,b.size,!0),y=_.context,v=c.createCanvasGraphics(y);return v.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(v,a,l),v.transform(A.scale,0,0,b.scale,0,0),v.transform(1,0,0,1,-h,-d),this.clipBbox(v,r,h,d,u,p),v.executeOperatorList(t),this.ctx.transform(1,0,0,1,h,d),this.ctx.scale(1/</span>A.scale,<span class=\"code-number\">1</span><span class=\"code-regexp\">/b.scale),_.canvas},getSizeAndScale:function(e,t,r){e=Math.abs(e);var s=Math.max(3e3,t),n=Math.ceil(e*r);return n&gt;=s?n=s:r=n/</span>e,{scale:r,size:n}},clipBbox:<span class=\"code-keyword\">function</span>(e,t,r,s,n,i</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-built_in\">Array</span>.isArray(t</span>)&amp;&amp;4===<span class=\"code-params\">t</span>.<span class=\"code-params\">length</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">n</span>-<span class=\"code-params\">r</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">i</span>-<span class=\"code-params\">s</span>;<span class=\"code-params\">e</span>.<span class=\"code-params\">ctx</span>.<span class=\"code-params\">rect</span>(<span class=\"code-params\">r,s,a,o</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">clip</span><span class=\"code-params\">()</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">endPath</span><span class=\"code-params\">()</span>}},<span class=\"code-params\">setFillAndStrokeStyleToContext</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">r,n,i</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">ctx</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">switch</span>(<span class=\"code-params\">n</span>){<span class=\"code-params\">case</span> <span class=\"code-params\">e</span>:<span class=\"code-params\">var</span> <span class=\"code-params\">l</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">ctx</span>;<span class=\"code-params\">a</span>.<span class=\"code-params\">fillStyle</span>=<span class=\"code-params\">l</span>.<span class=\"code-params\">fillStyle</span>,<span class=\"code-params\">a</span>.<span class=\"code-params\">strokeStyle</span>=<span class=\"code-params\">l</span>.<span class=\"code-params\">strokeStyle</span>,<span class=\"code-params\">o</span>.<span class=\"code-params\">fillColor</span>=<span class=\"code-params\">l</span>.<span class=\"code-params\">fillStyle</span>,<span class=\"code-params\">o</span>.<span class=\"code-params\">strokeColor</span>=<span class=\"code-params\">l</span>.<span class=\"code-params\">strokeStyle</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">t</span>:<span class=\"code-params\">var</span> <span class=\"code-params\">c</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">makeCssRgb</span>(<span class=\"code-params\">i[<span class=\"code-number\">0</span>],i[<span class=\"code-number\">1</span>],i[<span class=\"code-number\">2</span>]</span>);<span class=\"code-params\">a</span>.<span class=\"code-params\">fillStyle</span>=<span class=\"code-params\">c</span>,<span class=\"code-params\">a</span>.<span class=\"code-params\">strokeStyle</span>=<span class=\"code-params\">c</span>,<span class=\"code-params\">o</span>.<span class=\"code-params\">fillColor</span>=<span class=\"code-params\">c</span>,<span class=\"code-params\">o</span>.<span class=\"code-params\">strokeColor</span>=<span class=\"code-params\">c</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">default</span>:<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">FormatError</span>(<span class=\"code-params\"><span class=\"code-string\">\"Unsupported paint type: \"</span>+n</span>)}},<span class=\"code-params\">getPattern</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t</span>){(<span class=\"code-params\">e=<span class=\"code-keyword\">this</span>.ctx</span>).<span class=\"code-params\">setTransform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">e,<span class=\"code-keyword\">this</span>.baseTransform</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">transform</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">e,<span class=\"code-keyword\">this</span>.matrix</span>);<span class=\"code-params\">var</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">createPatternCanvas</span>(<span class=\"code-params\">t</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">createPattern</span>(<span class=\"code-params\">r,<span class=\"code-string\">\"repeat\"</span></span>)}},<span class=\"code-params\">r</span>}<span class=\"code-params\">()</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">TilingPattern</span>=<span class=\"code-params\">o</span>},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">GlobalWorkerOptions</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">GlobalWorkerOptions</span>=<span class=\"code-params\">s</span>,<span class=\"code-params\">s</span>.<span class=\"code-params\">workerPort</span>=<span class=\"code-params\">void</span> 0===<span class=\"code-params\">s</span>.<span class=\"code-params\">workerPort</span>?<span class=\"code-params\">null</span>:<span class=\"code-params\">s</span>.<span class=\"code-params\">workerPort</span>,<span class=\"code-params\">s</span>.<span class=\"code-params\">workerSrc</span>=<span class=\"code-params\">void</span> 0===<span class=\"code-params\">s</span>.<span class=\"code-params\">workerSrc</span>?\"\":<span class=\"code-params\">s</span>.<span class=\"code-params\">workerSrc</span>},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">MessageHandler</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=1,<span class=\"code-params\">i</span>=2,<span class=\"code-params\">a</span>=1,<span class=\"code-params\">o</span>=2,<span class=\"code-params\">l</span>=3,<span class=\"code-params\">c</span>=4,<span class=\"code-params\">h</span>=5,<span class=\"code-params\">d</span>=6,<span class=\"code-params\">u</span>=7,<span class=\"code-params\">p</span>=8;<span class=\"code-params\">function</span> <span class=\"code-params\">g</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"object\"</span>!=<span class=\"code-keyword\">typeof</span> e||<span class=\"code-literal\">null</span>===e</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>;<span class=\"code-params\">switch</span>(<span class=\"code-params\">e.name</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">AbortException</span>\":<span class=\"code-params\">return</span> <span class=\"code-params\">new</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">AbortException</span>(<span class=\"code-params\">e.message</span>);<span class=\"code-params\">case</span>\"<span class=\"code-params\">MissingPDFException</span>\":<span class=\"code-params\">return</span> <span class=\"code-params\">new</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">MissingPDFException</span>(<span class=\"code-params\">e.message</span>);<span class=\"code-params\">case</span>\"<span class=\"code-params\">UnexpectedResponseException</span>\":<span class=\"code-params\">return</span> <span class=\"code-params\">new</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">UnexpectedResponseException</span>(<span class=\"code-params\">e.message,e.status</span>);<span class=\"code-params\">case</span>\"<span class=\"code-params\">UnknownErrorException</span>\":<span class=\"code-params\">return</span> <span class=\"code-params\">new</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">UnknownErrorException</span>(<span class=\"code-params\">e.message,e.details</span>);<span class=\"code-params\">default</span>:<span class=\"code-params\">return</span> <span class=\"code-params\">new</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">UnknownErrorException</span>(<span class=\"code-params\">e.message,e.toString(</span>))}}<span class=\"code-params\">t</span>.<span class=\"code-params\">MessageHandler</span>=<span class=\"code-params\">class</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">sourceName</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">targetName</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">comObj</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">callbackId</span>=1,<span class=\"code-params\">this</span>.<span class=\"code-params\">streamId</span>=1,<span class=\"code-params\">this</span>.<span class=\"code-params\">postMessageTransfers</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">streamSinks</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">callbackCapabilities</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">actionHandler</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_onComObjOnMessage</span>=<span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">const</span> t=e.data;<span class=\"code-keyword\">if</span>(t.targetName!==<span class=\"code-keyword\">this</span>.sourceName)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(t.stream)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>._processStreamMessage(t);<span class=\"code-keyword\">if</span>(t.callback){<span class=\"code-keyword\">const</span> e=t.callbackId,r=<span class=\"code-keyword\">this</span>.callbackCapabilities[e];<span class=\"code-keyword\">if</span>(!r)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Cannot resolve callback \"</span>+e);<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.callbackCapabilities[e],t.callback===n)r.resolve(t.data);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">if</span>(t.callback!==i)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unexpected callback case\"</span>);r.reject(g(t.reason))}<span class=\"code-keyword\">return</span>}<span class=\"code-keyword\">const</span> s=<span class=\"code-keyword\">this</span>.actionHandler[t.action];<span class=\"code-keyword\">if</span>(!s)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"Unknown action from worker: \"</span>+t.action);<span class=\"code-keyword\">if</span>(t.callbackId){<span class=\"code-keyword\">const</span> e=<span class=\"code-keyword\">this</span>.sourceName,a=t.sourceName;<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Promise</span>(<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">e</span>(<span class=\"code-params\">s(t.data</span>))})).<span class=\"code-params\">then</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(s</span>){<span class=\"code-params\">r</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:e,targetName:a,callback:n,callbackId:t.callbackId,data:s}</span>)}),(<span class=\"code-params\"><span class=\"code-keyword\">function</span>(s</span>){<span class=\"code-params\">r</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:e,targetName:a,callback:i,callbackId:t.callbackId,reason:g(s</span>)})}))}<span class=\"code-params\">else</span> <span class=\"code-params\">t</span>.<span class=\"code-params\">streamId</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">_createStreamSink</span>(<span class=\"code-params\">t</span>):<span class=\"code-params\">s</span>(<span class=\"code-params\">t.data</span>)},<span class=\"code-params\">r</span>.<span class=\"code-params\">addEventListener</span>(<span class=\"code-params\"><span class=\"code-string\">\"message\"</span>,<span class=\"code-keyword\">this</span>._onComObjOnMessage</span>)}<span class=\"code-params\">on</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">actionHandler</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">r[e]</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">`There is already an actionName called \"<span class=\"code-subst\">${e}</span>\"`</span></span>);<span class=\"code-params\">r</span>[<span class=\"code-params\">e</span>]=<span class=\"code-params\">t</span>}<span class=\"code-params\">send</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_postMessage</span>(<span class=\"code-params\">{sourceName:<span class=\"code-keyword\">this</span>.sourceName,targetName:<span class=\"code-keyword\">this</span>.targetName,action:e,data:t},r</span>)}<span class=\"code-params\">sendWithPromise</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">callbackId</span>++,<span class=\"code-params\">i</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">callbackCapabilities</span>[<span class=\"code-params\">n</span>]=<span class=\"code-params\">i</span>;<span class=\"code-params\">try</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">_postMessage</span>(<span class=\"code-params\">{sourceName:<span class=\"code-keyword\">this</span>.sourceName,targetName:<span class=\"code-keyword\">this</span>.targetName,action:e,callbackId:n,data:t},r</span>)}<span class=\"code-params\">catch</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">i</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">sendWithStream</span>(<span class=\"code-params\">e,t,r,n</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">streamId</span>++,<span class=\"code-params\">o</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">sourceName</span>,<span class=\"code-params\">l</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">targetName</span>,<span class=\"code-params\">c</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">comObj</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">new</span> <span class=\"code-params\">ReadableStream</span>(<span class=\"code-params\">{start:r=&gt;{<span class=\"code-keyword\">const</span> a=(<span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">i</span>]={<span class=\"code-params\">controller</span>:<span class=\"code-params\">r</span>,<span class=\"code-params\">startCall</span>:<span class=\"code-params\">a</span>,<span class=\"code-params\">pullCall</span>:<span class=\"code-params\">null</span>,<span class=\"code-params\">cancelCall</span>:<span class=\"code-params\">null</span>,<span class=\"code-params\">isClosed</span>:!1},<span class=\"code-params\">this</span>.<span class=\"code-params\">_postMessage</span>(<span class=\"code-params\">{sourceName:o,targetName:l,action:e,streamId:i,data:t,desiredSize:r.desiredSize},n</span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">promise</span>},<span class=\"code-params\">pull</span>:<span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">const</span> t=<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">i</span>].<span class=\"code-params\">pullCall</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">c</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:o,targetName:l,stream:d,streamId:i,desiredSize:e.desiredSize}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">promise</span>},<span class=\"code-params\">cancel</span>:<span class=\"code-params\">e</span>=&gt;</span>{(<span class=\"code-number\">0</span>,s.assert)(e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Error</span>,<span class=\"code-string\">\"cancel must have a valid reason\"</span>);<span class=\"code-keyword\">const</span> t=<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">i</span>].<span class=\"code-params\">cancelCall</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">i</span>].<span class=\"code-params\">isClosed</span>=!0,<span class=\"code-params\">c</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:o,targetName:l,stream:a,streamId:i,reason:g(e</span>)}),<span class=\"code-params\">t</span>.<span class=\"code-params\">promise</span>}},<span class=\"code-params\">r</span>)}<span class=\"code-params\">_createStreamSink</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">actionHandler</span>[<span class=\"code-params\">e</span>.<span class=\"code-params\">action</span>],<span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">streamId</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">sourceName</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">sourceName</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">comObj</span>,<span class=\"code-params\">d</span>={<span class=\"code-params\">enqueue</span>(<span class=\"code-params\">e,r=<span class=\"code-number\">1</span>,o</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.isCancelled</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">l</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">desiredSize</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">desiredSize</span>-=<span class=\"code-params\">r</span>,<span class=\"code-params\">l</span>&gt;0&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">desiredSize</span>&lt;=0&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.sinkCapability=(<span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">ready</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">sinkCapability</span>.<span class=\"code-params\">promise</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">_postMessage</span>(<span class=\"code-params\">{sourceName:i,targetName:a,stream:c,streamId:n,chunk:e},o</span>)},<span class=\"code-params\">close</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">isCancelled</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.isCancelled=!<span class=\"code-number\">0</span>,o.postMessage({sourceName:i,targetName:a,stream:l,streamId:n}</span>),<span class=\"code-params\">delete</span> <span class=\"code-params\">t</span>.<span class=\"code-params\">streamSinks</span>[<span class=\"code-params\">n</span>])},<span class=\"code-params\">error</span>(<span class=\"code-params\">e</span>){(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\">e <span class=\"code-keyword\">instanceof</span> <span class=\"code-built_in\">Error</span>,<span class=\"code-string\">\"error must have a valid reason\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">isCancelled</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.isCancelled=!<span class=\"code-number\">0</span>,o.postMessage({sourceName:i,targetName:a,stream:h,streamId:n,reason:g(e</span>)}))},<span class=\"code-params\">sinkCapability</span>:(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">onPull</span>:<span class=\"code-params\">null</span>,<span class=\"code-params\">onCancel</span>:<span class=\"code-params\">null</span>,<span class=\"code-params\">isCancelled</span>:!1,<span class=\"code-params\">desiredSize</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">desiredSize</span>,<span class=\"code-params\">ready</span>:<span class=\"code-params\">null</span>};<span class=\"code-params\">d</span>.<span class=\"code-params\">sinkCapability</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>,<span class=\"code-params\">d</span>.<span class=\"code-params\">ready</span>=<span class=\"code-params\">d</span>.<span class=\"code-params\">sinkCapability</span>.<span class=\"code-params\">promise</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">streamSinks</span>[<span class=\"code-params\">n</span>]=<span class=\"code-params\">d</span>,<span class=\"code-params\">new</span> <span class=\"code-params\">Promise</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(t</span>){<span class=\"code-params\">t</span>(<span class=\"code-params\">r(e.data,d</span>))})).<span class=\"code-params\">then</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">o</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:i,targetName:a,stream:p,streamId:n,success:!<span class=\"code-number\">0</span>}</span>)}),(<span class=\"code-params\"><span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">o</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:i,targetName:a,stream:p,streamId:n,reason:g(e</span>)})}))}<span class=\"code-params\">_processStreamMessage</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">streamId</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">sourceName</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">sourceName</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">comObj</span>;<span class=\"code-params\">switch</span>(<span class=\"code-params\">e.stream</span>){<span class=\"code-params\">case</span> <span class=\"code-params\">p</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">success</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">startCall</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">startCall</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\">g(e.reason</span>));<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">u</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">success</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">pullCall</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">pullCall</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\">g(e.reason</span>));<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">d</span>:<span class=\"code-params\">if</span>(<span class=\"code-params\">!<span class=\"code-keyword\">this</span>.streamSinks[t]</span>){<span class=\"code-params\">i</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:r,targetName:n,stream:u,streamId:t,success:!<span class=\"code-number\">0</span>}</span>);<span class=\"code-params\">break</span>}<span class=\"code-params\">this</span>.<span class=\"code-params\">streamSinks</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">desiredSize</span>&lt;=0&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">desiredSize</span>&gt;0&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">streamSinks</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">sinkCapability</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">streamSinks</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">desiredSize</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">desiredSize</span>;<span class=\"code-params\">const</span>{<span class=\"code-params\">onPull</span>:<span class=\"code-params\">f</span>}=<span class=\"code-params\">this</span>.<span class=\"code-params\">streamSinks</span>[<span class=\"code-params\">e</span>.<span class=\"code-params\">streamId</span>];<span class=\"code-params\">new</span> <span class=\"code-params\">Promise</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">e</span>(<span class=\"code-params\">f&amp;&amp;f(</span>))})).<span class=\"code-params\">then</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">i</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:r,targetName:n,stream:u,streamId:t,success:!<span class=\"code-number\">0</span>}</span>)}),(<span class=\"code-params\"><span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">i</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:r,targetName:n,stream:u,streamId:t,reason:g(e</span>)})}));<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">c</span>:<span class=\"code-params\">if</span>(<span class=\"code-params\">(<span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.streamControllers[t],<span class=\"code-string\">\"enqueue should have stream controller\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">isClosed</span>)<span class=\"code-params\">break</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">controller</span>.<span class=\"code-params\">enqueue</span>(<span class=\"code-params\">e.chunk</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">l</span>:<span class=\"code-params\">if</span>(<span class=\"code-params\">(<span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.streamControllers[t],<span class=\"code-string\">\"close should have stream controller\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">isClosed</span>)<span class=\"code-params\">break</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">isClosed</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">controller</span>.<span class=\"code-params\">close</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_deleteStreamController</span>(<span class=\"code-params\">t</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">h</span>:(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.streamControllers[t],<span class=\"code-string\">\"error should have stream controller\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">controller</span>.<span class=\"code-params\">error</span>(<span class=\"code-params\">g(e.reason</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">_deleteStreamController</span>(<span class=\"code-params\">t</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">o</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">success</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">cancelCall</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">cancelCall</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\">g(e.reason</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">_deleteStreamController</span>(<span class=\"code-params\">t</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">a</span>:<span class=\"code-params\">if</span>(<span class=\"code-params\">!<span class=\"code-keyword\">this</span>.streamSinks[t]</span>)<span class=\"code-params\">break</span>;<span class=\"code-params\">const</span>{<span class=\"code-params\">onCancel</span>:<span class=\"code-params\">m</span>}=<span class=\"code-params\">this</span>.<span class=\"code-params\">streamSinks</span>[<span class=\"code-params\">e</span>.<span class=\"code-params\">streamId</span>];<span class=\"code-params\">new</span> <span class=\"code-params\">Promise</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(t</span>){<span class=\"code-params\">t</span>(<span class=\"code-params\">m&amp;&amp;m(g(e.reason</span>)))})).<span class=\"code-params\">then</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(</span>){<span class=\"code-params\">i</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:r,targetName:n,stream:o,streamId:t,success:!<span class=\"code-number\">0</span>}</span>)}),(<span class=\"code-params\"><span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">i</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">{sourceName:r,targetName:n,stream:o,streamId:t,reason:g(e</span>)})})),<span class=\"code-params\">this</span>.<span class=\"code-params\">streamSinks</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">sinkCapability</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\">g(e.reason</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">streamSinks</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">isCancelled</span>=!0,<span class=\"code-params\">delete</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">streamSinks</span>[<span class=\"code-params\">t</span>];<span class=\"code-params\">break</span>;<span class=\"code-params\">default</span>:<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Unexpected stream case\"</span></span>)}}<span class=\"code-params\">async</span> <span class=\"code-params\">_deleteStreamController</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">await</span> <span class=\"code-params\">Promise</span>.<span class=\"code-params\">allSettled</span>(<span class=\"code-params\">[<span class=\"code-keyword\">this</span>.streamControllers[e].startCall,<span class=\"code-keyword\">this</span>.streamControllers[e].pullCall,<span class=\"code-keyword\">this</span>.streamControllers[e].cancelCall].map((<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">promise</span>}))),<span class=\"code-params\">delete</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">streamControllers</span>[<span class=\"code-params\">e</span>]}<span class=\"code-params\">_postMessage</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">postMessageTransfers</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">comObj</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">e,t</span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">comObj</span>.<span class=\"code-params\">postMessage</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">destroy</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">comObj</span>.<span class=\"code-params\">removeEventListener</span>(<span class=\"code-params\"><span class=\"code-string\">\"message\"</span>,<span class=\"code-keyword\">this</span>._onComObjOnMessage</span>)}}},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">Metadata</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">13</span></span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">Metadata</span>=<span class=\"code-params\">class</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\"><span class=\"code-string\">\"string\"</span>==<span class=\"code-keyword\">typeof</span> e,<span class=\"code-string\">\"Metadata: input is not a string\"</span></span>),<span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_repair</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=(<span class=\"code-params\"><span class=\"code-keyword\">new</span> n.SimpleXMLParser</span>).<span class=\"code-params\">parseFromString</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_metadataMap</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Map</span>,<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_parse</span>(<span class=\"code-params\">t</span>)}<span class=\"code-params\">_repair</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">replace</span>(<span class=\"code-params\"><span class=\"code-regexp\">/^[^&lt;]+/</span>,<span class=\"code-string\">\"\"</span></span>).<span class=\"code-params\">replace</span>(<span class=\"code-params\"><span class=\"code-regexp\">/&gt;\\\\376\\\\377([^&lt;]+)/g</span>,(<span class=\"code-keyword\">function</span>(e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">replace</span>(<span class=\"code-params\"><span class=\"code-regexp\">/\\\\([0-3])([0-7])([0-7])/g</span>,(<span class=\"code-keyword\">function</span>(e,t,r,s</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">String</span>.<span class=\"code-params\">fromCharCode</span>(<span class=\"code-params\"><span class=\"code-number\">64</span>*t+<span class=\"code-number\">8</span>*r+<span class=\"code-number\">1</span>*s</span>)})).<span class=\"code-params\">replace</span>(<span class=\"code-params\"><span class=\"code-regexp\">/&amp;(amp|apos|gt|lt|quot);/g</span>,(<span class=\"code-keyword\">function</span>(e,t</span>){<span class=\"code-params\">switch</span>(<span class=\"code-params\">t</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">amp</span>\":<span class=\"code-params\">return</span>\"&amp;\";<span class=\"code-params\">case</span>\"<span class=\"code-params\">apos</span>\":<span class=\"code-params\">return</span>\"'\";<span class=\"code-params\">case</span>\"<span class=\"code-params\">gt</span>\":<span class=\"code-params\">return</span>\"&gt;\";<span class=\"code-params\">case</span>\"<span class=\"code-params\">lt</span>\":<span class=\"code-params\">return</span>\"&lt;\";<span class=\"code-params\">case</span>\"<span class=\"code-params\">quot</span>\":<span class=\"code-params\">return</span>'\"'}<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">`_repair: <span class=\"code-subst\">${t}</span> isn't defined.`</span></span>)}));<span class=\"code-params\">let</span> <span class=\"code-params\">s</span>=\"\";<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>,t=r.length;e&lt;t;e+=<span class=\"code-number\">2</span></span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=256*<span class=\"code-params\">r</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\">e</span>)+<span class=\"code-params\">r</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\">e+<span class=\"code-number\">1</span></span>);<span class=\"code-params\">s</span>+=<span class=\"code-params\">t</span>&gt;=32&amp;&amp;<span class=\"code-params\">t</span>&lt;127&amp;&amp;60!==<span class=\"code-params\">t</span>&amp;&amp;62!==<span class=\"code-params\">t</span>&amp;&amp;38!==<span class=\"code-params\">t</span>?<span class=\"code-params\">String</span>.<span class=\"code-params\">fromCharCode</span>(<span class=\"code-params\">t</span>):\"&amp;#<span class=\"code-params\">x</span>\"+(<span class=\"code-params\"><span class=\"code-number\">65536</span>+t</span>).<span class=\"code-params\">toString</span>(<span class=\"code-params\"><span class=\"code-number\">16</span></span>).<span class=\"code-params\">substring</span>(<span class=\"code-params\"><span class=\"code-number\">1</span></span>)+\";\"}<span class=\"code-params\">return</span>\"&gt;\"+<span class=\"code-params\">s</span>}))}<span class=\"code-params\">_parse</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">documentElement</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"rdf:rdf\"</span>!==t.nodeName.toLowerCase(</span>))<span class=\"code-params\">for</span>(<span class=\"code-params\">t=t.firstChild;t&amp;&amp;<span class=\"code-string\">\"rdf:rdf\"</span>!==t.nodeName.toLowerCase(</span>);)<span class=\"code-params\">t</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">nextSibling</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>?<span class=\"code-params\">t</span>.<span class=\"code-params\">nodeName</span>.<span class=\"code-params\">toLowerCase</span><span class=\"code-params\">()</span>:<span class=\"code-params\">null</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">!t||<span class=\"code-string\">\"rdf:rdf\"</span>!==r||!t.hasChildNodes(</span>))<span class=\"code-params\">return</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">childNodes</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>,t=s.length;e&lt;t;e++</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">s</span>[<span class=\"code-params\">e</span>];<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"rdf:description\"</span>===t.nodeName.toLowerCase(</span>))<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>,r=t.childNodes.length;e&lt;r;e++</span>)<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"#text\"</span>!==t.childNodes[e].nodeName.toLowerCase(</span>)){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">childNodes</span>[<span class=\"code-params\">e</span>],<span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">nodeName</span>.<span class=\"code-params\">toLowerCase</span><span class=\"code-params\">()</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">_metadataMap</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">s,r.textContent.trim(</span>))}}}<span class=\"code-params\">get</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_metadataMap</span>.<span class=\"code-params\">has</span>(<span class=\"code-params\">e</span>)?<span class=\"code-params\">this</span>.<span class=\"code-params\">_metadataMap</span>.<span class=\"code-params\">get</span>(<span class=\"code-params\">e</span>):<span class=\"code-params\">null</span>}<span class=\"code-params\">getAll</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>);<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span>[t,r]<span class=\"code-keyword\">of</span> <span class=\"code-keyword\">this</span>._metadataMap</span>)<span class=\"code-params\">e</span>[<span class=\"code-params\">t</span>]=<span class=\"code-params\">r</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>}<span class=\"code-params\">has</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_metadataMap</span>.<span class=\"code-params\">has</span>(<span class=\"code-params\">e</span>)}}},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">SimpleXMLParser</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=0,<span class=\"code-params\">n</span>=-2,<span class=\"code-params\">i</span>=-3,<span class=\"code-params\">a</span>=-4,<span class=\"code-params\">o</span>=-5,<span class=\"code-params\">l</span>=-6,<span class=\"code-params\">c</span>=-9;<span class=\"code-params\">function</span> <span class=\"code-params\">h</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>[<span class=\"code-params\">t</span>];<span class=\"code-params\">return</span>\" \"===<span class=\"code-params\">r</span>||\"\\<span class=\"code-params\">n</span>\"===<span class=\"code-params\">r</span>||\"\\<span class=\"code-params\">r</span>\"===<span class=\"code-params\">r</span>||\"\\<span class=\"code-params\">t</span>\"===<span class=\"code-params\">r</span>}<span class=\"code-params\">class</span> <span class=\"code-params\">d</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">nodeName</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">nodeValue</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"parentNode\"</span>,{value:<span class=\"code-literal\">null</span>,writable:!<span class=\"code-number\">0</span>}</span>)}<span class=\"code-params\">get</span> <span class=\"code-params\">firstChild</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">childNodes</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">childNodes</span>[0]}<span class=\"code-params\">get</span> <span class=\"code-params\">nextSibling</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">parentNode</span>.<span class=\"code-params\">childNodes</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">!e</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">indexOf</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span></span>);<span class=\"code-params\">return</span>-1!==<span class=\"code-params\">t</span>?<span class=\"code-params\">e</span>[<span class=\"code-params\">t</span>+1]:<span class=\"code-params\">void</span> 0}<span class=\"code-params\">get</span> <span class=\"code-params\">textContent</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">childNodes</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">childNodes</span>.<span class=\"code-params\">map</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">textContent</span>})).<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\"\"</span></span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">nodeValue</span>||\"\"}<span class=\"code-params\">hasChildNodes</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">childNodes</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">childNodes</span>.<span class=\"code-params\">length</span>&gt;0}}<span class=\"code-params\">t</span>.<span class=\"code-params\">SimpleXMLParser</span>=<span class=\"code-params\">class</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">class</span>{<span class=\"code-params\">_resolveEntities</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">replace</span>(<span class=\"code-params\"><span class=\"code-regexp\">/&amp;([^;]+);/g</span>,(e,t</span>)=&gt;</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"#x\"</span>===t.substring(<span class=\"code-number\">0</span>,<span class=\"code-number\">2</span>))<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">String</span>.fromCharCode(<span class=\"code-built_in\">parseInt</span>(t.substring(<span class=\"code-number\">2</span>),<span class=\"code-number\">16</span>));<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"#\"</span>===t.substring(<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>))<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">String</span>.fromCharCode(<span class=\"code-built_in\">parseInt</span>(t.substring(<span class=\"code-number\">1</span>),<span class=\"code-number\">10</span>));<span class=\"code-keyword\">switch</span>(t){<span class=\"code-keyword\">case</span><span class=\"code-string\">\"lt\"</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"&lt;\"</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"gt\"</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"&gt;\"</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"amp\"</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">\"&amp;\"</span>;<span class=\"code-keyword\">case</span><span class=\"code-string\">\"quot\"</span>:<span class=\"code-keyword\">return</span><span class=\"code-string\">'\"'</span>}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.onResolveEntity(t)})}_parseContent(e,t){<span class=\"code-keyword\">const</span> r=[];<span class=\"code-keyword\">let</span> s=t;<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(;s&lt;e.length&amp;&amp;h(e,s);)++s}<span class=\"code-keyword\">for</span>(;s&lt;e.length&amp;&amp;!h(e,s)&amp;&amp;<span class=\"code-string\">\"&gt;\"</span>!==e[s]&amp;&amp;<span class=\"code-string\">\"/\"</span>!==e[s];)++s;<span class=\"code-keyword\">const</span> i=e.substring(t,s);<span class=\"code-keyword\">for</span>(n();s&lt;e.length&amp;&amp;<span class=\"code-string\">\"&gt;\"</span>!==e[s]&amp;&amp;<span class=\"code-string\">\"/\"</span>!==e[s]&amp;&amp;<span class=\"code-string\">\"?\"</span>!==e[s];){n();<span class=\"code-keyword\">let</span> t=<span class=\"code-string\">\"\"</span>,i=<span class=\"code-string\">\"\"</span>;<span class=\"code-keyword\">for</span>(;s&lt;e.length&amp;&amp;!h(e,s)&amp;&amp;<span class=\"code-string\">\"=\"</span>!==e[s];)t+=e[s],++s;<span class=\"code-keyword\">if</span>(n(),<span class=\"code-string\">\"=\"</span>!==e[s])<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;++s,n();<span class=\"code-keyword\">const</span> a=e[s];<span class=\"code-keyword\">if</span>(<span class=\"code-string\">'\"'</span>!==a&amp;&amp;<span class=\"code-string\">\"'\"</span>!==a)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">const</span> o=e.indexOf(a,++s);<span class=\"code-keyword\">if</span>(o&lt;<span class=\"code-number\">0</span>)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;i=e.substring(s,o),r.push({<span class=\"code-attr\">name</span>:t,<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">this</span>._resolveEntities(i)}),s=o+<span class=\"code-number\">1</span>,n()}<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">name</span>:i,<span class=\"code-attr\">attributes</span>:r,<span class=\"code-attr\">parsed</span>:s-t}}_parseProcessingInstruction(e,t){<span class=\"code-keyword\">let</span> r=t;<span class=\"code-keyword\">for</span>(;r&lt;e.length&amp;&amp;!h(e,r)&amp;&amp;<span class=\"code-string\">\"&gt;\"</span>!==e[r]&amp;&amp;<span class=\"code-string\">\"/\"</span>!==e[r];)++r;<span class=\"code-keyword\">const</span> s=e.substring(t,r);!<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">for</span>(;r&lt;e.length&amp;&amp;h(e,r);)++r}();<span class=\"code-keyword\">const</span> n=r;<span class=\"code-keyword\">for</span>(;r&lt;e.length&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-string\">\"?\"</span>!==e[r]||<span class=\"code-string\">\"&gt;\"</span>!==e[r+<span class=\"code-number\">1</span>]</span>);)++<span class=\"code-params\">r</span>;<span class=\"code-params\">return</span>{<span class=\"code-params\">name</span>:<span class=\"code-params\">s</span>,<span class=\"code-params\">value</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">substring</span>(<span class=\"code-params\">n,r</span>),<span class=\"code-params\">parsed</span>:<span class=\"code-params\">r</span>-<span class=\"code-params\">t</span>}}<span class=\"code-params\">parseXml</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\">;t&lt;e.length;</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"&lt;\"</span>===e[t]</span>){++<span class=\"code-params\">r</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>;<span class=\"code-params\">switch</span>(<span class=\"code-params\">e[r]</span>){<span class=\"code-params\">case</span>\"/\":<span class=\"code-params\">if</span>(<span class=\"code-params\">++r,t=e.indexOf(<span class=\"code-string\">\"&gt;\"</span>,r</span>),<span class=\"code-params\">t</span>&lt;0)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">onError</span>(<span class=\"code-params\">c</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">onEndElement</span>(<span class=\"code-params\">e.substring(r,t</span>)),<span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>+1;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"?\":++<span class=\"code-params\">r</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_parseProcessingInstruction</span>(<span class=\"code-params\">e,r</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"?&gt;\"</span>!==e.substring(r+s.parsed,r+s.parsed+<span class=\"code-number\">2</span></span>))<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">onError</span>(<span class=\"code-params\">i</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">onPi</span>(<span class=\"code-params\">s.name,s.value</span>),<span class=\"code-params\">r</span>+=<span class=\"code-params\">s</span>.<span class=\"code-params\">parsed</span>+2;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"!\":<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"--\"</span>===e.substring(r+<span class=\"code-number\">1</span>,r+<span class=\"code-number\">3</span></span>)){<span class=\"code-params\">if</span>(<span class=\"code-params\">t=e.indexOf(<span class=\"code-string\">\"--\\x3e\"</span>,r+<span class=\"code-number\">3</span></span>),<span class=\"code-params\">t</span>&lt;0)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">onError</span>(<span class=\"code-params\">o</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">onComment</span>(<span class=\"code-params\">e.substring(r+<span class=\"code-number\">3</span>,t</span>)),<span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>+3}<span class=\"code-params\">else</span> <span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"[CDATA[\"</span>===e.substring(r+<span class=\"code-number\">1</span>,r+<span class=\"code-number\">8</span></span>)){<span class=\"code-params\">if</span>(<span class=\"code-params\">t=e.indexOf(<span class=\"code-string\">\"]]&gt;\"</span>,r+<span class=\"code-number\">8</span></span>),<span class=\"code-params\">t</span>&lt;0)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">onError</span>(<span class=\"code-params\">n</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">onCdata</span>(<span class=\"code-params\">e.substring(r+<span class=\"code-number\">8</span>,t</span>)),<span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>+3}<span class=\"code-params\">else</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"DOCTYPE\"</span>!==e.substring(r+<span class=\"code-number\">1</span>,r+<span class=\"code-number\">8</span></span>))<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">onError</span>(<span class=\"code-params\">l</span>);{<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">indexOf</span>(<span class=\"code-params\"><span class=\"code-string\">\"[\"</span>,r+<span class=\"code-number\">8</span></span>);<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>=!1;<span class=\"code-params\">if</span>(<span class=\"code-params\">t=e.indexOf(<span class=\"code-string\">\"&gt;\"</span>,r+<span class=\"code-number\">8</span></span>),<span class=\"code-params\">t</span>&lt;0)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">onError</span>(<span class=\"code-params\">a</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">s&gt;<span class=\"code-number\">0</span>&amp;&amp;t&gt;s</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">t=e.indexOf(<span class=\"code-string\">\"]&gt;\"</span>,r+<span class=\"code-number\">8</span></span>),<span class=\"code-params\">t</span>&lt;0)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">onError</span>(<span class=\"code-params\">a</span>);<span class=\"code-params\">n</span>=!0}<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">substring</span>(<span class=\"code-params\">r+<span class=\"code-number\">8</span>,t+(n?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span></span>));<span class=\"code-params\">this</span>.<span class=\"code-params\">onDoctype</span>(<span class=\"code-params\">i</span>),<span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>+(<span class=\"code-params\">n?<span class=\"code-number\">2</span>:<span class=\"code-number\">1</span></span>)}}<span class=\"code-params\">break</span>;<span class=\"code-params\">default</span>:<span class=\"code-params\">const</span> <span class=\"code-params\">h</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_parseContent</span>(<span class=\"code-params\">e,r</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>===h</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">onError</span>(<span class=\"code-params\">l</span>);<span class=\"code-params\">let</span> <span class=\"code-params\">d</span>=!1;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"/&gt;\"</span>===e.substring(r+h.parsed,r+h.parsed+<span class=\"code-number\">2</span></span>))<span class=\"code-params\">d</span>=!0;<span class=\"code-params\">else</span> <span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-string\">\"&gt;\"</span>!==e.substring(r+h.parsed,r+h.parsed+<span class=\"code-number\">1</span></span>))<span class=\"code-params\">return</span> <span class=\"code-params\">void</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">onError</span>(<span class=\"code-params\">c</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">onBeginElement</span>(<span class=\"code-params\">h.name,h.attributes,d</span>),<span class=\"code-params\">r</span>+=<span class=\"code-params\">h</span>.<span class=\"code-params\">parsed</span>+(<span class=\"code-params\">d?<span class=\"code-number\">2</span>:<span class=\"code-number\">1</span></span>)}}<span class=\"code-params\">else</span>{<span class=\"code-params\">for</span>(<span class=\"code-params\">;r&lt;e.length&amp;&amp;<span class=\"code-string\">\"&lt;\"</span>!==e[r];</span>)<span class=\"code-params\">r</span>++;<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">substring</span>(<span class=\"code-params\">t,r</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">onText</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._resolveEntities(s</span>))}<span class=\"code-params\">t</span>=<span class=\"code-params\">r</span>}}<span class=\"code-params\">onResolveEntity</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>`&amp;<span class=\"code-params\">$</span>{<span class=\"code-params\">e</span>};`}<span class=\"code-params\">onPi</span>(<span class=\"code-params\">e,t</span>){}<span class=\"code-params\">onComment</span>(<span class=\"code-params\">e</span>){}<span class=\"code-params\">onCdata</span>(<span class=\"code-params\">e</span>){}<span class=\"code-params\">onDoctype</span>(<span class=\"code-params\">e</span>){}<span class=\"code-params\">onText</span>(<span class=\"code-params\">e</span>){}<span class=\"code-params\">onBeginElement</span>(<span class=\"code-params\">e,t,r</span>){}<span class=\"code-params\">onEndElement</span>(<span class=\"code-params\">e</span>){}<span class=\"code-params\">onError</span>(<span class=\"code-params\">e</span>){}}{<span class=\"code-params\">constructor</span><span class=\"code-params\">()</span>{<span class=\"code-params\">super</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_currentFragment</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_stack</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_errorCode</span>=<span class=\"code-params\">s</span>}<span class=\"code-params\">parseFromString</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._currentFragment=[],<span class=\"code-keyword\">this</span>._stack=[],<span class=\"code-keyword\">this</span>._errorCode=s,<span class=\"code-keyword\">this</span>.parseXml(e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_errorCode</span>!==<span class=\"code-params\">s</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">const</span>[<span class=\"code-params\">t</span>]=<span class=\"code-params\">this</span>.<span class=\"code-params\">_currentFragment</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">t</span>?{<span class=\"code-params\">documentElement</span>:<span class=\"code-params\">t</span>}:<span class=\"code-params\">void</span> 0}<span class=\"code-params\">onResolveEntity</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">switch</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">apos</span>\":<span class=\"code-params\">return</span>\"'\"}<span class=\"code-params\">return</span> <span class=\"code-params\">super</span>.<span class=\"code-params\">onResolveEntity</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">onText</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> t=<span class=\"code-number\">0</span>,r=e.length;t&lt;r;t++</span>)<span class=\"code-params\">if</span>(<span class=\"code-params\">!h(e,t</span>))<span class=\"code-params\">return</span>!1;<span class=\"code-params\">return</span>!0}(<span class=\"code-params\">e</span>))<span class=\"code-params\">return</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">d</span>(<span class=\"code-params\"><span class=\"code-string\">\"#text\"</span>,e</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_currentFragment</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">t</span>)}<span class=\"code-params\">onCdata</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">d</span>(<span class=\"code-params\"><span class=\"code-string\">\"#text\"</span>,e</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_currentFragment</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">t</span>)}<span class=\"code-params\">onBeginElement</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">d</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">s</span>.<span class=\"code-params\">childNodes</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_currentFragment</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">s</span>),<span class=\"code-params\">r</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._stack.push(<span class=\"code-keyword\">this</span>._currentFragment</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_currentFragment</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">childNodes</span>)}<span class=\"code-params\">onEndElement</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_currentFragment</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_stack</span>.<span class=\"code-params\">pop</span><span class=\"code-params\">()</span>||[];<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_currentFragment</span>[<span class=\"code-params\">this</span>.<span class=\"code-params\">_currentFragment</span>.<span class=\"code-params\">length</span>-1];<span class=\"code-params\">if</span>(<span class=\"code-params\">t</span>)<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>,r=t.childNodes.length;e&lt;r;e++</span>)<span class=\"code-params\">t</span>.<span class=\"code-params\">childNodes</span>[<span class=\"code-params\">e</span>].<span class=\"code-params\">parentNode</span>=<span class=\"code-params\">t</span>}<span class=\"code-params\">onError</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_errorCode</span>=<span class=\"code-params\">e</span>}}},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">PDFDataTransportStream</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">PDFDataTransportStream</span>=<span class=\"code-params\">class</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t</span>){(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\">t,<span class=\"code-string\">'PDFDataTransportStream - missing required \"pdfDataRangeTransport\" argument.'</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunks</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_progressiveDone</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">progressiveDone</span>||!1;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">initialData</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">r&amp;&amp;r.length&gt;<span class=\"code-number\">0</span></span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">r</span>).<span class=\"code-params\">buffer</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunks</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">this</span>.<span class=\"code-params\">_pdfDataRangeTransport</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_isStreamingSupported</span>=!<span class=\"code-params\">e</span>.<span class=\"code-params\">disableStream</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_isRangeSupported</span>=!<span class=\"code-params\">e</span>.<span class=\"code-params\">disableRange</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_contentLength</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeReaders</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_pdfDataRangeTransport</span>.<span class=\"code-params\">addRangeListener</span>(<span class=\"code-params\">(e,t</span>)=&gt;</span>{<span class=\"code-keyword\">this</span>._onReceiveData({<span class=\"code-attr\">begin</span>:e,<span class=\"code-attr\">chunk</span>:t})}),<span class=\"code-keyword\">this</span>._pdfDataRangeTransport.addProgressListener(<span class=\"code-function\">(<span class=\"code-params\">e,t</span>)=&gt;</span>{<span class=\"code-keyword\">this</span>._onProgress({<span class=\"code-attr\">loaded</span>:e,<span class=\"code-attr\">total</span>:t})}),<span class=\"code-keyword\">this</span>._pdfDataRangeTransport.addProgressiveReadListener(<span class=\"code-function\"><span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">this</span>._onReceiveData({<span class=\"code-attr\">chunk</span>:e})}),<span class=\"code-keyword\">this</span>._pdfDataRangeTransport.addProgressiveDoneListener(<span class=\"code-function\"><span class=\"code-params\">()</span>=&gt;</span>{<span class=\"code-keyword\">this</span>._onProgressiveDone()}),<span class=\"code-keyword\">this</span>._pdfDataRangeTransport.transportReady()}_onReceiveData(e){<span class=\"code-keyword\">const</span> t=<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e.chunk).buffer;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.begin)<span class=\"code-keyword\">this</span>._fullRequestReader?<span class=\"code-keyword\">this</span>._fullRequestReader._enqueue(t):<span class=\"code-keyword\">this</span>._queuedChunks.push(t);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">const</span> r=<span class=\"code-keyword\">this</span>._rangeReaders.some(<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">function</span>(r</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>.<span class=\"code-params\">_begin</span>===<span class=\"code-params\">e</span>.<span class=\"code-params\">begin</span>&amp;&amp;(<span class=\"code-params\">r._enqueue(t</span>),!0)}));(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\">r,<span class=\"code-string\">\"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.\"</span></span>)}}<span class=\"code-params\">get</span> <span class=\"code-params\">_progressiveDataLength</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>.<span class=\"code-params\">_loaded</span>:0}<span class=\"code-params\">_onProgress</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===e.total</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeReaders</span>[0];<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">onProgress</span>&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">onProgress</span>(<span class=\"code-params\">{loaded:e.loaded}</span>)}<span class=\"code-params\">else</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>;<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">onProgress</span>&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">onProgress</span>(<span class=\"code-params\">{loaded:e.loaded,total:e.total}</span>)}}<span class=\"code-params\">_onProgressiveDone</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>.<span class=\"code-params\">progressiveDone</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_progressiveDone</span>=!0}<span class=\"code-params\">_removeRangeReader</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeReaders</span>.<span class=\"code-params\">indexOf</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">t</span>&gt;=0&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeReaders</span>.<span class=\"code-params\">splice</span>(<span class=\"code-params\">t,<span class=\"code-number\">1</span></span>)}<span class=\"code-params\">getFullReader</span><span class=\"code-params\">()</span>{(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\">!<span class=\"code-keyword\">this</span>._fullRequestReader,<span class=\"code-string\">\"PDFDataTransportStream.getFullReader can only be called once.\"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunks</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunks</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">new</span> <span class=\"code-params\">n</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,e,<span class=\"code-keyword\">this</span>._progressiveDone</span>)}<span class=\"code-params\">getRangeReader</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">t&lt;=<span class=\"code-keyword\">this</span>._progressiveDataLength</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">null</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">i</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,e,t</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_pdfDataRangeTransport</span>.<span class=\"code-params\">requestDataRange</span>(<span class=\"code-params\">e,t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeReaders</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">r</span>),<span class=\"code-params\">r</span>}<span class=\"code-params\">cancelAllRequests</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>.<span class=\"code-params\">cancel</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeReaders</span>.<span class=\"code-params\">slice</span>(<span class=\"code-params\"><span class=\"code-number\">0</span></span>).<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(t</span>){<span class=\"code-params\">t</span>.<span class=\"code-params\">cancel</span>(<span class=\"code-params\">e</span>)})),<span class=\"code-params\">this</span>.<span class=\"code-params\">_pdfDataRangeTransport</span>.<span class=\"code-params\">abort</span><span class=\"code-params\">()</span>}};<span class=\"code-params\">class</span> <span class=\"code-params\">n</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t,r=!<span class=\"code-number\">1</span></span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_stream</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_done</span>=<span class=\"code-params\">r</span>||!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">_filename</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunks</span>=<span class=\"code-params\">t</span>||[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_loaded</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">of</span> <span class=\"code-keyword\">this</span>._queuedChunks</span>)<span class=\"code-params\">this</span>.<span class=\"code-params\">_loaded</span>+=<span class=\"code-params\">e</span>.<span class=\"code-params\">byteLength</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_headersReady</span>=<span class=\"code-params\">Promise</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">_fullRequestReader</span>=<span class=\"code-params\">this</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">onProgress</span>=<span class=\"code-params\">null</span>}<span class=\"code-params\">_enqueue</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!<span class=\"code-keyword\">this</span>._done</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._requests.length&gt;<span class=\"code-number\">0</span></span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>.<span class=\"code-params\">shift</span><span class=\"code-params\">()</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">{value:e,done:!<span class=\"code-number\">1</span>}</span>)}<span class=\"code-params\">else</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunks</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_loaded</span>+=<span class=\"code-params\">e</span>.<span class=\"code-params\">byteLength</span>}}<span class=\"code-params\">get</span> <span class=\"code-params\">headersReady</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_headersReady</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">filename</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_filename</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">isRangeSupported</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_stream</span>.<span class=\"code-params\">_isRangeSupported</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">isStreamingSupported</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_stream</span>.<span class=\"code-params\">_isStreamingSupported</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">contentLength</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_stream</span>.<span class=\"code-params\">_contentLength</span>}<span class=\"code-params\">async</span> <span class=\"code-params\">read</span><span class=\"code-params\">()</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._queuedChunks.length&gt;<span class=\"code-number\">0</span></span>){<span class=\"code-params\">return</span>{<span class=\"code-params\">value</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunks</span>.<span class=\"code-params\">shift</span><span class=\"code-params\">()</span>,<span class=\"code-params\">done</span>:!1}}<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._done</span>)<span class=\"code-params\">return</span>{<span class=\"code-params\">value</span>:<span class=\"code-params\">void</span> 0,<span class=\"code-params\">done</span>:!0};<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">cancel</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_done</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">e</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">{value:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,done:!<span class=\"code-number\">0</span>}</span>)})),<span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>=[]}<span class=\"code-params\">progressiveDone</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">_done</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._done=!<span class=\"code-number\">0</span></span>)}}<span class=\"code-params\">class</span> <span class=\"code-params\">i</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_stream</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_begin</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_end</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunk</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_done</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">onProgress</span>=<span class=\"code-params\">null</span>}<span class=\"code-params\">_enqueue</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!<span class=\"code-keyword\">this</span>._done</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>===<span class=\"code-keyword\">this</span>._requests.length</span>)<span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunk</span>=<span class=\"code-params\">e</span>;<span class=\"code-params\">else</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>.<span class=\"code-params\">shift</span><span class=\"code-params\">()</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">{value:e,done:!<span class=\"code-number\">1</span>}</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">e</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">{value:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,done:!<span class=\"code-number\">0</span>}</span>)})),<span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>=[]}<span class=\"code-params\">this</span>.<span class=\"code-params\">_done</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">_stream</span>.<span class=\"code-params\">_removeRangeReader</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span></span>)}}<span class=\"code-params\">get</span> <span class=\"code-params\">isStreamingSupported</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span>!1}<span class=\"code-params\">async</span> <span class=\"code-params\">read</span><span class=\"code-params\">()</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._queuedChunk</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunk</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_queuedChunk</span>=<span class=\"code-params\">null</span>,{<span class=\"code-params\">value</span>:<span class=\"code-params\">e</span>,<span class=\"code-params\">done</span>:!1}}<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._done</span>)<span class=\"code-params\">return</span>{<span class=\"code-params\">value</span>:<span class=\"code-params\">void</span> 0,<span class=\"code-params\">done</span>:!0};<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">cancel</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_done</span>=!0,<span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">e</span>.<span class=\"code-params\">resolve</span>(<span class=\"code-params\">{value:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,done:!<span class=\"code-number\">0</span>}</span>)})),<span class=\"code-params\">this</span>.<span class=\"code-params\">_requests</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_stream</span>.<span class=\"code-params\">_removeRangeReader</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span></span>)}}},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">WebGLContext</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">WebGLContext</span>=<span class=\"code-params\">class</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">{enable:e=!<span class=\"code-number\">1</span>}</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_enabled</span>=!0===<span class=\"code-params\">e</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">isEnabled</span><span class=\"code-params\">()</span>{<span class=\"code-params\">let</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_enabled</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>&amp;&amp;(<span class=\"code-params\">e=n.tryInitGL(</span>)),(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.shadow</span>)(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,<span class=\"code-string\">\"isEnabled\"</span>,e</span>)}<span class=\"code-params\">composeSMask</span>(<span class=\"code-params\">{layer:e,mask:t,properties:r}</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">composeSMask</span>(<span class=\"code-params\">e,t,r</span>)}<span class=\"code-params\">drawFigures</span>(<span class=\"code-params\">{width:e,height:t,backgroundColor:r,figures:s,context:i}</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">drawFigures</span>(<span class=\"code-params\">e,t,r,s,i</span>)}<span class=\"code-params\">clear</span><span class=\"code-params\">()</span>{<span class=\"code-params\">n</span>.<span class=\"code-params\">cleanup</span><span class=\"code-params\">()</span>}};<span class=\"code-params\">var</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">function</span> <span class=\"code-params\">e</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">createShader</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">e.shaderSource(s,t</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">compileShader</span>(<span class=\"code-params\">s</span>),!<span class=\"code-params\">e</span>.<span class=\"code-params\">getShaderParameter</span>(<span class=\"code-params\">s,e.COMPILE_STATUS</span>)){<span class=\"code-params\">var</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">getShaderInfoLog</span>(<span class=\"code-params\">s</span>);<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Error during shader compilation: \"</span>+n</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">t</span>(<span class=\"code-params\">t,r</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>(<span class=\"code-params\">t,r,t.VERTEX_SHADER</span>)}<span class=\"code-params\">function</span> <span class=\"code-params\">r</span>(<span class=\"code-params\">t,r</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>(<span class=\"code-params\">t,r,t.FRAGMENT_SHADER</span>)}<span class=\"code-params\">function</span> <span class=\"code-params\">s</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> r=e.createProgram(</span>),<span class=\"code-params\">s</span>=0,<span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">s</span>&lt;<span class=\"code-params\">n</span>;++<span class=\"code-params\">s</span>)<span class=\"code-params\">e</span>.<span class=\"code-params\">attachShader</span>(<span class=\"code-params\">r,t[s]</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">e.linkProgram(r</span>),!<span class=\"code-params\">e</span>.<span class=\"code-params\">getProgramParameter</span>(<span class=\"code-params\">r,e.LINK_STATUS</span>)){<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">getProgramInfoLog</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Error during program linking: \"</span>+i</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">r</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">n</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">e</span>.<span class=\"code-params\">activeTexture</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">createTexture</span><span class=\"code-params\">()</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">bindTexture</span>(<span class=\"code-params\">e.TEXTURE_2D,s</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">texParameteri</span>(<span class=\"code-params\">e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">texParameteri</span>(<span class=\"code-params\">e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">texParameteri</span>(<span class=\"code-params\">e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">texParameteri</span>(<span class=\"code-params\">e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">texImage2D</span>(<span class=\"code-params\">e.TEXTURE_2D,<span class=\"code-number\">0</span>,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t</span>),<span class=\"code-params\">s</span>}<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>,<span class=\"code-params\">a</span>;<span class=\"code-params\">function</span> <span class=\"code-params\">o</span><span class=\"code-params\">()</span>{<span class=\"code-params\">i</span>||(<span class=\"code-params\">a=<span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"canvas\"</span></span>),<span class=\"code-params\">i</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">getContext</span>(<span class=\"code-params\"><span class=\"code-string\">\"webgl\"</span>,{premultipliedalpha:!<span class=\"code-number\">1</span>}</span>))}<span class=\"code-params\">var</span> <span class=\"code-params\">l</span>=<span class=\"code-params\">null</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">c</span>=<span class=\"code-params\">null</span>;<span class=\"code-params\">return</span>{<span class=\"code-params\">tryInitGL</span><span class=\"code-params\">()</span>{<span class=\"code-params\">try</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">o</span><span class=\"code-params\">()</span>,!!<span class=\"code-params\">i</span>}<span class=\"code-params\">catch</span>(<span class=\"code-params\">e</span>){}<span class=\"code-params\">return</span>!1},<span class=\"code-params\">composeSMask</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,c,h</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">d</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">u</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">height</span>;<span class=\"code-params\">l</span>||<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">e</span>,<span class=\"code-params\">n</span>;<span class=\"code-params\">o</span><span class=\"code-params\">()</span>,<span class=\"code-params\">e</span>=<span class=\"code-params\">a</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">i</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">null</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">c</span>=<span class=\"code-params\">s</span>(<span class=\"code-params\">n,[t(n,<span class=\"code-string\">\"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             \"</span></span>),<span class=\"code-params\">r</span>(<span class=\"code-params\">n,<span class=\"code-string\">\"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a &gt; 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             \"</span></span>)]);<span class=\"code-params\">n</span>.<span class=\"code-params\">useProgram</span>(<span class=\"code-params\">c</span>);<span class=\"code-params\">var</span> <span class=\"code-params\">h</span>={};<span class=\"code-params\">h</span>.<span class=\"code-params\">gl</span>=<span class=\"code-params\">n</span>,<span class=\"code-params\">h</span>.<span class=\"code-params\">canvas</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">h</span>.<span class=\"code-params\">resolutionLocation</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getUniformLocation</span>(<span class=\"code-params\">c,<span class=\"code-string\">\"u_resolution\"</span></span>),<span class=\"code-params\">h</span>.<span class=\"code-params\">positionLocation</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getAttribLocation</span>(<span class=\"code-params\">c,<span class=\"code-string\">\"a_position\"</span></span>),<span class=\"code-params\">h</span>.<span class=\"code-params\">backdropLocation</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getUniformLocation</span>(<span class=\"code-params\">c,<span class=\"code-string\">\"u_backdrop\"</span></span>),<span class=\"code-params\">h</span>.<span class=\"code-params\">subtypeLocation</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getUniformLocation</span>(<span class=\"code-params\">c,<span class=\"code-string\">\"u_subtype\"</span></span>);<span class=\"code-params\">var</span> <span class=\"code-params\">d</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getAttribLocation</span>(<span class=\"code-params\">c,<span class=\"code-string\">\"a_texCoord\"</span></span>),<span class=\"code-params\">u</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getUniformLocation</span>(<span class=\"code-params\">c,<span class=\"code-string\">\"u_image\"</span></span>),<span class=\"code-params\">p</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getUniformLocation</span>(<span class=\"code-params\">c,<span class=\"code-string\">\"u_mask\"</span></span>),<span class=\"code-params\">g</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">createBuffer</span><span class=\"code-params\">()</span>;<span class=\"code-params\">n</span>.<span class=\"code-params\">bindBuffer</span>(<span class=\"code-params\">n.ARRAY_BUFFER,g</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">bufferData</span>(<span class=\"code-params\">n.ARRAY_BUFFER,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">1</span>,<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">STATIC_DRAW</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">enableVertexAttribArray</span>(<span class=\"code-params\">d</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">vertexAttribPointer</span>(<span class=\"code-params\">d,<span class=\"code-number\">2</span>,n.FLOAT,!<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">uniform1i</span>(<span class=\"code-params\">u,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">uniform1i</span>(<span class=\"code-params\">p,<span class=\"code-number\">1</span></span>),<span class=\"code-params\">l</span>=<span class=\"code-params\">h</span>}<span class=\"code-params\">()</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">p</span>=<span class=\"code-params\">l</span>,<span class=\"code-params\">g</span>=<span class=\"code-params\">p</span>.<span class=\"code-params\">canvas</span>,<span class=\"code-params\">f</span>=<span class=\"code-params\">p</span>.<span class=\"code-params\">gl</span>;<span class=\"code-params\">g</span>.<span class=\"code-params\">width</span>=<span class=\"code-params\">d</span>,<span class=\"code-params\">g</span>.<span class=\"code-params\">height</span>=<span class=\"code-params\">u</span>,<span class=\"code-params\">f</span>.<span class=\"code-params\">viewport</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,f.drawingBufferWidth,f.drawingBufferHeight</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">uniform2f</span>(<span class=\"code-params\">p.resolutionLocation,d,u</span>),<span class=\"code-params\">h</span>.<span class=\"code-params\">backdrop</span>?<span class=\"code-params\">f</span>.<span class=\"code-params\">uniform4f</span>(<span class=\"code-params\">p.resolutionLocation,h.backdrop[<span class=\"code-number\">0</span>],h.backdrop[<span class=\"code-number\">1</span>],h.backdrop[<span class=\"code-number\">2</span>],<span class=\"code-number\">1</span></span>):<span class=\"code-params\">f</span>.<span class=\"code-params\">uniform4f</span>(<span class=\"code-params\">p.resolutionLocation,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">uniform1i</span>(<span class=\"code-params\">p.subtypeLocation,<span class=\"code-string\">\"Luminosity\"</span>===h.subtype?<span class=\"code-number\">1</span>:<span class=\"code-number\">0</span></span>);<span class=\"code-params\">var</span> <span class=\"code-params\">m</span>=<span class=\"code-params\">n</span>(<span class=\"code-params\">f,e,f.TEXTURE0</span>),<span class=\"code-params\">A</span>=<span class=\"code-params\">n</span>(<span class=\"code-params\">f,c,f.TEXTURE1</span>),<span class=\"code-params\">b</span>=<span class=\"code-params\">f</span>.<span class=\"code-params\">createBuffer</span><span class=\"code-params\">()</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">f</span>.<span class=\"code-params\">bindBuffer</span>(<span class=\"code-params\">f.ARRAY_BUFFER,b</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">bufferData</span>(<span class=\"code-params\">f.ARRAY_BUFFER,<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Float32Array</span>([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,d,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,u,<span class=\"code-number\">0</span>,u,d,<span class=\"code-number\">0</span>,d,u]</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">STATIC_DRAW</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">enableVertexAttribArray</span>(<span class=\"code-params\">p.positionLocation</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">vertexAttribPointer</span>(<span class=\"code-params\">p.positionLocation,<span class=\"code-number\">2</span>,f.FLOAT,!<span class=\"code-number\">1</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">clearColor</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span></span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">enable</span>(<span class=\"code-params\">f.BLEND</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">blendFunc</span>(<span class=\"code-params\">f.ONE,f.ONE_MINUS_SRC_ALPHA</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">clear</span>(<span class=\"code-params\">f.COLOR_BUFFER_BIT</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">drawArrays</span>(<span class=\"code-params\">f.TRIANGLES,<span class=\"code-number\">0</span>,<span class=\"code-number\">6</span></span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">flush</span><span class=\"code-params\">()</span>,<span class=\"code-params\">f</span>.<span class=\"code-params\">deleteTexture</span>(<span class=\"code-params\">m</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">deleteTexture</span>(<span class=\"code-params\">A</span>),<span class=\"code-params\">f</span>.<span class=\"code-params\">deleteBuffer</span>(<span class=\"code-params\">b</span>),<span class=\"code-params\">g</span>},<span class=\"code-params\">drawFigures</span>:<span class=\"code-params\">function</span>(<span class=\"code-params\">e,n,l,h,d</span>){<span class=\"code-params\">c</span>||<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">e</span>,<span class=\"code-params\">n</span>;<span class=\"code-params\">o</span><span class=\"code-params\">()</span>,<span class=\"code-params\">e</span>=<span class=\"code-params\">a</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">i</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">null</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">l</span>=<span class=\"code-params\">s</span>(<span class=\"code-params\">n,[t(n,<span class=\"code-string\">\"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             \"</span></span>),<span class=\"code-params\">r</span>(<span class=\"code-params\">n,<span class=\"code-string\">\"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             \"</span></span>)]);<span class=\"code-params\">n</span>.<span class=\"code-params\">useProgram</span>(<span class=\"code-params\">l</span>);<span class=\"code-params\">var</span> <span class=\"code-params\">h</span>={};<span class=\"code-params\">h</span>.<span class=\"code-params\">gl</span>=<span class=\"code-params\">n</span>,<span class=\"code-params\">h</span>.<span class=\"code-params\">canvas</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">h</span>.<span class=\"code-params\">resolutionLocation</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getUniformLocation</span>(<span class=\"code-params\">l,<span class=\"code-string\">\"u_resolution\"</span></span>),<span class=\"code-params\">h</span>.<span class=\"code-params\">scaleLocation</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getUniformLocation</span>(<span class=\"code-params\">l,<span class=\"code-string\">\"u_scale\"</span></span>),<span class=\"code-params\">h</span>.<span class=\"code-params\">offsetLocation</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getUniformLocation</span>(<span class=\"code-params\">l,<span class=\"code-string\">\"u_offset\"</span></span>),<span class=\"code-params\">h</span>.<span class=\"code-params\">positionLocation</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getAttribLocation</span>(<span class=\"code-params\">l,<span class=\"code-string\">\"a_position\"</span></span>),<span class=\"code-params\">h</span>.<span class=\"code-params\">colorLocation</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">getAttribLocation</span>(<span class=\"code-params\">l,<span class=\"code-string\">\"a_color\"</span></span>),<span class=\"code-params\">c</span>=<span class=\"code-params\">h</span>}<span class=\"code-params\">()</span>;<span class=\"code-params\">var</span> <span class=\"code-params\">u</span>=<span class=\"code-params\">c</span>,<span class=\"code-params\">p</span>=<span class=\"code-params\">u</span>.<span class=\"code-params\">canvas</span>,<span class=\"code-params\">g</span>=<span class=\"code-params\">u</span>.<span class=\"code-params\">gl</span>;<span class=\"code-params\">p</span>.<span class=\"code-params\">width</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">p</span>.<span class=\"code-params\">height</span>=<span class=\"code-params\">n</span>,<span class=\"code-params\">g</span>.<span class=\"code-params\">viewport</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,g.drawingBufferWidth,g.drawingBufferHeight</span>),<span class=\"code-params\">g</span>.<span class=\"code-params\">uniform2f</span>(<span class=\"code-params\">u.resolutionLocation,e,n</span>);<span class=\"code-params\">var</span> <span class=\"code-params\">f</span>,<span class=\"code-params\">m</span>,<span class=\"code-params\">A</span>,<span class=\"code-params\">b</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\">f=<span class=\"code-number\">0</span>,m=h.length;f&lt;m;f++</span>)<span class=\"code-params\">switch</span>(<span class=\"code-params\">h[f].type</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">lattice</span>\":<span class=\"code-params\">b</span>+=(<span class=\"code-params\">(A=h[f].coords.length<span class=\"code-regexp\">/h[f].verticesPerRow|0)-1)*(h[f].verticesPerRow-1)*6;break;case\"triangles\":b+=h[f].coords.length}var _=new Float32Array(2*b),y=new Uint8Array(3*b),v=d.coords,S=d.colors,x=0,C=0;for(f=0,m=h.length;f&lt;m;f++){var P=h[f],k=P.coords,R=P.colors;switch(P.type){case\"lattice\":var w=P.verticesPerRow;A=k.length/</span>w|<span class=\"code-number\">0</span>;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">var</span> T=<span class=\"code-number\">1</span>;T&lt;A;T++</span>)<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> E=T*w+<span class=\"code-number\">1</span>,F=<span class=\"code-number\">1</span>;F&lt;w;F++,E++</span>)<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>]=<span class=\"code-params\">v</span>[<span class=\"code-params\">k</span>[<span class=\"code-params\">E</span>-<span class=\"code-params\">w</span>-1]],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+1]=<span class=\"code-params\">v</span>[<span class=\"code-params\">k</span>[<span class=\"code-params\">E</span>-<span class=\"code-params\">w</span>-1]+1],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+2]=<span class=\"code-params\">v</span>[<span class=\"code-params\">k</span>[<span class=\"code-params\">E</span>-<span class=\"code-params\">w</span>]],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+3]=<span class=\"code-params\">v</span>[<span class=\"code-params\">k</span>[<span class=\"code-params\">E</span>-<span class=\"code-params\">w</span>]+1],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+4]=<span class=\"code-params\">v</span>[<span class=\"code-params\">k</span>[<span class=\"code-params\">E</span>-1]],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+5]=<span class=\"code-params\">v</span>[<span class=\"code-params\">k</span>[<span class=\"code-params\">E</span>-1]+1],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>-<span class=\"code-params\">w</span>-1]],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+1]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>-<span class=\"code-params\">w</span>-1]+1],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+2]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>-<span class=\"code-params\">w</span>-1]+2],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+3]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>-<span class=\"code-params\">w</span>]],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+4]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>-<span class=\"code-params\">w</span>]+1],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+5]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>-<span class=\"code-params\">w</span>]+2],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+6]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>-1]],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+7]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>-1]+1],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+8]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>-1]+2],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+6]=<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+2],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+7]=<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+3],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+8]=<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+4],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+9]=<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+5],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+10]=<span class=\"code-params\">v</span>[<span class=\"code-params\">k</span>[<span class=\"code-params\">E</span>]],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+11]=<span class=\"code-params\">v</span>[<span class=\"code-params\">k</span>[<span class=\"code-params\">E</span>]+1],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+9]=<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+3],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+10]=<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+4],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+11]=<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+5],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+12]=<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+6],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+13]=<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+7],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+14]=<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+8],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+15]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>]],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+16]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>]+1],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+17]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">E</span>]+2],<span class=\"code-params\">x</span>+=12,<span class=\"code-params\">C</span>+=18;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">triangles</span>\":<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> L=<span class=\"code-number\">0</span>,I=k.length;L&lt;I;L++</span>)<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>]=<span class=\"code-params\">v</span>[<span class=\"code-params\">k</span>[<span class=\"code-params\">L</span>]],<span class=\"code-params\">_</span>[<span class=\"code-params\">x</span>+1]=<span class=\"code-params\">v</span>[<span class=\"code-params\">k</span>[<span class=\"code-params\">L</span>]+1],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">L</span>]],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+1]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">L</span>]+1],<span class=\"code-params\">y</span>[<span class=\"code-params\">C</span>+2]=<span class=\"code-params\">S</span>[<span class=\"code-params\">R</span>[<span class=\"code-params\">L</span>]+2],<span class=\"code-params\">x</span>+=2,<span class=\"code-params\">C</span>+=3}}<span class=\"code-params\">l</span>?<span class=\"code-params\">g</span>.<span class=\"code-params\">clearColor</span>(<span class=\"code-params\">l[<span class=\"code-number\">0</span>]<span class=\"code-regexp\">/255,l[1]/</span><span class=\"code-number\">255</span>,l[<span class=\"code-number\">2</span>]<span class=\"code-regexp\">/255,1):g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT);var M=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,M),g.bufferData(g.ARRAY_BUFFER,_,g.STATIC_DRAW),g.enableVertexAttribArray(u.positionLocation),g.vertexAttribPointer(u.positionLocation,2,g.FLOAT,!1,0,0);var O=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,O),g.bufferData(g.ARRAY_BUFFER,y,g.STATIC_DRAW),g.enableVertexAttribArray(u.colorLocation),g.vertexAttribPointer(u.colorLocation,3,g.UNSIGNED_BYTE,!1,0,0),g.uniform2f(u.scaleLocation,d.scaleX,d.scaleY),g.uniform2f(u.offsetLocation,d.offsetX,d.offsetY),g.drawArrays(g.TRIANGLES,0,b),g.flush(),g.deleteBuffer(M),g.deleteBuffer(O),p},cleanup(){l&amp;&amp;l.canvas&amp;&amp;(l.canvas.width=0,l.canvas.height=0),c&amp;&amp;c.canvas&amp;&amp;(c.canvas.width=0,c.canvas.height=0),l=null,c=null}}}()},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.AnnotationLayer=void 0;var s=r(1),n=r(2);class i{static create(e){switch(e.data.annotationType){case n.AnnotationType.LINK:return new o(e);case n.AnnotationType.TEXT:return new l(e);case n.AnnotationType.WIDGET:switch(e.data.fieldType){case\"Tx\":return new h(e);case\"Btn\":return e.data.radioButton?new u(e):e.data.checkBox?new d(e):new p(e);case\"Ch\":return new g(e)}return new c(e);case n.AnnotationType.POPUP:return new f(e);case n.AnnotationType.FREETEXT:return new A(e);case n.AnnotationType.LINE:return new b(e);case n.AnnotationType.SQUARE:return new _(e);case n.AnnotationType.CIRCLE:return new y(e);case n.AnnotationType.POLYLINE:return new v(e);case n.AnnotationType.CARET:return new x(e);case n.AnnotationType.INK:return new C(e);case n.AnnotationType.POLYGON:return new S(e);case n.AnnotationType.HIGHLIGHT:return new P(e);case n.AnnotationType.UNDERLINE:return new k(e);case n.AnnotationType.SQUIGGLY:return new R(e);case n.AnnotationType.STRIKEOUT:return new w(e);case n.AnnotationType.STAMP:return new T(e);case n.AnnotationType.FILEATTACHMENT:return new E(e);default:return new a(e)}}}class a{constructor(e,t=!1,r=!1){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,t&amp;&amp;(this.container=this._createContainer(r))}_createContainer(e=!1){const t=this.data,r=this.page,s=this.viewport,i=document.createElement(\"section\");let a=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1];i.setAttribute(\"data-annotation-id\",t.id);const l=n.Util.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]);if(i.style.transform=`matrix(${s.transform.join(\",\")})`,i.style.transformOrigin=`-${l[0]}px -${l[1]}px`,!e&amp;&amp;t.borderStyle.width&gt;0){i.style.borderWidth=t.borderStyle.width+\"px\",t.borderStyle.style!==n.AnnotationBorderStyleType.UNDERLINE&amp;&amp;(a-=2*t.borderStyle.width,o-=2*t.borderStyle.width);const e=t.borderStyle.horizontalCornerRadius,r=t.borderStyle.verticalCornerRadius;if(e&gt;0||r&gt;0){const t=`${e}px /</span> ${r}px<span class=\"code-string\">`;i.style.borderRadius=t}switch(t.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:i.style.borderStyle=\"solid\";break;case n.AnnotationBorderStyleType.DASHED:i.style.borderStyle=\"dashed\";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)(\"Unimplemented border style: beveled\");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)(\"Unimplemented border style: inset\");break;case n.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle=\"solid\"}t.color?i.style.borderColor=n.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):i.style.borderWidth=0}return i.style.left=l[0]+\"px\",i.style.top=l[1]+\"px\",i.style.width=a+\"px\",i.style.height=o+\"px\",i}_createPopup(e,t,r){t||((t=document.createElement(\"div\")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));const s=new m({container:e,trigger:t,color:r.color,title:r.title,modificationDate:r.modificationDate,contents:r.contents,hideWrapper:!0}).render();s.style.left=e.style.width,e.appendChild(s)}render(){(0,n.unreachable)(\"Abstract method `</span>AnnotationElement.render<span class=\"code-string\">` called\")}}class o extends a{constructor(e){super(e,!!(e.data.url||e.data.dest||e.data.action))}render(){this.container.className=\"linkAnnotation\";const{data:e,linkService:t}=this,r=document.createElement(\"a\");return e.url?(0,s.addLinkAttributes)(r,{url:e.url,target:e.newWindow?s.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(r,e.action):this._bindLink(r,e.dest),this.container.appendChild(r),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=&gt;(t&amp;&amp;this.linkService.navigateTo(t),!1),t&amp;&amp;(e.className=\"internalLink\")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(\"\"),e.onclick=()=&gt;(this.linkService.executeNamedAction(t),!1),e.className=\"internalLink\"}}class l extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents))}render(){this.container.className=\"textAnnotation\";const e=document.createElement(\"img\");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+\"annotation-\"+this.data.name.toLowerCase()+\".svg\",e.alt=\"[{{type}} Annotation]\",e.dataset.l10nId=\"text_annotation_type\",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}class c extends a{render(){return this.container}}class h extends c{constructor(e){super(e,e.renderInteractiveForms||!e.data.hasAppearance&amp;&amp;!!e.data.fieldValue)}render(){const e=[\"left\",\"center\",\"right\"];this.container.className=\"textWidgetAnnotation\";let t=null;if(this.renderInteractiveForms){if(this.data.multiLine?(t=document.createElement(\"textarea\"),t.textContent=this.data.fieldValue):(t=document.createElement(\"input\"),t.type=\"text\",t.setAttribute(\"value\",this.data.fieldValue)),t.disabled=this.data.readOnly,t.name=this.data.fieldName,null!==this.data.maxLen&amp;&amp;(t.maxLength=this.data.maxLen),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;t.classList.add(\"comb\"),t.style.letterSpacing=`</span>calc(${e}px - <span class=\"code-number\">1</span>ch</span>)`}}<span class=\"code-params\">else</span>{<span class=\"code-params\">t</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"div\"</span></span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">textContent</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">fieldValue</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">verticalAlign</span>=\"<span class=\"code-params\">middle</span>\",<span class=\"code-params\">t</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">display</span>=\"<span class=\"code-params\">table</span>-<span class=\"code-params\">cell</span>\";<span class=\"code-params\">let</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">null</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">fontRefName</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">page</span>.<span class=\"code-params\">commonObjs</span>.<span class=\"code-params\">has</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.data.fontRefName</span>)&amp;&amp;(<span class=\"code-params\">e=<span class=\"code-keyword\">this</span>.page.commonObjs.get(<span class=\"code-keyword\">this</span>.data.fontRefName</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">_setTextStyle</span>(<span class=\"code-params\">t,e</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">null</span>!==<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">textAlignment</span>&amp;&amp;(<span class=\"code-params\">t.style.textAlign=e[<span class=\"code-keyword\">this</span>.data.textAlignment]</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}<span class=\"code-params\">_setTextStyle</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">style</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">r.fontSize=<span class=\"code-keyword\">this</span>.data.fontSize+<span class=\"code-string\">\"px\"</span>,r.direction=<span class=\"code-keyword\">this</span>.data.fontDirection&lt;<span class=\"code-number\">0</span>?<span class=\"code-string\">\"rtl\"</span>:<span class=\"code-string\">\"ltr\"</span>,!t</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">s</span>=\"<span class=\"code-params\">normal</span>\";<span class=\"code-params\">t</span>.<span class=\"code-params\">black</span>?<span class=\"code-params\">s</span>=\"900\":<span class=\"code-params\">t</span>.<span class=\"code-params\">bold</span>&amp;&amp;(<span class=\"code-params\">s=<span class=\"code-string\">\"bold\"</span></span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">fontWeight</span>=<span class=\"code-params\">s</span>,<span class=\"code-params\">r</span>.<span class=\"code-params\">fontStyle</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">italic</span>?\"<span class=\"code-params\">italic</span>\":\"<span class=\"code-params\">normal</span>\";<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">loadedName</span>?`\"<span class=\"code-params\">$</span>{<span class=\"code-params\">t</span>.<span class=\"code-params\">loadedName</span>}\", `:\"\",<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">fallbackName</span>||\"<span class=\"code-params\">Helvetica</span>, <span class=\"code-params\">sans</span>-<span class=\"code-params\">serif</span>\";<span class=\"code-params\">r</span>.<span class=\"code-params\">fontFamily</span>=<span class=\"code-params\">n</span>+<span class=\"code-params\">i</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">d</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">c</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,e.renderInteractiveForms</span>)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">buttonWidgetAnnotation</span> <span class=\"code-params\">checkBox</span>\";<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"input\"</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">disabled</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">readOnly</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">type</span>=\"<span class=\"code-params\">checkbox</span>\",<span class=\"code-params\">e</span>.<span class=\"code-params\">name</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">fieldName</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">fieldValue</span>&amp;&amp;\"<span class=\"code-params\">Off</span>\"!==<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">fieldValue</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"checked\"</span>,!<span class=\"code-number\">0</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">u</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">c</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,e.renderInteractiveForms</span>)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">buttonWidgetAnnotation</span> <span class=\"code-params\">radioButton</span>\";<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"input\"</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">disabled</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">readOnly</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">type</span>=\"<span class=\"code-params\">radio</span>\",<span class=\"code-params\">e</span>.<span class=\"code-params\">name</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">fieldName</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">fieldValue</span>===<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">buttonValue</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"checked\"</span>,!<span class=\"code-number\">0</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">p</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">o</span>{<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">super</span>.<span class=\"code-params\">render</span><span class=\"code-params\">()</span>;<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">buttonWidgetAnnotation</span> <span class=\"code-params\">pushButton</span>\",<span class=\"code-params\">e</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">g</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">c</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,e.renderInteractiveForms</span>)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">choiceWidgetAnnotation</span>\";<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"select\"</span></span>);<span class=\"code-params\">e</span>.<span class=\"code-params\">disabled</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">readOnly</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">name</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">fieldName</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">combo</span>||(<span class=\"code-params\">e.size=<span class=\"code-keyword\">this</span>.data.options.length,<span class=\"code-keyword\">this</span>.data.multiSelect&amp;&amp;(e.multiple=!<span class=\"code-number\">0</span></span>));<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> t <span class=\"code-keyword\">of</span> <span class=\"code-keyword\">this</span>.data.options</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"option\"</span></span>);<span class=\"code-params\">r</span>.<span class=\"code-params\">textContent</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">displayValue</span>,<span class=\"code-params\">r</span>.<span class=\"code-params\">value</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">exportValue</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">fieldValue</span>.<span class=\"code-params\">includes</span>(<span class=\"code-params\">t.displayValue</span>)&amp;&amp;<span class=\"code-params\">r</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"selected\"</span>,!<span class=\"code-number\">0</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">r</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">f</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!(!e.data.title&amp;&amp;!e.data.contents</span>))}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container.className=<span class=\"code-string\">\"popupAnnotation\"</span>,[<span class=\"code-string\">\"Line\"</span>,<span class=\"code-string\">\"Square\"</span>,<span class=\"code-string\">\"Circle\"</span>,<span class=\"code-string\">\"PolyLine\"</span>,<span class=\"code-string\">\"Polygon\"</span>,<span class=\"code-string\">\"Ink\"</span>].includes(<span class=\"code-keyword\">this</span>.data.parentType</span>))<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=`[<span class=\"code-params\">data</span>-<span class=\"code-params\">annotation</span>-<span class=\"code-params\">id</span>=\"<span class=\"code-params\">$</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">parentId</span>}\"]`,<span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">layer</span>.<span class=\"code-params\">querySelector</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">!t</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">m</span>(<span class=\"code-params\">{container:<span class=\"code-keyword\">this</span>.container,trigger:t,color:<span class=\"code-keyword\">this</span>.data.color,title:<span class=\"code-keyword\">this</span>.data.title,modificationDate:<span class=\"code-keyword\">this</span>.data.modificationDate,contents:<span class=\"code-keyword\">this</span>.data.contents}</span>),<span class=\"code-params\">s</span>=<span class=\"code-params\">parseFloat</span>(<span class=\"code-params\">t.style.left</span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">parseFloat</span>(<span class=\"code-params\">t.style.width</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">transformOrigin</span>=`-<span class=\"code-params\">$</span>{<span class=\"code-params\">s</span>+<span class=\"code-params\">n</span>}<span class=\"code-params\">px</span> -<span class=\"code-params\">$</span>{<span class=\"code-params\">t</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">top</span>}`,<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">left</span>=<span class=\"code-params\">s</span>+<span class=\"code-params\">n</span>+\"<span class=\"code-params\">px</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">r.render(</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">m</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">container</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">trigger</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">trigger</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">color</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">color</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">title</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">title</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">modificationDate</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">modificationDate</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">contents</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">contents</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">hideWrapper</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">hideWrapper</span>||!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">pinned</span>=!1}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"div\"</span></span>);<span class=\"code-params\">e</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">popupWrapper</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">hideElement</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">hideWrapper</span>?<span class=\"code-params\">e</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">hideElement</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"hidden\"</span>,!<span class=\"code-number\">0</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"div\"</span></span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">popup</span>\";<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">color</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">r</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=.7*(<span class=\"code-params\"><span class=\"code-number\">255</span>-r[<span class=\"code-number\">0</span>]</span>)+<span class=\"code-params\">r</span>[0],<span class=\"code-params\">s</span>=.7*(<span class=\"code-params\"><span class=\"code-number\">255</span>-r[<span class=\"code-number\">1</span>]</span>)+<span class=\"code-params\">r</span>[1],<span class=\"code-params\">i</span>=.7*(<span class=\"code-params\"><span class=\"code-number\">255</span>-r[<span class=\"code-number\">2</span>]</span>)+<span class=\"code-params\">r</span>[2];<span class=\"code-params\">t</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">backgroundColor</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">makeCssRgb</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>|e,<span class=\"code-number\">0</span>|s,<span class=\"code-number\">0</span>|i</span>)}<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"h1\"</span></span>);<span class=\"code-params\">i</span>.<span class=\"code-params\">textContent</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">title</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">i</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">PDFDateString</span>.<span class=\"code-params\">toDateObject</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.modificationDate</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">a</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"span\"</span></span>);<span class=\"code-params\">e</span>.<span class=\"code-params\">textContent</span>=\"{{<span class=\"code-params\">date</span>}}, {{<span class=\"code-params\">time</span>}}\",<span class=\"code-params\">e</span>.<span class=\"code-params\">dataset</span>.<span class=\"code-params\">l10nId</span>=\"<span class=\"code-params\">annotation_date_string</span>\",<span class=\"code-params\">e</span>.<span class=\"code-params\">dataset</span>.<span class=\"code-params\">l10nArgs</span>=<span class=\"code-params\">JSON</span>.<span class=\"code-params\">stringify</span>(<span class=\"code-params\">{date:a.toLocaleDateString(</span>),<span class=\"code-params\">time</span>:<span class=\"code-params\">a</span>.<span class=\"code-params\">toLocaleTimeString</span><span class=\"code-params\">()</span>}),<span class=\"code-params\">t</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">const</span> <span class=\"code-params\">o</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_formatContents</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.contents</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">t</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">o</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">trigger</span>.<span class=\"code-params\">addEventListener</span>(<span class=\"code-params\"><span class=\"code-string\">\"click\"</span>,<span class=\"code-keyword\">this</span>._toggle.bind(<span class=\"code-keyword\">this</span></span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">trigger</span>.<span class=\"code-params\">addEventListener</span>(<span class=\"code-params\"><span class=\"code-string\">\"mouseover\"</span>,<span class=\"code-keyword\">this</span>._show.bind(<span class=\"code-keyword\">this</span>,!<span class=\"code-number\">1</span></span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">trigger</span>.<span class=\"code-params\">addEventListener</span>(<span class=\"code-params\"><span class=\"code-string\">\"mouseout\"</span>,<span class=\"code-keyword\">this</span>._hide.bind(<span class=\"code-keyword\">this</span>,!<span class=\"code-number\">1</span></span>)),<span class=\"code-params\">t</span>.<span class=\"code-params\">addEventListener</span>(<span class=\"code-params\"><span class=\"code-string\">\"click\"</span>,<span class=\"code-keyword\">this</span>._hide.bind(<span class=\"code-keyword\">this</span>,!<span class=\"code-number\">0</span></span>)),<span class=\"code-params\">e</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">t</span>),<span class=\"code-params\">e</span>}<span class=\"code-params\">_formatContents</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"p\"</span></span>),<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">split</span>(<span class=\"code-params\"><span class=\"code-regexp\">/(?:\\r\\n?|\\n)/</span></span>);<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>,s=r.length;e&lt;s;++e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">r</span>[<span class=\"code-params\">e</span>];<span class=\"code-params\">t</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\"><span class=\"code-built_in\">document</span>.createTextNode(n</span>)),<span class=\"code-params\">e</span>&lt;<span class=\"code-params\">s</span>-1&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\"><span class=\"code-built_in\">document</span>.createElement(<span class=\"code-string\">\"br\"</span></span>))}<span class=\"code-params\">return</span> <span class=\"code-params\">t</span>}<span class=\"code-params\">_toggle</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">pinned</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">_hide</span>(<span class=\"code-params\">!<span class=\"code-number\">0</span></span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">_show</span>(<span class=\"code-params\">!<span class=\"code-number\">0</span></span>)}<span class=\"code-params\">_show</span>(<span class=\"code-params\">e=!<span class=\"code-number\">1</span></span>){<span class=\"code-params\">e</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.pinned=!<span class=\"code-number\">0</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">hideElement</span>.<span class=\"code-params\">hasAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"hidden\"</span></span>)&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.hideElement.removeAttribute(<span class=\"code-string\">\"hidden\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">zIndex</span>+=1)}<span class=\"code-params\">_hide</span>(<span class=\"code-params\">e=!<span class=\"code-number\">0</span></span>){<span class=\"code-params\">e</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.pinned=!<span class=\"code-number\">1</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">hideElement</span>.<span class=\"code-params\">hasAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"hidden\"</span></span>)||<span class=\"code-params\">this</span>.<span class=\"code-params\">pinned</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.hideElement.setAttribute(<span class=\"code-string\">\"hidden\"</span>,!<span class=\"code-number\">0</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">zIndex</span>-=1)}}<span class=\"code-params\">class</span> <span class=\"code-params\">A</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">freeTextAnnotation</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">hasPopup</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.data</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">b</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">lineAnnotation</span>\";<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>,<span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[2]-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[0],<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[3]-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[1],<span class=\"code-params\">s</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\">t,r</span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:line\"</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"x1\"</span>,e.rect[<span class=\"code-number\">2</span>]-e.lineCoordinates[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"y1\"</span>,e.rect[<span class=\"code-number\">3</span>]-e.lineCoordinates[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"x2\"</span>,e.rect[<span class=\"code-number\">2</span>]-e.lineCoordinates[<span class=\"code-number\">2</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"y2\"</span>,e.rect[<span class=\"code-number\">3</span>]-e.lineCoordinates[<span class=\"code-number\">3</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"stroke-width\"</span>,e.borderStyle.width||<span class=\"code-number\">1</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"stroke\"</span>,<span class=\"code-string\">\"transparent\"</span></span>),<span class=\"code-params\">s</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">n</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">append</span>(<span class=\"code-params\">s</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,n,e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">_</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">squareAnnotation</span>\";<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>,<span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[2]-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[0],<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[3]-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[1],<span class=\"code-params\">s</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\">t,r</span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">borderStyle</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:rect\"</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"x\"</span>,n<span class=\"code-regexp\">/2),i.setAttribute(\"y\",n/</span><span class=\"code-number\">2</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"width\"</span>,t-n</span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"height\"</span>,r-n</span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"stroke-width\"</span>,n||<span class=\"code-number\">1</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"stroke\"</span>,<span class=\"code-string\">\"transparent\"</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"fill\"</span>,<span class=\"code-string\">\"none\"</span></span>),<span class=\"code-params\">s</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">i</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">append</span>(<span class=\"code-params\">s</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,i,e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">y</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">circleAnnotation</span>\";<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>,<span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[2]-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[0],<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[3]-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[1],<span class=\"code-params\">s</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\">t,r</span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">borderStyle</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:ellipse\"</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"cx\"</span>,t<span class=\"code-regexp\">/2),i.setAttribute(\"cy\",r/</span><span class=\"code-number\">2</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"rx\"</span>,t<span class=\"code-regexp\">/2-n/</span><span class=\"code-number\">2</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"ry\"</span>,r<span class=\"code-regexp\">/2-n/</span><span class=\"code-number\">2</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"stroke-width\"</span>,n||<span class=\"code-number\">1</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"stroke\"</span>,<span class=\"code-string\">\"transparent\"</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"fill\"</span>,<span class=\"code-string\">\"none\"</span></span>),<span class=\"code-params\">s</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">i</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">append</span>(<span class=\"code-params\">s</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,i,e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">v</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0),<span class=\"code-params\">this</span>.<span class=\"code-params\">containerClassName</span>=\"<span class=\"code-params\">polylineAnnotation</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">svgElementName</span>=\"<span class=\"code-params\">svg</span>:<span class=\"code-params\">polyline</span>\"}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">containerClassName</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>,<span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[2]-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[0],<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[3]-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[1],<span class=\"code-params\">s</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\">t,r</span>);<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>=[];<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> t <span class=\"code-keyword\">of</span> e.vertices</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">x</span>-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[0],<span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[3]-<span class=\"code-params\">t</span>.<span class=\"code-params\">y</span>;<span class=\"code-params\">n</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">r+<span class=\"code-string\">\",\"</span>+s</span>)}<span class=\"code-params\">n</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\" \"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.svgElementName</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"points\"</span>,n</span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"stroke-width\"</span>,e.borderStyle.width||<span class=\"code-number\">1</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"stroke\"</span>,<span class=\"code-string\">\"transparent\"</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"fill\"</span>,<span class=\"code-string\">\"none\"</span></span>),<span class=\"code-params\">s</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">i</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">append</span>(<span class=\"code-params\">s</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,i,e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">S</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">v</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">containerClassName</span>=\"<span class=\"code-params\">polygonAnnotation</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">svgElementName</span>=\"<span class=\"code-params\">svg</span>:<span class=\"code-params\">polygon</span>\"}}<span class=\"code-params\">class</span> <span class=\"code-params\">x</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">caretAnnotation</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">hasPopup</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.data</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">C</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0),<span class=\"code-params\">this</span>.<span class=\"code-params\">containerClassName</span>=\"<span class=\"code-params\">inkAnnotation</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">svgElementName</span>=\"<span class=\"code-params\">svg</span>:<span class=\"code-params\">polyline</span>\"}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">containerClassName</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>,<span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[2]-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[0],<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[3]-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[1],<span class=\"code-params\">s</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\">t,r</span>);<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> t <span class=\"code-keyword\">of</span> e.inkLists</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">r</span>=[];<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> s <span class=\"code-keyword\">of</span> t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">x</span>-<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[0],<span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">rect</span>[3]-<span class=\"code-params\">s</span>.<span class=\"code-params\">y</span>;<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-string\">`<span class=\"code-subst\">${t}</span>,<span class=\"code-subst\">${n}</span>`</span></span>)}<span class=\"code-params\">r</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\" \"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.svgElementName</span>);<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"points\"</span>,r</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"stroke-width\"</span>,e.borderStyle.width||<span class=\"code-number\">1</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"stroke\"</span>,<span class=\"code-string\">\"transparent\"</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"fill\"</span>,<span class=\"code-string\">\"none\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,n,e</span>),<span class=\"code-params\">s</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">n</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">append</span>(<span class=\"code-params\">s</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">P</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">highlightAnnotation</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">hasPopup</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.data</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">k</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">underlineAnnotation</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">hasPopup</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.data</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">R</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">squigglyAnnotation</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">hasPopup</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.data</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">w</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">strikeoutAnnotation</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">hasPopup</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.data</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">T</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">stampAnnotation</span>\",<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">hasPopup</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.data</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">E</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">a</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e,!<span class=\"code-number\">0</span></span>);<span class=\"code-params\">const</span>{<span class=\"code-params\">filename</span>:<span class=\"code-params\">t</span>,<span class=\"code-params\">content</span>:<span class=\"code-params\">r</span>}=<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">file</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">filename</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.getFilenameFromUrl</span>)(<span class=\"code-params\">t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">content</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">linkService</span>.<span class=\"code-params\">eventBus</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">linkService</span>.<span class=\"code-params\">eventBus</span>.<span class=\"code-params\">dispatch</span>(<span class=\"code-params\"><span class=\"code-string\">\"fileattachmentannotation\"</span>,{source:<span class=\"code-keyword\">this</span>,id:(<span class=\"code-number\">0</span>,n.stringToPDFString</span>)(<span class=\"code-params\">t</span>),<span class=\"code-params\">filename</span>:<span class=\"code-params\">t</span>,<span class=\"code-params\">content</span>:<span class=\"code-params\">r</span>})}<span class=\"code-params\">render</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">className</span>=\"<span class=\"code-params\">fileAttachmentAnnotation</span>\";<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"div\"</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">height</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">height</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">width</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">addEventListener</span>(<span class=\"code-params\"><span class=\"code-string\">\"dblclick\"</span>,<span class=\"code-keyword\">this</span>._download.bind(<span class=\"code-keyword\">this</span></span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">hasPopup</span>||!<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">title</span>&amp;&amp;!<span class=\"code-params\">this</span>.<span class=\"code-params\">data</span>.<span class=\"code-params\">contents</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_createPopup</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.container,e,<span class=\"code-keyword\">this</span>.data</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">container</span>}<span class=\"code-params\">_download</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">downloadManager</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">downloadManager</span>.<span class=\"code-params\">downloadData</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.content,<span class=\"code-keyword\">this</span>.filename,<span class=\"code-string\">\"\"</span></span>):(<span class=\"code-params\"><span class=\"code-number\">0</span>,n.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Download cannot be started due to unavailable download manager\"</span></span>)}}<span class=\"code-params\">t</span>.<span class=\"code-params\">AnnotationLayer</span>=<span class=\"code-params\">class</span>{<span class=\"code-params\">static</span> <span class=\"code-params\">render</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=[],<span class=\"code-params\">r</span>=[];<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> s <span class=\"code-keyword\">of</span> e.annotations</span>)<span class=\"code-params\">s</span>&amp;&amp;(<span class=\"code-params\">s.annotationType!==n.AnnotationType.POPUP?t.push(s</span>):<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">s</span>));<span class=\"code-params\">r</span>.<span class=\"code-params\">length</span>&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">...r</span>);<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> r <span class=\"code-keyword\">of</span> t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">i</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\">{data:r,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||<span class=\"code-string\">\"\"</span>,renderInteractiveForms:e.renderInteractiveForms||!<span class=\"code-number\">1</span>,svgFactory:<span class=\"code-keyword\">new</span> s.DOMSVGFactory}</span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">isRenderable</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">div</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">t.render(</span>))}}<span class=\"code-params\">static</span> <span class=\"code-params\">update</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> t <span class=\"code-keyword\">of</span> e.annotations</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">div</span>.<span class=\"code-params\">querySelector</span>(<span class=\"code-params\"><span class=\"code-string\">`[data-annotation-id=\"<span class=\"code-subst\">${t.id}</span>\"]`</span></span>);<span class=\"code-params\">r</span>&amp;&amp;(<span class=\"code-params\">r.style.transform=<span class=\"code-string\">`matrix(<span class=\"code-subst\">${e.viewport.transform.join(<span class=\"code-string\">\",\"</span>)}</span>)`</span></span>)}<span class=\"code-params\">e</span>.<span class=\"code-params\">div</span>.<span class=\"code-params\">removeAttribute</span>(<span class=\"code-params\"><span class=\"code-string\">\"hidden\"</span></span>)}}},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">renderTextLayer</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">var</span> <span class=\"code-params\">e</span>=/\\<span class=\"code-params\">S</span>/;<span class=\"code-params\">function</span> <span class=\"code-params\">t</span>(<span class=\"code-params\">t,r,n</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">document</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"span\"</span></span>),<span class=\"code-params\">o</span>={<span class=\"code-params\">angle</span>:0,<span class=\"code-params\">canvasWidth</span>:0,<span class=\"code-params\">isWhitespace</span>:!1,<span class=\"code-params\">originalTransform</span>:<span class=\"code-params\">null</span>,<span class=\"code-params\">paddingBottom</span>:0,<span class=\"code-params\">paddingLeft</span>:0,<span class=\"code-params\">paddingRight</span>:0,<span class=\"code-params\">paddingTop</span>:0,<span class=\"code-params\">scale</span>:1};<span class=\"code-params\">if</span>(<span class=\"code-params\">t._textDivs.push(a</span>),<span class=\"code-params\">i</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">str</span>,!<span class=\"code-params\">e</span>.<span class=\"code-params\">test</span>(<span class=\"code-params\">i</span>))<span class=\"code-params\">return</span> <span class=\"code-params\">o</span>.<span class=\"code-params\">isWhitespace</span>=!0,<span class=\"code-params\">void</span> <span class=\"code-params\">t</span>.<span class=\"code-params\">_textDivProperties</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">a,o</span>);<span class=\"code-params\">var</span> <span class=\"code-params\">l</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">transform</span>(<span class=\"code-params\">t._viewport.transform,r.transform</span>),<span class=\"code-params\">c</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">atan2</span>(<span class=\"code-params\">l[<span class=\"code-number\">1</span>],l[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">h</span>=<span class=\"code-params\">n</span>[<span class=\"code-params\">r</span>.<span class=\"code-params\">fontName</span>];<span class=\"code-params\">h</span>.<span class=\"code-params\">vertical</span>&amp;&amp;(<span class=\"code-params\">c+=<span class=\"code-built_in\">Math</span>.PI<span class=\"code-regexp\">/2);var d=Math.sqrt(l[2]*l[2]+l[3]*l[3]),u=d;let p,g;h.ascent?u=h.ascent*u:h.descent&amp;&amp;(u=(1+h.descent)*u),0===c?(p=l[4],g=l[5]-u):(p=l[4]+u*Math.sin(c),g=l[5]-u*Math.cos(c)),a.style.left=p+\"px\",a.style.top=g+\"px\",a.style.fontSize=d+\"px\",a.style.fontFamily=h.fontFamily,a.textContent=r.str,t._fontInspectorEnabled&amp;&amp;(a.dataset.fontName=r.fontName),0!==c&amp;&amp;(o.angle=c*(180/</span><span class=\"code-built_in\">Math</span>.PI</span>));<span class=\"code-params\">let</span> <span class=\"code-params\">f</span>=!1;<span class=\"code-params\">if</span>(<span class=\"code-params\">r.str.length&gt;<span class=\"code-number\">1</span></span>)<span class=\"code-params\">f</span>=!0;<span class=\"code-params\">else</span> <span class=\"code-params\">if</span>(<span class=\"code-params\">r.transform[<span class=\"code-number\">0</span>]!==r.transform[<span class=\"code-number\">3</span>]</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">abs</span>(<span class=\"code-params\">r.transform[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">t</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">abs</span>(<span class=\"code-params\">r.transform[<span class=\"code-number\">3</span>]</span>);<span class=\"code-params\">e</span>!==<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\">e,t</span>)/<span class=\"code-params\">Math</span>.<span class=\"code-params\">min</span>(<span class=\"code-params\">e,t</span>)&gt;1.5&amp;&amp;(<span class=\"code-params\">f=!<span class=\"code-number\">0</span></span>)}<span class=\"code-params\">if</span>(<span class=\"code-params\">f&amp;&amp;(h.vertical?o.canvasWidth=r.height*t._viewport.scale:o.canvasWidth=r.width*t._viewport.scale</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">_textDivProperties</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">a,o</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">_textContentStream</span>&amp;&amp;<span class=\"code-params\">t</span>.<span class=\"code-params\">_layoutText</span>(<span class=\"code-params\">a</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">_enhanceTextSelection</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">m</span>=1,<span class=\"code-params\">A</span>=0;0!==<span class=\"code-params\">c</span>&amp;&amp;(<span class=\"code-params\">m=<span class=\"code-built_in\">Math</span>.cos(c</span>),<span class=\"code-params\">A</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">sin</span>(<span class=\"code-params\">c</span>));<span class=\"code-params\">var</span> <span class=\"code-params\">b</span>,<span class=\"code-params\">_</span>,<span class=\"code-params\">y</span>=(<span class=\"code-params\">h.vertical?r.height:r.width</span>)*<span class=\"code-params\">t</span>.<span class=\"code-params\">_viewport</span>.<span class=\"code-params\">scale</span>,<span class=\"code-params\">v</span>=<span class=\"code-params\">d</span>;0!==<span class=\"code-params\">c</span>?(<span class=\"code-params\">b=[m,A,-A,m,p,g],_=s.Util.getAxialAlignedBoundingBox([<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>,y,v],b</span>)):<span class=\"code-params\">_</span>=[<span class=\"code-params\">p</span>,<span class=\"code-params\">g</span>,<span class=\"code-params\">p</span>+<span class=\"code-params\">y</span>,<span class=\"code-params\">g</span>+<span class=\"code-params\">v</span>],<span class=\"code-params\">t</span>.<span class=\"code-params\">_bounds</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">{left:_[<span class=\"code-number\">0</span>],top:_[<span class=\"code-number\">1</span>],right:_[<span class=\"code-number\">2</span>],bottom:_[<span class=\"code-number\">3</span>],div:a,size:[y,v],m:b}</span>)}}<span class=\"code-params\">function</span> <span class=\"code-params\">r</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!e._canceled</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">_textDivs</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">_capability</span>,<span class=\"code-params\">s</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">s&gt;<span class=\"code-number\">1e5</span></span>)<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">_renderingDone</span>=!0,<span class=\"code-params\">void</span> <span class=\"code-params\">r</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">!e._textContentStream</span>)<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> n=<span class=\"code-number\">0</span>;n&lt;s;n++</span>)<span class=\"code-params\">e</span>.<span class=\"code-params\">_layoutText</span>(<span class=\"code-params\">t[n]</span>);<span class=\"code-params\">e</span>.<span class=\"code-params\">_renderingDone</span>=!0,<span class=\"code-params\">r</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>}}<span class=\"code-params\">function</span> <span class=\"code-params\">n</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">s</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> n=<span class=\"code-number\">0</span>;n&lt;r;n++</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>[<span class=\"code-params\">t</span>++];<span class=\"code-params\">r</span>&gt;0&amp;&amp;(<span class=\"code-params\">s=s?<span class=\"code-built_in\">Math</span>.min(r,s</span>):<span class=\"code-params\">r</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">i</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> t=e._bounds,r=e._viewport,i=<span class=\"code-keyword\">function</span>(e,t,r</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">map</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e,t</span>){<span class=\"code-params\">return</span>{<span class=\"code-params\">x1</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">left</span>,<span class=\"code-params\">y1</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">top</span>,<span class=\"code-params\">x2</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">right</span>,<span class=\"code-params\">y2</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">bottom</span>,<span class=\"code-params\">index</span>:<span class=\"code-params\">t</span>,<span class=\"code-params\">x1New</span>:<span class=\"code-params\">void</span> 0,<span class=\"code-params\">x2New</span>:<span class=\"code-params\">void</span> 0}}));<span class=\"code-params\">a</span>(<span class=\"code-params\">e,s</span>);<span class=\"code-params\">var</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Array</span>(<span class=\"code-params\">r.length</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">index</span>;<span class=\"code-params\">n</span>[<span class=\"code-params\">t</span>]={<span class=\"code-params\">left</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">x1New</span>,<span class=\"code-params\">top</span>:0,<span class=\"code-params\">right</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">x2New</span>,<span class=\"code-params\">bottom</span>:0}})),<span class=\"code-params\">r</span>.<span class=\"code-params\">map</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(t,r</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">n</span>[<span class=\"code-params\">r</span>],<span class=\"code-params\">a</span>=<span class=\"code-params\">s</span>[<span class=\"code-params\">r</span>];<span class=\"code-params\">a</span>.<span class=\"code-params\">x1</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">top</span>,<span class=\"code-params\">a</span>.<span class=\"code-params\">y1</span>=<span class=\"code-params\">e</span>-<span class=\"code-params\">i</span>.<span class=\"code-params\">right</span>,<span class=\"code-params\">a</span>.<span class=\"code-params\">x2</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">bottom</span>,<span class=\"code-params\">a</span>.<span class=\"code-params\">y2</span>=<span class=\"code-params\">e</span>-<span class=\"code-params\">i</span>.<span class=\"code-params\">left</span>,<span class=\"code-params\">a</span>.<span class=\"code-params\">index</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">a</span>.<span class=\"code-params\">x1New</span>=<span class=\"code-params\">void</span> 0,<span class=\"code-params\">a</span>.<span class=\"code-params\">x2New</span>=<span class=\"code-params\">void</span> 0})),<span class=\"code-params\">a</span>(<span class=\"code-params\">t,s</span>),<span class=\"code-params\">s</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">index</span>;<span class=\"code-params\">n</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">top</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">x1New</span>,<span class=\"code-params\">n</span>[<span class=\"code-params\">t</span>].<span class=\"code-params\">bottom</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">x2New</span>})),<span class=\"code-params\">n</span>}(<span class=\"code-params\">r.width,r.height,t</span>),<span class=\"code-params\">o</span>=0;<span class=\"code-params\">o</span>&lt;<span class=\"code-params\">i</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">o</span>++){<span class=\"code-params\">var</span> <span class=\"code-params\">l</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">div</span>,<span class=\"code-params\">c</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">_textDivProperties</span>.<span class=\"code-params\">get</span>(<span class=\"code-params\">l</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>!==c.angle</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">h</span>=<span class=\"code-params\">i</span>[<span class=\"code-params\">o</span>],<span class=\"code-params\">d</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">o</span>],<span class=\"code-params\">u</span>=<span class=\"code-params\">d</span>.<span class=\"code-params\">m</span>,<span class=\"code-params\">p</span>=<span class=\"code-params\">u</span>[0],<span class=\"code-params\">g</span>=<span class=\"code-params\">u</span>[1],<span class=\"code-params\">f</span>=[[0,0],[0,<span class=\"code-params\">d</span>.<span class=\"code-params\">size</span>[1]],[<span class=\"code-params\">d</span>.<span class=\"code-params\">size</span>[0],0],<span class=\"code-params\">d</span>.<span class=\"code-params\">size</span>],<span class=\"code-params\">m</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Float64Array</span>(<span class=\"code-params\"><span class=\"code-number\">64</span></span>);<span class=\"code-params\">f</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e,t</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">e,u</span>);<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+0]=<span class=\"code-params\">p</span>&amp;&amp;(<span class=\"code-params\">h.left-r[<span class=\"code-number\">0</span>]</span>)/<span class=\"code-params\">p</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+4]=<span class=\"code-params\">g</span>&amp;&amp;(<span class=\"code-params\">h.top-r[<span class=\"code-number\">1</span>]</span>)/<span class=\"code-params\">g</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+8]=<span class=\"code-params\">p</span>&amp;&amp;(<span class=\"code-params\">h.right-r[<span class=\"code-number\">0</span>]</span>)/<span class=\"code-params\">p</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+12]=<span class=\"code-params\">g</span>&amp;&amp;(<span class=\"code-params\">h.bottom-r[<span class=\"code-number\">1</span>]</span>)/<span class=\"code-params\">g</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+16]=<span class=\"code-params\">g</span>&amp;&amp;(<span class=\"code-params\">h.left-r[<span class=\"code-number\">0</span>]</span>)/-<span class=\"code-params\">g</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+20]=<span class=\"code-params\">p</span>&amp;&amp;(<span class=\"code-params\">h.top-r[<span class=\"code-number\">1</span>]</span>)/<span class=\"code-params\">p</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+24]=<span class=\"code-params\">g</span>&amp;&amp;(<span class=\"code-params\">h.right-r[<span class=\"code-number\">0</span>]</span>)/-<span class=\"code-params\">g</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+28]=<span class=\"code-params\">p</span>&amp;&amp;(<span class=\"code-params\">h.bottom-r[<span class=\"code-number\">1</span>]</span>)/<span class=\"code-params\">p</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+32]=<span class=\"code-params\">p</span>&amp;&amp;(<span class=\"code-params\">h.left-r[<span class=\"code-number\">0</span>]</span>)/-<span class=\"code-params\">p</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+36]=<span class=\"code-params\">g</span>&amp;&amp;(<span class=\"code-params\">h.top-r[<span class=\"code-number\">1</span>]</span>)/-<span class=\"code-params\">g</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+40]=<span class=\"code-params\">p</span>&amp;&amp;(<span class=\"code-params\">h.right-r[<span class=\"code-number\">0</span>]</span>)/-<span class=\"code-params\">p</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+44]=<span class=\"code-params\">g</span>&amp;&amp;(<span class=\"code-params\">h.bottom-r[<span class=\"code-number\">1</span>]</span>)/-<span class=\"code-params\">g</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+48]=<span class=\"code-params\">g</span>&amp;&amp;(<span class=\"code-params\">h.left-r[<span class=\"code-number\">0</span>]</span>)/<span class=\"code-params\">g</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+52]=<span class=\"code-params\">p</span>&amp;&amp;(<span class=\"code-params\">h.top-r[<span class=\"code-number\">1</span>]</span>)/-<span class=\"code-params\">p</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+56]=<span class=\"code-params\">g</span>&amp;&amp;(<span class=\"code-params\">h.right-r[<span class=\"code-number\">0</span>]</span>)/<span class=\"code-params\">g</span>,<span class=\"code-params\">m</span>[<span class=\"code-params\">t</span>+60]=<span class=\"code-params\">p</span>&amp;&amp;(<span class=\"code-params\">h.bottom-r[<span class=\"code-number\">1</span>]</span>)/-<span class=\"code-params\">p</span>}));<span class=\"code-params\">var</span> <span class=\"code-params\">A</span>=1+<span class=\"code-params\">Math</span>.<span class=\"code-params\">min</span>(<span class=\"code-params\"><span class=\"code-built_in\">Math</span>.abs(p</span>),<span class=\"code-params\">Math</span>.<span class=\"code-params\">abs</span>(<span class=\"code-params\">g</span>));<span class=\"code-params\">c</span>.<span class=\"code-params\">paddingLeft</span>=<span class=\"code-params\">n</span>(<span class=\"code-params\">m,<span class=\"code-number\">32</span>,<span class=\"code-number\">16</span></span>)/<span class=\"code-params\">A</span>,<span class=\"code-params\">c</span>.<span class=\"code-params\">paddingTop</span>=<span class=\"code-params\">n</span>(<span class=\"code-params\">m,<span class=\"code-number\">48</span>,<span class=\"code-number\">16</span></span>)/<span class=\"code-params\">A</span>,<span class=\"code-params\">c</span>.<span class=\"code-params\">paddingRight</span>=<span class=\"code-params\">n</span>(<span class=\"code-params\">m,<span class=\"code-number\">0</span>,<span class=\"code-number\">16</span></span>)/<span class=\"code-params\">A</span>,<span class=\"code-params\">c</span>.<span class=\"code-params\">paddingBottom</span>=<span class=\"code-params\">n</span>(<span class=\"code-params\">m,<span class=\"code-number\">16</span>,<span class=\"code-number\">16</span></span>)/<span class=\"code-params\">A</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">_textDivProperties</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">l,c</span>)}<span class=\"code-params\">else</span> <span class=\"code-params\">c</span>.<span class=\"code-params\">paddingLeft</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">left</span>-<span class=\"code-params\">i</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">left</span>,<span class=\"code-params\">c</span>.<span class=\"code-params\">paddingTop</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">top</span>-<span class=\"code-params\">i</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">top</span>,<span class=\"code-params\">c</span>.<span class=\"code-params\">paddingRight</span>=<span class=\"code-params\">i</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">right</span>-<span class=\"code-params\">t</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">right</span>,<span class=\"code-params\">c</span>.<span class=\"code-params\">paddingBottom</span>=<span class=\"code-params\">i</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">bottom</span>-<span class=\"code-params\">t</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">bottom</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">_textDivProperties</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">l,c</span>)}}<span class=\"code-params\">function</span> <span class=\"code-params\">a</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">t</span>.<span class=\"code-params\">sort</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e,t</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">e</span>.<span class=\"code-params\">x1</span>-<span class=\"code-params\">t</span>.<span class=\"code-params\">x1</span>||<span class=\"code-params\">e</span>.<span class=\"code-params\">index</span>-<span class=\"code-params\">t</span>.<span class=\"code-params\">index</span>}));<span class=\"code-params\">var</span> <span class=\"code-params\">r</span>=[{<span class=\"code-params\">start</span>:-1/0,<span class=\"code-params\">end</span>:1/0,<span class=\"code-params\">boundary</span>:{<span class=\"code-params\">x1</span>:-1/0,<span class=\"code-params\">y1</span>:-1/0,<span class=\"code-params\">x2</span>:0,<span class=\"code-params\">y2</span>:1/0,<span class=\"code-params\">index</span>:-1,<span class=\"code-params\">x1New</span>:0,<span class=\"code-params\">x2New</span>:0}}];<span class=\"code-params\">t</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> t=<span class=\"code-number\">0</span>;t&lt;r.length&amp;&amp;r[t].end&lt;=e.y1;</span>)<span class=\"code-params\">t</span>++;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">var</span> s,n,i=r.length<span class=\"code-number\">-1</span>;i&gt;=<span class=\"code-number\">0</span>&amp;&amp;r[i].start&gt;=e.y2;</span>)<span class=\"code-params\">i</span>--;<span class=\"code-params\">var</span> <span class=\"code-params\">a</span>,<span class=\"code-params\">o</span>,<span class=\"code-params\">l</span>=-1/0;<span class=\"code-params\">for</span>(<span class=\"code-params\">a=t;a&lt;=i;a++</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">c</span>;(<span class=\"code-params\">c=(n=(s=r[a]</span>).<span class=\"code-params\">boundary</span>).<span class=\"code-params\">x2</span>&gt;<span class=\"code-params\">e</span>.<span class=\"code-params\">x1</span>?<span class=\"code-params\">n</span>.<span class=\"code-params\">index</span>&gt;<span class=\"code-params\">e</span>.<span class=\"code-params\">index</span>?<span class=\"code-params\">n</span>.<span class=\"code-params\">x1New</span>:<span class=\"code-params\">e</span>.<span class=\"code-params\">x1</span>:<span class=\"code-params\">void</span> 0===<span class=\"code-params\">n</span>.<span class=\"code-params\">x2New</span>?(<span class=\"code-params\">n.x2+e.x1</span>)/2:<span class=\"code-params\">n</span>.<span class=\"code-params\">x2New</span>)&gt;<span class=\"code-params\">l</span>&amp;&amp;(<span class=\"code-params\">l=c</span>)}<span class=\"code-params\">for</span>(<span class=\"code-params\">e.x1New=l,a=t;a&lt;=i;a++</span>)<span class=\"code-params\">void</span> 0===(<span class=\"code-params\">n=(s=r[a]</span>).<span class=\"code-params\">boundary</span>).<span class=\"code-params\">x2New</span>?<span class=\"code-params\">n</span>.<span class=\"code-params\">x2</span>&gt;<span class=\"code-params\">e</span>.<span class=\"code-params\">x1</span>?<span class=\"code-params\">n</span>.<span class=\"code-params\">index</span>&gt;<span class=\"code-params\">e</span>.<span class=\"code-params\">index</span>&amp;&amp;(<span class=\"code-params\">n.x2New=n.x2</span>):<span class=\"code-params\">n</span>.<span class=\"code-params\">x2New</span>=<span class=\"code-params\">l</span>:<span class=\"code-params\">n</span>.<span class=\"code-params\">x2New</span>&gt;<span class=\"code-params\">l</span>&amp;&amp;(<span class=\"code-params\">n.x2New=<span class=\"code-built_in\">Math</span>.max(l,n.x2</span>));<span class=\"code-params\">var</span> <span class=\"code-params\">h</span>=[],<span class=\"code-params\">d</span>=<span class=\"code-params\">null</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\">a=t;a&lt;=i;a++</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">u</span>=(<span class=\"code-params\">n=(s=r[a]</span>).<span class=\"code-params\">boundary</span>).<span class=\"code-params\">x2</span>&gt;<span class=\"code-params\">e</span>.<span class=\"code-params\">x2</span>?<span class=\"code-params\">n</span>:<span class=\"code-params\">e</span>;<span class=\"code-params\">d</span>===<span class=\"code-params\">u</span>?<span class=\"code-params\">h</span>[<span class=\"code-params\">h</span>.<span class=\"code-params\">length</span>-1].<span class=\"code-params\">end</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">end</span>:(<span class=\"code-params\">h.push({start:s.start,end:s.end,boundary:u}</span>),<span class=\"code-params\">d</span>=<span class=\"code-params\">u</span>)}<span class=\"code-params\">for</span>(<span class=\"code-params\">r[t].start&lt;e.y1&amp;&amp;(h[<span class=\"code-number\">0</span>].start=e.y1,h.unshift({start:r[t].start,end:e.y1,boundary:r[t].boundary}</span>)),<span class=\"code-params\">e</span>.<span class=\"code-params\">y2</span>&lt;<span class=\"code-params\">r</span>[<span class=\"code-params\">i</span>].<span class=\"code-params\">end</span>&amp;&amp;(<span class=\"code-params\">h[h.length<span class=\"code-number\">-1</span>].end=e.y2,h.push({start:e.y2,end:r[i].end,boundary:r[i].boundary}</span>)),<span class=\"code-params\">a</span>=<span class=\"code-params\">t</span>;<span class=\"code-params\">a</span>&lt;=<span class=\"code-params\">i</span>;<span class=\"code-params\">a</span>++)<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>===(n=(s=r[a]</span>).<span class=\"code-params\">boundary</span>).<span class=\"code-params\">x2New</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">p</span>=!1;<span class=\"code-params\">for</span>(<span class=\"code-params\">o=t<span class=\"code-number\">-1</span>;!p&amp;&amp;o&gt;=<span class=\"code-number\">0</span>&amp;&amp;r[o].start&gt;=n.y1;o--</span>)<span class=\"code-params\">p</span>=<span class=\"code-params\">r</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">boundary</span>===<span class=\"code-params\">n</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\">o=i+<span class=\"code-number\">1</span>;!p&amp;&amp;o&lt;r.length&amp;&amp;r[o].end&lt;=n.y2;o++</span>)<span class=\"code-params\">p</span>=<span class=\"code-params\">r</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">boundary</span>===<span class=\"code-params\">n</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\">o=<span class=\"code-number\">0</span>;!p&amp;&amp;o&lt;h.length;o++</span>)<span class=\"code-params\">p</span>=<span class=\"code-params\">h</span>[<span class=\"code-params\">o</span>].<span class=\"code-params\">boundary</span>===<span class=\"code-params\">n</span>;<span class=\"code-params\">p</span>||(<span class=\"code-params\">n.x2New=l</span>)}<span class=\"code-params\">Array</span>.<span class=\"code-params\">prototype</span>.<span class=\"code-params\">splice</span>.<span class=\"code-params\">apply</span>(<span class=\"code-params\">r,[t,i-t+<span class=\"code-number\">1</span>].concat(h</span>))})),<span class=\"code-params\">r</span>.<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(t</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">boundary</span>;<span class=\"code-params\">void</span> 0===<span class=\"code-params\">r</span>.<span class=\"code-params\">x2New</span>&amp;&amp;(<span class=\"code-params\">r.x2New=<span class=\"code-built_in\">Math</span>.max(e,r.x2</span>))}))}<span class=\"code-params\">function</span> <span class=\"code-params\">o</span>(<span class=\"code-params\">{textContent:e,textContentStream:t,container:r,viewport:n,textDivs:i,textContentItemsStr:a,enhanceTextSelection:o}</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_textContent</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_textContentStream</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_container</span>=<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_viewport</span>=<span class=\"code-params\">n</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_textDivs</span>=<span class=\"code-params\">i</span>||[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_textContentItemsStr</span>=<span class=\"code-params\">a</span>||[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_enhanceTextSelection</span>=!!<span class=\"code-params\">o</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_fontInspectorEnabled</span>=!(<span class=\"code-params\">!globalThis.FontInspector||!globalThis.FontInspector.enabled</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_reader</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_layoutTextLastFontSize</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_layoutTextLastFontFamily</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_layoutTextCtx</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_textDivProperties</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">WeakMap</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_renderingDone</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">_canceled</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">_capability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_renderTimer</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_bounds</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">_capability</span>.<span class=\"code-params\">promise</span>.<span class=\"code-params\">finally</span>(<span class=\"code-params\">(</span>)=&gt;</span>{<span class=\"code-keyword\">this</span>._layoutTextCtx&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._layoutTextCtx.canvas.width=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._layoutTextCtx.canvas.height=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._layoutTextCtx=<span class=\"code-literal\">null</span></span>)}).<span class=\"code-params\">catch</span>(<span class=\"code-params\">(</span>)=&gt;</span>{})}<span class=\"code-keyword\">return</span> o.prototype={<span class=\"code-keyword\">get</span> promise(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._capability.promise},<span class=\"code-attr\">cancel</span>:<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">this</span>._canceled=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._reader&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._reader.cancel(<span class=\"code-keyword\">new</span> s.AbortException(<span class=\"code-string\">\"TextLayer task cancelled.\"</span></span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">_reader</span>=<span class=\"code-params\">null</span>),<span class=\"code-params\">null</span>!==<span class=\"code-params\">this</span>.<span class=\"code-params\">_renderTimer</span>&amp;&amp;(<span class=\"code-params\">clearTimeout(<span class=\"code-keyword\">this</span>._renderTimer</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_renderTimer</span>=<span class=\"code-params\">null</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_capability</span>.<span class=\"code-params\">reject</span>(<span class=\"code-params\"><span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Error</span>(<span class=\"code-string\">\"TextLayer task cancelled.\"</span></span>))},<span class=\"code-params\">_processItems</span>(<span class=\"code-params\">e,r</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> s=<span class=\"code-number\">0</span>,n=e.length;s&lt;n;s++</span>)<span class=\"code-params\">this</span>.<span class=\"code-params\">_textContentItemsStr</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e[s].str</span>),<span class=\"code-params\">t</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,e[s],r</span>)},<span class=\"code-params\">_layoutText</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_textDivProperties</span>.<span class=\"code-params\">get</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\">t.isWhitespace</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">r</span>=\"\";<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>!==t.canvasWidth</span>){<span class=\"code-params\">const</span>{<span class=\"code-params\">fontSize</span>:<span class=\"code-params\">s</span>,<span class=\"code-params\">fontFamily</span>:<span class=\"code-params\">n</span>}=<span class=\"code-params\">e</span>.<span class=\"code-params\">style</span>;<span class=\"code-params\">s</span>===<span class=\"code-params\">this</span>.<span class=\"code-params\">_layoutTextLastFontSize</span>&amp;&amp;<span class=\"code-params\">n</span>===<span class=\"code-params\">this</span>.<span class=\"code-params\">_layoutTextLastFontFamily</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._layoutTextCtx.font=<span class=\"code-string\">`<span class=\"code-subst\">${s}</span> <span class=\"code-subst\">${n}</span>`</span>,<span class=\"code-keyword\">this</span>._layoutTextLastFontSize=s,<span class=\"code-keyword\">this</span>._layoutTextLastFontFamily=n</span>);<span class=\"code-params\">const</span>{<span class=\"code-params\">width</span>:<span class=\"code-params\">i</span>}=<span class=\"code-params\">this</span>.<span class=\"code-params\">_layoutTextCtx</span>.<span class=\"code-params\">measureText</span>(<span class=\"code-params\">e.textContent</span>);<span class=\"code-params\">i</span>&gt;0&amp;&amp;(<span class=\"code-params\">t.scale=t.canvasWidth<span class=\"code-regexp\">/i,r=`scaleX(${t.scale})`)}0!==t.angle&amp;&amp;(r=`rotate(${t.angle}deg) ${r}`),r.length&gt;0&amp;&amp;(this._enhanceTextSelection&amp;&amp;(t.originalTransform=r),e.style.transform=r),this._textDivProperties.set(e,t),this._container.appendChild(e)},_render:function(e){const t=(0,s.createPromiseCapability)();let n=Object.create(null);const i=document.createElement(\"canvas\");if(i.mozOpaque=!0,this._layoutTextCtx=i.getContext(\"2d\",{alpha:!1}),this._textContent){const e=this._textContent.items,r=this._textContent.styles;this._processItems(e,r),t.resolve()}else{if(!this._textContentStream)throw new Error('Neither \"textContent\" nor \"textContentStream\" parameters specified.');{const e=()=&gt;{this._reader.read().then(({value:r,done:s})=&gt;{s?t.resolve():(Object.assign(n,r.styles),this._processItems(r.items,n),e())},t.reject)};this._reader=this._textContentStream.getReader(),e()}}t.promise.then(()=&gt;{n=null,e?this._renderTimer=setTimeout(()=&gt;{r(this),this._renderTimer=null},e):r(this)},this._capability.reject)},expandTextDivs:function(e){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&amp;&amp;(i(this),this._bounds=null);const t=[],r=[];for(var s=0,n=this._textDivs.length;s&lt;n;s++){const n=this._textDivs[s],i=this._textDivProperties.get(n);i.isWhitespace||(e?(t.length=0,r.length=0,i.originalTransform&amp;&amp;t.push(i.originalTransform),i.paddingTop&gt;0?(r.push(i.paddingTop+\"px\"),t.push(`translateY(${-i.paddingTop}px)`)):r.push(0),i.paddingRight&gt;0?r.push(i.paddingRight/i</span>.scale+<span class=\"code-string\">\"px\"</span></span>):<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-number\">0</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">paddingBottom</span>&gt;0?<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">i.paddingBottom+<span class=\"code-string\">\"px\"</span></span>):<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-number\">0</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">paddingLeft</span>&gt;0?(<span class=\"code-params\">r.push(i.paddingLeft<span class=\"code-regexp\">/i.scale+\"px\"),t.push(`translateX(${-i.paddingLeft/i</span>.scale}px</span>)`)):<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-number\">0</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">style</span>.<span class=\"code-params\">padding</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\" \"</span></span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">length</span>&amp;&amp;(<span class=\"code-params\">n.style.transform=t.join(<span class=\"code-string\">\" \"</span></span>))):(<span class=\"code-params\">n.style.padding=<span class=\"code-literal\">null</span>,n.style.transform=i.originalTransform</span>))}}},<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">var</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">o</span>(<span class=\"code-params\">{textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection}</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">t</span>.<span class=\"code-params\">_render</span>(<span class=\"code-params\">e.timeout</span>),<span class=\"code-params\">t</span>}}<span class=\"code-params\">()</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">renderTextLayer</span>=<span class=\"code-params\">n</span>},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">SVGGraphics</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">1</span></span>),<span class=\"code-params\">i</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">4</span></span>);<span class=\"code-params\">let</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Not implemented: SVGGraphics\"</span></span>)};<span class=\"code-params\">t</span>.<span class=\"code-params\">SVGGraphics</span>=<span class=\"code-params\">a</span>;{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>={<span class=\"code-params\">fontStyle</span>:\"<span class=\"code-params\">normal</span>\",<span class=\"code-params\">fontWeight</span>:\"<span class=\"code-params\">normal</span>\",<span class=\"code-params\">fillColor</span>:\"#000000\"},<span class=\"code-params\">r</span>=\"<span class=\"code-params\">http</span>://<span class=\"code-params\">www</span>.<span class=\"code-params\">w3</span>.<span class=\"code-params\">org</span>/<span class=\"code-params\">XML</span>/1998/<span class=\"code-params\">namespace</span>\",<span class=\"code-params\">c</span>=\"<span class=\"code-params\">http</span>://<span class=\"code-params\">www</span>.<span class=\"code-params\">w3</span>.<span class=\"code-params\">org</span>/1999/<span class=\"code-params\">xlink</span>\",<span class=\"code-params\">h</span>=[\"<span class=\"code-params\">butt</span>\",\"<span class=\"code-params\">round</span>\",\"<span class=\"code-params\">square</span>\"],<span class=\"code-params\">d</span>=[\"<span class=\"code-params\">miter</span>\",\"<span class=\"code-params\">round</span>\",\"<span class=\"code-params\">bevel</span>\"],<span class=\"code-params\">u</span>=<span class=\"code-params\">function</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">[<span class=\"code-number\">137</span>,<span class=\"code-number\">80</span>,<span class=\"code-number\">78</span>,<span class=\"code-number\">71</span>,<span class=\"code-number\">13</span>,<span class=\"code-number\">10</span>,<span class=\"code-number\">26</span>,<span class=\"code-number\">10</span>]</span>),<span class=\"code-params\">t</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Int32Array</span>(<span class=\"code-params\"><span class=\"code-number\">256</span></span>);<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-number\">256</span>;e++</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>;e&lt;<span class=\"code-number\">8</span>;e++</span>)<span class=\"code-params\">r</span>=1&amp;<span class=\"code-params\">r</span>?3988292384^<span class=\"code-params\">r</span>&gt;&gt;1&amp;2147483647:<span class=\"code-params\">r</span>&gt;&gt;1&amp;2147483647;<span class=\"code-params\">t</span>[<span class=\"code-params\">e</span>]=<span class=\"code-params\">r</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">r</span>(<span class=\"code-params\">e,r,s,n</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">n</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>]=<span class=\"code-params\">a</span>&gt;&gt;24&amp;255,<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>+1]=<span class=\"code-params\">a</span>&gt;&gt;16&amp;255,<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>+2]=<span class=\"code-params\">a</span>&gt;&gt;8&amp;255,<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>+3]=255&amp;<span class=\"code-params\">a</span>,<span class=\"code-params\">i</span>+=4,<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>]=255&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\"><span class=\"code-number\">0</span></span>),<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>+1]=255&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\"><span class=\"code-number\">1</span></span>),<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>+2]=255&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>),<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>+3]=255&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">charCodeAt</span>(<span class=\"code-params\"><span class=\"code-number\">3</span></span>),<span class=\"code-params\">i</span>+=4,<span class=\"code-params\">s</span>.<span class=\"code-params\">set</span>(<span class=\"code-params\">r,i</span>),<span class=\"code-params\">i</span>+=<span class=\"code-params\">r</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">o</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e,r,s</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>=-1;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> i=r;i&lt;s;i++</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=255&amp;(<span class=\"code-params\">n^e[i]</span>);<span class=\"code-params\">n</span>=<span class=\"code-params\">n</span>&gt;&gt;&gt;8^<span class=\"code-params\">t</span>[<span class=\"code-params\">r</span>]}<span class=\"code-params\">return</span>-1^<span class=\"code-params\">n</span>}(<span class=\"code-params\">s,n+<span class=\"code-number\">4</span>,i</span>);<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>]=<span class=\"code-params\">o</span>&gt;&gt;24&amp;255,<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>+1]=<span class=\"code-params\">o</span>&gt;&gt;16&amp;255,<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>+2]=<span class=\"code-params\">o</span>&gt;&gt;8&amp;255,<span class=\"code-params\">s</span>[<span class=\"code-params\">i</span>+3]=255&amp;<span class=\"code-params\">o</span>}<span class=\"code-params\">function</span> <span class=\"code-params\">n</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">ceil</span>(<span class=\"code-params\">t<span class=\"code-regexp\">/65535),s=new Uint8Array(2+t+5*r+4);let n=0;s[n++]=120,s[n++]=156;let i=0;for(;t&gt;65535;)s[n++]=0,s[n++]=255,s[n++]=255,s[n++]=0,s[n++]=0,s.set(e.subarray(i,i+65535),n),n+=65535,i+=65535,t-=65535;s[n++]=1,s[n++]=255&amp;t,s[n++]=t&gt;&gt;8&amp;255,s[n++]=255&amp;~t,s[n++]=(65535&amp;~t)&gt;&gt;8&amp;255,s.set(e.subarray(i),n),n+=e.length-i;const a=function(e,t,r){let s=1,n=0;for(let i=t;i&lt;r;++i)s=(s+(255&amp;e[i]))%65521,n=(n+s)%65521;return n&lt;&lt;16|s}(e,0,e.length);return s[n++]=a&gt;&gt;24&amp;255,s[n++]=a&gt;&gt;16&amp;255,s[n++]=a&gt;&gt;8&amp;255,s[n++]=255&amp;a,s}function a(t,a,o,l){const c=t.width,h=t.height;let d,u,p;const g=t.data;switch(a){case s.ImageKind.GRAYSCALE_1BPP:u=0,d=1,p=c+7&gt;&gt;3;break;case s.ImageKind.RGB_24BPP:u=2,d=8,p=3*c;break;case s.ImageKind.RGBA_32BPP:u=6,d=8,p=4*c;break;default:throw new Error(\"invalid format\")}const f=new Uint8Array((1+p)*h);let m=0,A=0;for(let e=0;e&lt;h;++e)f[m++]=0,f.set(g.subarray(A,A+p),m),A+=p,m+=p;if(a===s.ImageKind.GRAYSCALE_1BPP&amp;&amp;l){m=0;for(let e=0;e&lt;h;e++){m++;for(let e=0;e&lt;p;e++)f[m++]^=255}}const b=new Uint8Array([c&gt;&gt;24&amp;255,c&gt;&gt;16&amp;255,c&gt;&gt;8&amp;255,255&amp;c,h&gt;&gt;24&amp;255,h&gt;&gt;16&amp;255,h&gt;&gt;8&amp;255,255&amp;h,d,u,0,0,0]),_=function(e){if(!i.isNodeJS)return n(e);try{let t;t=parseInt(process.versions.node)&gt;=8?e:Buffer.from(e);const r=require(\"zlib\").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,s.warn)(\"Not compressing PNG because zlib.deflateSync is unavailable: \"+e)}return n(e)}(f),y=e.length+36+b.length+_.length,v=new Uint8Array(y);let S=0;return v.set(e,S),S+=e.length,r(\"IHDR\",b,v,S),S+=12+b.length,r(\"IDATA\",_,v,S),S+=12+_.length,r(\"IEND\",new Uint8Array(0),v,S),(0,s.createObjectURL)(v,\"image/</span>png<span class=\"code-string\">\",o)}return function(e,t,r){return a(e,void 0===e.kind?s.ImageKind.GRAYSCALE_1BPP:e.kind,t,r)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=e.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=e.fillColor,this.strokeColor=\"</span>#<span class=\"code-number\">000000</span><span class=\"code-string\">\",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin=\"</span><span class=\"code-string\">\",this.lineCap=\"</span><span class=\"code-string\">\",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=\"</span><span class=\"code-string\">\"}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function o(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let r=t.length-1;if(\"</span><span class=\"code-number\">0</span><span class=\"code-string\">\"!==t[r])return t;do{r--}while(\"</span><span class=\"code-number\">0</span><span class=\"code-string\">\"===t[r]);return t.substring(0,\"</span>.<span class=\"code-string\">\"===t[r]?r:r+1)}function l(e){if(0===e[4]&amp;&amp;0===e[5]){if(0===e[1]&amp;&amp;0===e[2])return 1===e[0]&amp;&amp;1===e[3]?\"</span><span class=\"code-string\">\":`scale(${o(e[0])} ${o(e[3])})`;if(e[0]===e[3]&amp;&amp;e[1]===-e[2]){return`rotate(${o(180*Math.acos(e[0])/Math.PI)})`}}else if(1===e[0]&amp;&amp;0===e[1]&amp;&amp;0===e[2]&amp;&amp;1===e[3])return`translate(${o(e[4])} ${o(e[5])})`;return`matrix(${o(e[0])} ${o(e[1])} ${o(e[2])} ${o(e[3])} ${o(e[4])} `+o(e[5])+\"</span></span>)\"}<span class=\"code-params\">let</span> <span class=\"code-params\">g</span>=0,<span class=\"code-params\">f</span>=0,<span class=\"code-params\">m</span>=0;<span class=\"code-params\">t</span>.<span class=\"code-params\">SVGGraphics</span>=<span class=\"code-params\">a</span>=<span class=\"code-params\">class</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t,r=!<span class=\"code-number\">1</span></span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">n</span>.<span class=\"code-params\">DOMSVGFactory</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">p</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">transformMatrix</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">IDENTITY_MATRIX</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">transformStack</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">extraStack</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">objs</span>=<span class=\"code-params\">t</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingClip</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingEOFill</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">embedFonts</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">embeddedFonts</span>=<span class=\"code-params\">Object</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">cssStyle</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">forceDataSchema</span>=!!<span class=\"code-params\">r</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_operatorIdMapping</span>=[];<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">in</span> s.OPS</span>)<span class=\"code-params\">this</span>.<span class=\"code-params\">_operatorIdMapping</span>[<span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>[<span class=\"code-params\">e</span>]]=<span class=\"code-params\">e</span>}<span class=\"code-params\">save</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">transformStack</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.transformMatrix</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">extraStack</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">clone</span><span class=\"code-params\">()</span>}<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">transformMatrix</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">transformStack</span>.<span class=\"code-params\">pop</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">extraStack</span>.<span class=\"code-params\">pop</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingClip</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">tgrp</span>=<span class=\"code-params\">null</span>}<span class=\"code-params\">group</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">save</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">executeOpTree</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">restore</span><span class=\"code-params\">()</span>}<span class=\"code-params\">loadDependencies</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">fnArray</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">argsArray</span>;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>,n=t.length;e&lt;n;e++</span>)<span class=\"code-params\">if</span>(<span class=\"code-params\">t[e]===s.OPS.dependency</span>)<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> t <span class=\"code-keyword\">of</span> r[e]</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">startsWith</span>(<span class=\"code-params\"><span class=\"code-string\">\"g_\"</span></span>)?<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">objs</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">new</span> <span class=\"code-params\">Promise</span>(<span class=\"code-params\">r=&gt;{e.get(t,r</span>)});<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">dependencies</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">r</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">Promise</span>.<span class=\"code-params\">all</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.current.dependencies</span>)}<span class=\"code-params\">transform</span>(<span class=\"code-params\">e,t,r,n,i,a</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">o</span>=[<span class=\"code-params\">e</span>,<span class=\"code-params\">t</span>,<span class=\"code-params\">r</span>,<span class=\"code-params\">n</span>,<span class=\"code-params\">i</span>,<span class=\"code-params\">a</span>];<span class=\"code-params\">this</span>.<span class=\"code-params\">transformMatrix</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">transform</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.transformMatrix,o</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">tgrp</span>=<span class=\"code-params\">null</span>}<span class=\"code-params\">getSVG</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">viewport</span>=<span class=\"code-params\">t</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_initialize</span>(<span class=\"code-params\">t</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">loadDependencies</span>(<span class=\"code-params\">e</span>).<span class=\"code-params\">then</span>(<span class=\"code-params\">(</span>)=&gt;</span><span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.transformMatrix=s.IDENTITY_MATRIX,<span class=\"code-keyword\">this</span>.executeOpTree(<span class=\"code-keyword\">this</span>.convertOpList(e</span>)),<span class=\"code-params\">r</span>))}<span class=\"code-params\">convertOpList</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_operatorIdMapping</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">argsArray</span>,<span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">fnArray</span>,<span class=\"code-params\">n</span>=[];<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>,i=s.length;e&lt;i;e++</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">s</span>[<span class=\"code-params\">e</span>];<span class=\"code-params\">n</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">{fnId:i,fn:t[i],args:r[e]}</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>=[];<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=[];<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> s <span class=\"code-keyword\">of</span> e</span>)\"<span class=\"code-params\">save</span>\"!==<span class=\"code-params\">s</span>.<span class=\"code-params\">fn</span>?\"<span class=\"code-params\">restore</span>\"===<span class=\"code-params\">s</span>.<span class=\"code-params\">fn</span>?<span class=\"code-params\">t</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">pop</span><span class=\"code-params\">()</span>:<span class=\"code-params\">t</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">s</span>):(<span class=\"code-params\">t.push({fnId:<span class=\"code-number\">92</span>,fn:<span class=\"code-string\">\"group\"</span>,items:[]}</span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">t</span>),<span class=\"code-params\">t</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">t</span>.<span class=\"code-params\">length</span>-1].<span class=\"code-params\">items</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">t</span>}(<span class=\"code-params\">n</span>)}<span class=\"code-params\">executeOpTree</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> t <span class=\"code-keyword\">of</span> e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">fn</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">fnId</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">args</span>;<span class=\"code-params\">switch</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>|r</span>){<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">beginText</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">beginText</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">dependency</span>:<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setLeading</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setLeading</span>(<span class=\"code-params\">n</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setLeadingMoveText</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setLeadingMoveText</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">1</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setFont</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setFont</span>(<span class=\"code-params\">n</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">showText</span>:<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">showSpacedText</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">showText</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">endText</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">endText</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">moveText</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">moveText</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">1</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setCharSpacing</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setCharSpacing</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setWordSpacing</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setWordSpacing</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setHScale</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setHScale</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setTextMatrix</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setTextMatrix</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">1</span>],n[<span class=\"code-number\">2</span>],n[<span class=\"code-number\">3</span>],n[<span class=\"code-number\">4</span>],n[<span class=\"code-number\">5</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setTextRise</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setTextRise</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setTextRenderingMode</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setTextRenderingMode</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setLineWidth</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setLineWidth</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setLineJoin</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setLineJoin</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setLineCap</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setLineCap</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setMiterLimit</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setMiterLimit</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setFillRGBColor</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setFillRGBColor</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">1</span>],n[<span class=\"code-number\">2</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setStrokeRGBColor</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setStrokeRGBColor</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">1</span>],n[<span class=\"code-number\">2</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setStrokeColorN</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setStrokeColorN</span>(<span class=\"code-params\">n</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setFillColorN</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setFillColorN</span>(<span class=\"code-params\">n</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">shadingFill</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">shadingFill</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setDash</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setDash</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">1</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setRenderingIntent</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setRenderingIntent</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setFlatness</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setFlatness</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">setGState</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">setGState</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">fill</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">fill</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">eoFill</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">eoFill</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">stroke</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">stroke</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">fillStroke</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">fillStroke</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">eoFillStroke</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">eoFillStroke</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">clip</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">clip</span>(<span class=\"code-params\"><span class=\"code-string\">\"nonzero\"</span></span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">eoClip</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">clip</span>(<span class=\"code-params\"><span class=\"code-string\">\"evenodd\"</span></span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">paintSolidColorImageMask</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">paintSolidColorImageMask</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">paintImageXObject</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">paintImageXObject</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">paintInlineImageXObject</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">paintInlineImageXObject</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">paintImageMaskXObject</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">paintImageMaskXObject</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">paintFormXObjectBegin</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">paintFormXObjectBegin</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">1</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">paintFormXObjectEnd</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">paintFormXObjectEnd</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">closePath</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">closeStroke</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">closeStroke</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">closeFillStroke</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">closeFillStroke</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">closeEOFillStroke</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">closeEOFillStroke</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">nextLine</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">nextLine</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">transform</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">transform</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">1</span>],n[<span class=\"code-number\">2</span>],n[<span class=\"code-number\">3</span>],n[<span class=\"code-number\">4</span>],n[<span class=\"code-number\">5</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">constructPath</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">constructPath</span>(<span class=\"code-params\">n[<span class=\"code-number\">0</span>],n[<span class=\"code-number\">1</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">endPath</span>:<span class=\"code-params\">this</span>.<span class=\"code-params\">endPath</span><span class=\"code-params\">()</span>;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> 92:<span class=\"code-params\">this</span>.<span class=\"code-params\">group</span>(<span class=\"code-params\">t.items</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">default</span>:(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Unimplemented operator \"</span>+e</span>)}}}<span class=\"code-params\">setWordSpacing</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">wordSpacing</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">setCharSpacing</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">charSpacing</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">nextLine</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">moveText</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.current.leading</span>)}<span class=\"code-params\">setTextMatrix</span>(<span class=\"code-params\">e,t,r,s,n,i</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">a</span>.<span class=\"code-params\">textMatrix</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">lineMatrix</span>=[<span class=\"code-params\">e</span>,<span class=\"code-params\">t</span>,<span class=\"code-params\">r</span>,<span class=\"code-params\">s</span>,<span class=\"code-params\">n</span>,<span class=\"code-params\">i</span>],<span class=\"code-params\">a</span>.<span class=\"code-params\">textMatrixScale</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">sqrt</span>(<span class=\"code-params\">e*e+t*t</span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">x</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">lineX</span>=0,<span class=\"code-params\">a</span>.<span class=\"code-params\">y</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">lineY</span>=0,<span class=\"code-params\">a</span>.<span class=\"code-params\">xcoords</span>=[],<span class=\"code-params\">a</span>.<span class=\"code-params\">ycoords</span>=[],<span class=\"code-params\">a</span>.<span class=\"code-params\">tspan</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:tspan\"</span></span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"font-family\"</span>,a.fontFamily</span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"font-size\"</span>,o(a.fontSize</span>)+\"<span class=\"code-params\">px</span>\"),<span class=\"code-params\">a</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,o(-a.y</span>)),<span class=\"code-params\">a</span>.<span class=\"code-params\">txtElement</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:text\"</span></span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">txtElement</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">a.tspan</span>)}<span class=\"code-params\">beginText</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">e</span>.<span class=\"code-params\">x</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">lineX</span>=0,<span class=\"code-params\">e</span>.<span class=\"code-params\">y</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">lineY</span>=0,<span class=\"code-params\">e</span>.<span class=\"code-params\">textMatrix</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">IDENTITY_MATRIX</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">lineMatrix</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">IDENTITY_MATRIX</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">textMatrixScale</span>=1,<span class=\"code-params\">e</span>.<span class=\"code-params\">tspan</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:tspan\"</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">txtElement</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:text\"</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">txtgrp</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:g\"</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">xcoords</span>=[],<span class=\"code-params\">e</span>.<span class=\"code-params\">ycoords</span>=[]}<span class=\"code-params\">moveText</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">r</span>.<span class=\"code-params\">x</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">lineX</span>+=<span class=\"code-params\">e</span>,<span class=\"code-params\">r</span>.<span class=\"code-params\">y</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">lineY</span>+=<span class=\"code-params\">t</span>,<span class=\"code-params\">r</span>.<span class=\"code-params\">xcoords</span>=[],<span class=\"code-params\">r</span>.<span class=\"code-params\">ycoords</span>=[],<span class=\"code-params\">r</span>.<span class=\"code-params\">tspan</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:tspan\"</span></span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"font-family\"</span>,r.fontFamily</span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"font-size\"</span>,o(r.fontSize</span>)+\"<span class=\"code-params\">px</span>\"),<span class=\"code-params\">r</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,o(-r.y</span>))}<span class=\"code-params\">showText</span>(<span class=\"code-params\">t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">font</span>,<span class=\"code-params\">a</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">fontSize</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>===a</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">c</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">fontSizeScale</span>,<span class=\"code-params\">h</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">charSpacing</span>,<span class=\"code-params\">d</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">wordSpacing</span>,<span class=\"code-params\">u</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">fontDirection</span>,<span class=\"code-params\">p</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">textHScale</span>*<span class=\"code-params\">u</span>,<span class=\"code-params\">g</span>=<span class=\"code-params\">i</span>.<span class=\"code-params\">vertical</span>,<span class=\"code-params\">f</span>=<span class=\"code-params\">g</span>?1:-1,<span class=\"code-params\">m</span>=<span class=\"code-params\">i</span>.<span class=\"code-params\">defaultVMetrics</span>,<span class=\"code-params\">A</span>=<span class=\"code-params\">a</span>*<span class=\"code-params\">n</span>.<span class=\"code-params\">fontMatrix</span>[0];<span class=\"code-params\">let</span> <span class=\"code-params\">b</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">of</span> t</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>===e</span>){<span class=\"code-params\">b</span>+=<span class=\"code-params\">u</span>*<span class=\"code-params\">d</span>;<span class=\"code-params\">continue</span>}<span class=\"code-params\">if</span>(<span class=\"code-params\">(<span class=\"code-number\">0</span>,s.isNum</span>)(<span class=\"code-params\">e</span>)){<span class=\"code-params\">b</span>+=<span class=\"code-params\">f</span>*<span class=\"code-params\">e</span>*<span class=\"code-params\">a</span>/1<span class=\"code-params\">e3</span>;<span class=\"code-params\">continue</span>}<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=(<span class=\"code-params\">e.isSpace?d:<span class=\"code-number\">0</span></span>)+<span class=\"code-params\">h</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">fontChar</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">o</span>,<span class=\"code-params\">l</span>,<span class=\"code-params\">p</span>,<span class=\"code-params\">_</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">width</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">g</span>){<span class=\"code-params\">let</span> <span class=\"code-params\">t</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">vmetric</span>||<span class=\"code-params\">m</span>;<span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">vmetric</span>?<span class=\"code-params\">r</span>[1]:.5*<span class=\"code-params\">_</span>,<span class=\"code-params\">t</span>=-<span class=\"code-params\">t</span>*<span class=\"code-params\">A</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>[2]*<span class=\"code-params\">A</span>;<span class=\"code-params\">_</span>=<span class=\"code-params\">r</span>?-<span class=\"code-params\">r</span>[0]:<span class=\"code-params\">_</span>,<span class=\"code-params\">o</span>=<span class=\"code-params\">t</span>/<span class=\"code-params\">c</span>,<span class=\"code-params\">l</span>=(<span class=\"code-params\">b+s</span>)/<span class=\"code-params\">c</span>}<span class=\"code-params\">else</span> <span class=\"code-params\">o</span>=<span class=\"code-params\">b</span>/<span class=\"code-params\">c</span>,<span class=\"code-params\">l</span>=0;(<span class=\"code-params\">e.isInFont||i.missingFile</span>)&amp;&amp;(<span class=\"code-params\">n.xcoords.push(n.x+o</span>),<span class=\"code-params\">g</span>&amp;&amp;<span class=\"code-params\">n</span>.<span class=\"code-params\">ycoords</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">-n.y+l</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">textContent</span>+=<span class=\"code-params\">r</span>),<span class=\"code-params\">p</span>=<span class=\"code-params\">g</span>?<span class=\"code-params\">_</span>*<span class=\"code-params\">A</span>-<span class=\"code-params\">t</span>*<span class=\"code-params\">u</span>:<span class=\"code-params\">_</span>*<span class=\"code-params\">A</span>+<span class=\"code-params\">t</span>*<span class=\"code-params\">u</span>,<span class=\"code-params\">b</span>+=<span class=\"code-params\">p</span>}<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"x\"</span>,n.xcoords.map(o</span>).<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\" \"</span></span>)),<span class=\"code-params\">g</span>?<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,n.ycoords.map(o</span>).<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\" \"</span></span>)):<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,o(-n.y</span>)),<span class=\"code-params\">g</span>?<span class=\"code-params\">n</span>.<span class=\"code-params\">y</span>-=<span class=\"code-params\">b</span>:<span class=\"code-params\">n</span>.<span class=\"code-params\">x</span>+=<span class=\"code-params\">b</span>*<span class=\"code-params\">p</span>,<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"font-family\"</span>,n.fontFamily</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"font-size\"</span>,o(n.fontSize</span>)+\"<span class=\"code-params\">px</span>\"),<span class=\"code-params\">n</span>.<span class=\"code-params\">fontStyle</span>!==<span class=\"code-params\">e</span>.<span class=\"code-params\">fontStyle</span>&amp;&amp;<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"font-style\"</span>,n.fontStyle</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">fontWeight</span>!==<span class=\"code-params\">e</span>.<span class=\"code-params\">fontWeight</span>&amp;&amp;<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"font-weight\"</span>,n.fontWeight</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">_</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">textRenderingMode</span>&amp;<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">FILL_STROKE_MASK</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">_===s.TextRenderingMode.FILL||_===s.TextRenderingMode.FILL_STROKE?(n.fillColor!==e.fillColor&amp;&amp;n.tspan.setAttributeNS(<span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill\"</span>,n.fillColor</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">fillAlpha</span>&lt;1&amp;&amp;<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill-opacity\"</span>,n.fillAlpha</span>)):<span class=\"code-params\">n</span>.<span class=\"code-params\">textRenderingMode</span>===<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">ADD_TO_PATH</span>?<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill\"</span>,<span class=\"code-string\">\"transparent\"</span></span>):<span class=\"code-params\">n</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill\"</span>,<span class=\"code-string\">\"none\"</span></span>),<span class=\"code-params\">_</span>===<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">STROKE</span>||<span class=\"code-params\">_</span>===<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">FILL_STROKE</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=1/(<span class=\"code-params\">n.textMatrixScale||<span class=\"code-number\">1</span></span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_setStrokeAttributes</span>(<span class=\"code-params\">n.tspan,e</span>)}<span class=\"code-params\">let</span> <span class=\"code-params\">y</span>=<span class=\"code-params\">n</span>.<span class=\"code-params\">textMatrix</span>;0!==<span class=\"code-params\">n</span>.<span class=\"code-params\">textRise</span>&amp;&amp;(<span class=\"code-params\">y=y.slice(</span>),<span class=\"code-params\">y</span>[5]+=<span class=\"code-params\">n</span>.<span class=\"code-params\">textRise</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">txtElement</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"transform\"</span>,<span class=\"code-string\">`<span class=\"code-subst\">${l(y)}</span> scale(<span class=\"code-subst\">${o(p)}</span>, -1)`</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">txtElement</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\">r,<span class=\"code-string\">\"xml:space\"</span>,<span class=\"code-string\">\"preserve\"</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">txtElement</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">n.tspan</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">txtgrp</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">n.txtElement</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_ensureTransformGroup</span><span class=\"code-params\">()</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">n.txtElement</span>)}<span class=\"code-params\">setLeadingMoveText</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">setLeading</span>(<span class=\"code-params\">-t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">moveText</span>(<span class=\"code-params\">e,t</span>)}<span class=\"code-params\">addFontStyle</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">!e.data</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">'addFontStyle: No font data available, ensure that the \"fontExtraProperties\" API parameter is set.'</span></span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">cssStyle</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.cssStyle=<span class=\"code-keyword\">this</span>.svgFactory.createElement(<span class=\"code-string\">\"svg:style\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">cssStyle</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"type\"</span>,<span class=\"code-string\">\"text/css\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">defs</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.cssStyle</span>));<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createObjectURL</span>)(<span class=\"code-params\">e.data,e.mimetype,<span class=\"code-keyword\">this</span>.forceDataSchema</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">cssStyle</span>.<span class=\"code-params\">textContent</span>+=`@<span class=\"code-params\">font</span>-<span class=\"code-params\">face</span> { <span class=\"code-params\">font</span>-<span class=\"code-params\">family</span>: \"<span class=\"code-params\">$</span>{<span class=\"code-params\">e</span>.<span class=\"code-params\">loadedName</span>}\"; <span class=\"code-params\">src</span>: <span class=\"code-params\">url</span>(<span class=\"code-params\">${t}</span>); }\\<span class=\"code-params\">n</span>`}<span class=\"code-params\">setFont</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">commonObjs</span>.<span class=\"code-params\">get</span>(<span class=\"code-params\">e[<span class=\"code-number\">0</span>]</span>);<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>[1];<span class=\"code-params\">t</span>.<span class=\"code-params\">font</span>=<span class=\"code-params\">r</span>,!<span class=\"code-params\">this</span>.<span class=\"code-params\">embedFonts</span>||<span class=\"code-params\">r</span>.<span class=\"code-params\">missingFile</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">embeddedFonts</span>[<span class=\"code-params\">r</span>.<span class=\"code-params\">loadedName</span>]||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.addFontStyle(r</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">embeddedFonts</span>[<span class=\"code-params\">r</span>.<span class=\"code-params\">loadedName</span>]=<span class=\"code-params\">r</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">fontMatrix</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">fontMatrix</span>?<span class=\"code-params\">r</span>.<span class=\"code-params\">fontMatrix</span>:<span class=\"code-params\">s</span>.<span class=\"code-params\">FONT_IDENTITY_MATRIX</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">i</span>=\"<span class=\"code-params\">normal</span>\";<span class=\"code-params\">r</span>.<span class=\"code-params\">black</span>?<span class=\"code-params\">i</span>=\"900\":<span class=\"code-params\">r</span>.<span class=\"code-params\">bold</span>&amp;&amp;(<span class=\"code-params\">i=<span class=\"code-string\">\"bold\"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">italic</span>?\"<span class=\"code-params\">italic</span>\":\"<span class=\"code-params\">normal</span>\";<span class=\"code-params\">n</span>&lt;0?(<span class=\"code-params\">n=-n,t.fontDirection=<span class=\"code-number\">-1</span></span>):<span class=\"code-params\">t</span>.<span class=\"code-params\">fontDirection</span>=1,<span class=\"code-params\">t</span>.<span class=\"code-params\">fontSize</span>=<span class=\"code-params\">n</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">fontFamily</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">loadedName</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">fontWeight</span>=<span class=\"code-params\">i</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">fontStyle</span>=<span class=\"code-params\">a</span>,<span class=\"code-params\">t</span>.<span class=\"code-params\">tspan</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:tspan\"</span></span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">tspan</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,o(-t.y</span>)),<span class=\"code-params\">t</span>.<span class=\"code-params\">xcoords</span>=[],<span class=\"code-params\">t</span>.<span class=\"code-params\">ycoords</span>=[]}<span class=\"code-params\">endText</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">e</span>.<span class=\"code-params\">textRenderingMode</span>&amp;<span class=\"code-params\">s</span>.<span class=\"code-params\">TextRenderingMode</span>.<span class=\"code-params\">ADD_TO_PATH_FLAG</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">txtElement</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">txtElement</span>.<span class=\"code-params\">hasChildNodes</span><span class=\"code-params\">()</span>&amp;&amp;(<span class=\"code-params\">e.element=e.txtElement,<span class=\"code-keyword\">this</span>.clip(<span class=\"code-string\">\"nonzero\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">endPath</span><span class=\"code-params\">()</span>)}<span class=\"code-params\">setLineWidth</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">e</span>&gt;0&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.current.lineWidth=e</span>)}<span class=\"code-params\">setLineCap</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineCap</span>=<span class=\"code-params\">h</span>[<span class=\"code-params\">e</span>]}<span class=\"code-params\">setLineJoin</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">lineJoin</span>=<span class=\"code-params\">d</span>[<span class=\"code-params\">e</span>]}<span class=\"code-params\">setMiterLimit</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">miterLimit</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">setStrokeAlpha</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">strokeAlpha</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">setStrokeRGBColor</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">strokeColor</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">makeCssRgb</span>(<span class=\"code-params\">e,t,r</span>)}<span class=\"code-params\">setFillAlpha</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillAlpha</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">setFillRGBColor</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillColor</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">makeCssRgb</span>(<span class=\"code-params\">e,t,r</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">tspan</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:tspan\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">xcoords</span>=[],<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">ycoords</span>=[]}<span class=\"code-params\">setStrokeColorN</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">strokeColor</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_makeColorN_Pattern</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">setFillColorN</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillColor</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_makeColorN_Pattern</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">shadingFill</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">viewport</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">viewport</span>.<span class=\"code-params\">height</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">inverseTransform</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.transformMatrix</span>),<span class=\"code-params\">i</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[<span class=\"code-number\">0</span>,<span class=\"code-number\">0</span>],n</span>),<span class=\"code-params\">a</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[<span class=\"code-number\">0</span>,r],n</span>),<span class=\"code-params\">o</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[t,<span class=\"code-number\">0</span>],n</span>),<span class=\"code-params\">l</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[t,r],n</span>),<span class=\"code-params\">c</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">min</span>(<span class=\"code-params\">i[<span class=\"code-number\">0</span>],a[<span class=\"code-number\">0</span>],o[<span class=\"code-number\">0</span>],l[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">h</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">min</span>(<span class=\"code-params\">i[<span class=\"code-number\">1</span>],a[<span class=\"code-number\">1</span>],o[<span class=\"code-number\">1</span>],l[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">d</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\">i[<span class=\"code-number\">0</span>],a[<span class=\"code-number\">0</span>],o[<span class=\"code-number\">0</span>],l[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">u</span>=<span class=\"code-params\">Math</span>.<span class=\"code-params\">max</span>(<span class=\"code-params\">i[<span class=\"code-number\">1</span>],a[<span class=\"code-number\">1</span>],o[<span class=\"code-number\">1</span>],l[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">p</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:rect\"</span></span>);<span class=\"code-params\">p</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"x\"</span>,c</span>),<span class=\"code-params\">p</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,h</span>),<span class=\"code-params\">p</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"width\"</span>,d-c</span>),<span class=\"code-params\">p</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"height\"</span>,u-h</span>),<span class=\"code-params\">p</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill\"</span>,<span class=\"code-keyword\">this</span>._makeShadingPattern(e</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillAlpha</span>&lt;1&amp;&amp;<span class=\"code-params\">p</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill-opacity\"</span>,<span class=\"code-keyword\">this</span>.current.fillAlpha</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_ensureTransformGroup</span><span class=\"code-params\">()</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">p</span>)}<span class=\"code-params\">_makeColorN_Pattern</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">return</span>\"<span class=\"code-params\">TilingPattern</span>\"===<span class=\"code-params\">e</span>[0]?<span class=\"code-params\">this</span>.<span class=\"code-params\">_makeTilingPattern</span>(<span class=\"code-params\">e</span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">_makeShadingPattern</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">_makeTilingPattern</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>[1],<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>[2],<span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>[3]||<span class=\"code-params\">s</span>.<span class=\"code-params\">IDENTITY_MATRIX</span>,[<span class=\"code-params\">i</span>,<span class=\"code-params\">a</span>,<span class=\"code-params\">o</span>,<span class=\"code-params\">l</span>]=<span class=\"code-params\">e</span>[4],<span class=\"code-params\">c</span>=<span class=\"code-params\">e</span>[5],<span class=\"code-params\">h</span>=<span class=\"code-params\">e</span>[6],<span class=\"code-params\">d</span>=<span class=\"code-params\">e</span>[7],<span class=\"code-params\">u</span>=\"<span class=\"code-params\">shading</span>\"+<span class=\"code-params\">m</span>++,[<span class=\"code-params\">p</span>,<span class=\"code-params\">g</span>]=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[i,a],n</span>),[<span class=\"code-params\">f</span>,<span class=\"code-params\">A</span>]=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">applyTransform</span>(<span class=\"code-params\">[o,l],n</span>),[<span class=\"code-params\">b</span>,<span class=\"code-params\">_</span>]=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">singularValueDecompose2dScale</span>(<span class=\"code-params\">n</span>),<span class=\"code-params\">y</span>=<span class=\"code-params\">c</span>*<span class=\"code-params\">b</span>,<span class=\"code-params\">v</span>=<span class=\"code-params\">h</span>*<span class=\"code-params\">_</span>,<span class=\"code-params\">S</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:pattern\"</span></span>);<span class=\"code-params\">S</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"id\"</span>,u</span>),<span class=\"code-params\">S</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"patternUnits\"</span>,<span class=\"code-string\">\"userSpaceOnUse\"</span></span>),<span class=\"code-params\">S</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"width\"</span>,y</span>),<span class=\"code-params\">S</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"height\"</span>,v</span>),<span class=\"code-params\">S</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"x\"</span>,<span class=\"code-string\">\"\"</span>+p</span>),<span class=\"code-params\">S</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,<span class=\"code-string\">\"\"</span>+g</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">x</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svg</span>,<span class=\"code-params\">C</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">transformMatrix</span>,<span class=\"code-params\">P</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillColor</span>,<span class=\"code-params\">k</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">strokeColor</span>,<span class=\"code-params\">R</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\">f-p,A-g</span>);<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.svg=R,<span class=\"code-keyword\">this</span>.transformMatrix=n,<span class=\"code-number\">2</span>===d</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">s</span>.<span class=\"code-params\">Util</span>.<span class=\"code-params\">makeCssRgb</span>(<span class=\"code-params\">...t</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillColor</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">strokeColor</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">executeOpTree</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.convertOpList(r</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">svg</span>=<span class=\"code-params\">x</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">transformMatrix</span>=<span class=\"code-params\">C</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">fillColor</span>=<span class=\"code-params\">P</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">strokeColor</span>=<span class=\"code-params\">k</span>,<span class=\"code-params\">S</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">R.childNodes[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">defs</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">S</span>),`<span class=\"code-params\">url</span>(<span class=\"code-params\">#${u}</span>)`}<span class=\"code-params\">_makeShadingPattern</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">switch</span>(<span class=\"code-params\">e[<span class=\"code-number\">0</span>]</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">RadialAxial</span>\":<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=\"<span class=\"code-params\">shading</span>\"+<span class=\"code-params\">m</span>++,<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>[3];<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>;<span class=\"code-params\">switch</span>(<span class=\"code-params\">e[<span class=\"code-number\">1</span>]</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">axial</span>\":<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>[4],<span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>[5];<span class=\"code-params\">n</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:linearGradient\"</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"id\"</span>,t</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"gradientUnits\"</span>,<span class=\"code-string\">\"userSpaceOnUse\"</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"x1\"</span>,r[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y1\"</span>,r[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"x2\"</span>,s[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y2\"</span>,s[<span class=\"code-number\">1</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">radial</span>\":<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">e</span>[4],<span class=\"code-params\">a</span>=<span class=\"code-params\">e</span>[5],<span class=\"code-params\">o</span>=<span class=\"code-params\">e</span>[6],<span class=\"code-params\">l</span>=<span class=\"code-params\">e</span>[7];<span class=\"code-params\">n</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:radialGradient\"</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"id\"</span>,t</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"gradientUnits\"</span>,<span class=\"code-string\">\"userSpaceOnUse\"</span></span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"cx\"</span>,a[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"cy\"</span>,a[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"r\"</span>,l</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fx\"</span>,i[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fy\"</span>,i[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fr\"</span>,o</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">default</span>:<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Unknown RadialAxial type: \"</span>+e[<span class=\"code-number\">1</span>]</span>)}<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">of</span> r</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:stop\"</span></span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"offset\"</span>,e[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"stop-color\"</span>,e[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">n</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">t</span>)}<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">defs</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">n</span>),`<span class=\"code-params\">url</span>(<span class=\"code-params\">#${t}</span>)`;<span class=\"code-params\">case</span>\"<span class=\"code-params\">Mesh</span>\":<span class=\"code-params\">return</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Unimplemented pattern Mesh\"</span></span>),<span class=\"code-params\">null</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">Dummy</span>\":<span class=\"code-params\">return</span>\"<span class=\"code-params\">hotpink</span>\";<span class=\"code-params\">default</span>:<span class=\"code-params\">throw</span> <span class=\"code-params\">new</span> <span class=\"code-params\">Error</span>(<span class=\"code-params\"><span class=\"code-string\">\"Unknown IR type: \"</span>+e[<span class=\"code-number\">0</span>]</span>)}}<span class=\"code-params\">setDash</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">dashArray</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">dashPhase</span>=<span class=\"code-params\">t</span>}<span class=\"code-params\">constructPath</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">x</span>,<span class=\"code-params\">i</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">y</span>,<span class=\"code-params\">a</span>=[],<span class=\"code-params\">l</span>=0;<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> r <span class=\"code-keyword\">of</span> e</span>)<span class=\"code-params\">switch</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>|r</span>){<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">rectangle</span>:<span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++];<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">n</span>+<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">r</span>=<span class=\"code-params\">i</span>+<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++];<span class=\"code-params\">a</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-string\">\"M\"</span>,o(n</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">i</span>),\"<span class=\"code-params\">L</span>\",<span class=\"code-params\">o</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">i</span>),\"<span class=\"code-params\">L</span>\",<span class=\"code-params\">o</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">r</span>),\"<span class=\"code-params\">L</span>\",<span class=\"code-params\">o</span>(<span class=\"code-params\">n</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">r</span>),\"<span class=\"code-params\">Z</span>\");<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">moveTo</span>:<span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">a</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-string\">\"M\"</span>,o(n</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">i</span>));<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">lineTo</span>:<span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>++],<span class=\"code-params\">a</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-string\">\"L\"</span>,o(n</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">i</span>));<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">curveTo</span>:<span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+4],<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+5],<span class=\"code-params\">a</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-string\">\"C\"</span>,o(t[l]</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">t[l+<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">t[l+<span class=\"code-number\">2</span>]</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">t[l+<span class=\"code-number\">3</span>]</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">n</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">i</span>)),<span class=\"code-params\">l</span>+=6;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">curveTo2</span>:<span class=\"code-params\">a</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-string\">\"C\"</span>,o(n</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">i</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">t[l]</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">t[l+<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">t[l+<span class=\"code-number\">2</span>]</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">t[l+<span class=\"code-number\">3</span>]</span>)),<span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+2],<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+3],<span class=\"code-params\">l</span>+=4;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">curveTo3</span>:<span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+2],<span class=\"code-params\">i</span>=<span class=\"code-params\">t</span>[<span class=\"code-params\">l</span>+3],<span class=\"code-params\">a</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-string\">\"C\"</span>,o(t[l]</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">t[l+<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">n</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">i</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">n</span>),<span class=\"code-params\">o</span>(<span class=\"code-params\">i</span>)),<span class=\"code-params\">l</span>+=4;<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">closePath</span>:<span class=\"code-params\">a</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\"><span class=\"code-string\">\"Z\"</span></span>)}<span class=\"code-params\">a</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\" \"</span></span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">path</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>&gt;0&amp;&amp;<span class=\"code-params\">e</span>[0]!==<span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">rectangle</span>&amp;&amp;<span class=\"code-params\">e</span>[0]!==<span class=\"code-params\">s</span>.<span class=\"code-params\">OPS</span>.<span class=\"code-params\">moveTo</span>?<span class=\"code-params\">a</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">path</span>.<span class=\"code-params\">getAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"d\"</span></span>)+<span class=\"code-params\">a</span>:(<span class=\"code-params\">r.path=<span class=\"code-keyword\">this</span>.svgFactory.createElement(<span class=\"code-string\">\"svg:path\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_ensureTransformGroup</span><span class=\"code-params\">()</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">r.path</span>)),<span class=\"code-params\">r</span>.<span class=\"code-params\">path</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"d\"</span>,a</span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">path</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill\"</span>,<span class=\"code-string\">\"none\"</span></span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">element</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">path</span>,<span class=\"code-params\">r</span>.<span class=\"code-params\">setCurrentPoint</span>(<span class=\"code-params\">n,i</span>)}<span class=\"code-params\">endPath</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">e.path=<span class=\"code-literal\">null</span>,!<span class=\"code-keyword\">this</span>.pendingClip</span>)<span class=\"code-params\">return</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">!e.element</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">void</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.pendingClip=<span class=\"code-literal\">null</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=\"<span class=\"code-params\">clippath</span>\"+<span class=\"code-params\">g</span>++,<span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:clipPath\"</span></span>);<span class=\"code-params\">r</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"id\"</span>,t</span>),<span class=\"code-params\">r</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"transform\"</span>,l(<span class=\"code-keyword\">this</span>.transformMatrix</span>));<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">element</span>.<span class=\"code-params\">cloneNode</span>(<span class=\"code-params\">!<span class=\"code-number\">0</span></span>);\"<span class=\"code-params\">evenodd</span>\"===<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingClip</span>?<span class=\"code-params\">s</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"clip-rule\"</span>,<span class=\"code-string\">\"evenodd\"</span></span>):<span class=\"code-params\">s</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"clip-rule\"</span>,<span class=\"code-string\">\"nonzero\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingClip</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">r</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">s</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">defs</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">r</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">activeClipUrl</span>&amp;&amp;(<span class=\"code-params\">e.clipGroup=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.extraStack.forEach((<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">e</span>.<span class=\"code-params\">clipGroup</span>=<span class=\"code-params\">null</span>})),<span class=\"code-params\">r</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"clip-path\"</span>,e.activeClipUrl</span>)),<span class=\"code-params\">e</span>.<span class=\"code-params\">activeClipUrl</span>=`<span class=\"code-params\">url</span>(<span class=\"code-params\">#${t}</span>)`,<span class=\"code-params\">this</span>.<span class=\"code-params\">tgrp</span>=<span class=\"code-params\">null</span>}<span class=\"code-params\">clip</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">pendingClip</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\">e.path</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">path</span>.<span class=\"code-params\">getAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"d\"</span></span>)+\"<span class=\"code-params\">Z</span>\";<span class=\"code-params\">e</span>.<span class=\"code-params\">path</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"d\"</span>,t</span>)}}<span class=\"code-params\">setLeading</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">leading</span>=-<span class=\"code-params\">e</span>}<span class=\"code-params\">setTextRise</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">textRise</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">setTextRenderingMode</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">textRenderingMode</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">setHScale</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">textHScale</span>=<span class=\"code-params\">e</span>/100}<span class=\"code-params\">setRenderingIntent</span>(<span class=\"code-params\">e</span>){}<span class=\"code-params\">setFlatness</span>(<span class=\"code-params\">e</span>){}<span class=\"code-params\">setGState</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span>[t,r]<span class=\"code-keyword\">of</span> e</span>)<span class=\"code-params\">switch</span>(<span class=\"code-params\">t</span>){<span class=\"code-params\">case</span>\"<span class=\"code-params\">LW</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setLineWidth</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">LC</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setLineCap</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">LJ</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setLineJoin</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">ML</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setMiterLimit</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">D</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setDash</span>(<span class=\"code-params\">r[<span class=\"code-number\">0</span>],r[<span class=\"code-number\">1</span>]</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">RI</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setRenderingIntent</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">FL</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setFlatness</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">Font</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setFont</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">CA</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setStrokeAlpha</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">case</span>\"<span class=\"code-params\">ca</span>\":<span class=\"code-params\">this</span>.<span class=\"code-params\">setFillAlpha</span>(<span class=\"code-params\">r</span>);<span class=\"code-params\">break</span>;<span class=\"code-params\">default</span>:(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">\"Unimplemented graphic state operator \"</span>+t</span>)}}<span class=\"code-params\">fill</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">e</span>.<span class=\"code-params\">element</span>&amp;&amp;(<span class=\"code-params\">e.element.setAttributeNS(<span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill\"</span>,e.fillColor</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">element</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill-opacity\"</span>,e.fillAlpha</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">endPath</span><span class=\"code-params\">()</span>)}<span class=\"code-params\">stroke</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">e</span>.<span class=\"code-params\">element</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._setStrokeAttributes(e.element</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">element</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill\"</span>,<span class=\"code-string\">\"none\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">endPath</span><span class=\"code-params\">()</span>)}<span class=\"code-params\">_setStrokeAttributes</span>(<span class=\"code-params\">e,t=<span class=\"code-number\">1</span></span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>;<span class=\"code-params\">let</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>.<span class=\"code-params\">dashArray</span>;1!==<span class=\"code-params\">t</span>&amp;&amp;<span class=\"code-params\">s</span>.<span class=\"code-params\">length</span>&gt;0&amp;&amp;(<span class=\"code-params\">s=s.map((<span class=\"code-keyword\">function</span>(e</span>){<span class=\"code-params\">return</span> <span class=\"code-params\">t</span>*<span class=\"code-params\">e</span>}))),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"stroke\"</span>,r.strokeColor</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"stroke-opacity\"</span>,r.strokeAlpha</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"stroke-miterlimit\"</span>,o(r.miterLimit</span>)),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"stroke-linecap\"</span>,r.lineCap</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"stroke-linejoin\"</span>,r.lineJoin</span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"stroke-width\"</span>,o(t*r.lineWidth</span>)+\"<span class=\"code-params\">px</span>\"),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"stroke-dasharray\"</span>,s.map(o</span>).<span class=\"code-params\">join</span>(<span class=\"code-params\"><span class=\"code-string\">\" \"</span></span>)),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"stroke-dashoffset\"</span>,o(t*r.dashPhase</span>)+\"<span class=\"code-params\">px</span>\")}<span class=\"code-params\">eoFill</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">element</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">element</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill-rule\"</span>,<span class=\"code-string\">\"evenodd\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">fill</span><span class=\"code-params\">()</span>}<span class=\"code-params\">fillStroke</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">stroke</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">fill</span><span class=\"code-params\">()</span>}<span class=\"code-params\">eoFillStroke</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">element</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">element</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill-rule\"</span>,<span class=\"code-string\">\"evenodd\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">fillStroke</span><span class=\"code-params\">()</span>}<span class=\"code-params\">closeStroke</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">stroke</span><span class=\"code-params\">()</span>}<span class=\"code-params\">closeFillStroke</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">fillStroke</span><span class=\"code-params\">()</span>}<span class=\"code-params\">closeEOFillStroke</span><span class=\"code-params\">()</span>{<span class=\"code-params\">this</span>.<span class=\"code-params\">closePath</span><span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">eoFillStroke</span><span class=\"code-params\">()</span>}<span class=\"code-params\">paintSolidColorImageMask</span><span class=\"code-params\">()</span>{<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:rect\"</span></span>);<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"x\"</span>,<span class=\"code-string\">\"0\"</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,<span class=\"code-string\">\"0\"</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"width\"</span>,<span class=\"code-string\">\"1px\"</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"height\"</span>,<span class=\"code-string\">\"1px\"</span></span>),<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill\"</span>,<span class=\"code-keyword\">this</span>.current.fillColor</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_ensureTransformGroup</span><span class=\"code-params\">()</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">paintImageXObject</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">objs</span>.<span class=\"code-params\">get</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">t</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">paintInlineImageXObject</span>(<span class=\"code-params\">t</span>):(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.warn</span>)(<span class=\"code-params\"><span class=\"code-string\">`Dependent image with object ID <span class=\"code-subst\">${e}</span> is not ready yet`</span></span>)}<span class=\"code-params\">paintInlineImageXObject</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">height</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">u</span>(<span class=\"code-params\">e,<span class=\"code-keyword\">this</span>.forceDataSchema,!!t</span>),<span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:rect\"</span></span>);<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"x\"</span>,<span class=\"code-string\">\"0\"</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,<span class=\"code-string\">\"0\"</span></span>),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"width\"</span>,o(r</span>)),<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"height\"</span>,o(s</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">element</span>=<span class=\"code-params\">i</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">clip</span>(<span class=\"code-params\"><span class=\"code-string\">\"nonzero\"</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:image\"</span></span>);<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\">c,<span class=\"code-string\">\"xlink:href\"</span>,n</span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"x\"</span>,<span class=\"code-string\">\"0\"</span></span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,o(-s</span>)),<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"width\"</span>,o(r</span>)+\"<span class=\"code-params\">px</span>\"),<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"height\"</span>,o(s</span>)+\"<span class=\"code-params\">px</span>\"),<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"transform\"</span>,<span class=\"code-string\">`scale(<span class=\"code-subst\">${o(<span class=\"code-number\">1</span><span class=\"code-regexp\">/r)} ${o(-1/</span>s)}</span>)`</span></span>),<span class=\"code-params\">t</span>?<span class=\"code-params\">t</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">a</span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">_ensureTransformGroup</span><span class=\"code-params\">()</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">a</span>)}<span class=\"code-params\">paintImageMaskXObject</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>,<span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">width</span>,<span class=\"code-params\">s</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">height</span>,<span class=\"code-params\">n</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">fillColor</span>;<span class=\"code-params\">t</span>.<span class=\"code-params\">maskId</span>=\"<span class=\"code-params\">mask</span>\"+<span class=\"code-params\">f</span>++;<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:mask\"</span></span>);<span class=\"code-params\">i</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"id\"</span>,t.maskId</span>);<span class=\"code-params\">const</span> <span class=\"code-params\">a</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:rect\"</span></span>);<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"x\"</span>,<span class=\"code-string\">\"0\"</span></span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,<span class=\"code-string\">\"0\"</span></span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"width\"</span>,o(r</span>)),<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"height\"</span>,o(s</span>)),<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"fill\"</span>,n</span>),<span class=\"code-params\">a</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"mask\"</span>,<span class=\"code-string\">`url(#<span class=\"code-subst\">${t.maskId}</span>)`</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">defs</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">i</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_ensureTransformGroup</span><span class=\"code-params\">()</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">a</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">paintInlineImageXObject</span>(<span class=\"code-params\">e,i</span>)}<span class=\"code-params\">paintFormXObjectBegin</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-built_in\">Array</span>.isArray(e</span>)&amp;&amp;6===<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">transform</span>(<span class=\"code-params\">e[<span class=\"code-number\">0</span>],e[<span class=\"code-number\">1</span>],e[<span class=\"code-number\">2</span>],e[<span class=\"code-number\">3</span>],e[<span class=\"code-number\">4</span>],e[<span class=\"code-number\">5</span>]</span>),<span class=\"code-params\">t</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">t</span>[2]-<span class=\"code-params\">t</span>[0],<span class=\"code-params\">r</span>=<span class=\"code-params\">t</span>[3]-<span class=\"code-params\">t</span>[1],<span class=\"code-params\">s</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:rect\"</span></span>);<span class=\"code-params\">s</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"x\"</span>,t[<span class=\"code-number\">0</span>]</span>),<span class=\"code-params\">s</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"y\"</span>,t[<span class=\"code-number\">1</span>]</span>),<span class=\"code-params\">s</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"width\"</span>,o(e</span>)),<span class=\"code-params\">s</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"height\"</span>,o(r</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">element</span>=<span class=\"code-params\">s</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">clip</span>(<span class=\"code-params\"><span class=\"code-string\">\"nonzero\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">endPath</span><span class=\"code-params\">()</span>}}<span class=\"code-params\">paintFormXObjectEnd</span><span class=\"code-params\">()</span>{}<span class=\"code-params\">_initialize</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">create</span>(<span class=\"code-params\">e.width,e.height</span>),<span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:defs\"</span></span>);<span class=\"code-params\">t</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">r</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">defs</span>=<span class=\"code-params\">r</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:g\"</span></span>);<span class=\"code-params\">return</span> <span class=\"code-params\">s</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"transform\"</span>,l(e.transform</span>)),<span class=\"code-params\">t</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">s</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">svg</span>=<span class=\"code-params\">s</span>,<span class=\"code-params\">t</span>}<span class=\"code-params\">_ensureClipGroup</span><span class=\"code-params\">()</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\">!<span class=\"code-keyword\">this</span>.current.clipGroup</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">svgFactory</span>.<span class=\"code-params\">createElement</span>(<span class=\"code-params\"><span class=\"code-string\">\"svg:g\"</span></span>);<span class=\"code-params\">e</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"clip-path\"</span>,<span class=\"code-keyword\">this</span>.current.activeClipUrl</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">svg</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">clipGroup</span>=<span class=\"code-params\">e</span>}<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">clipGroup</span>}<span class=\"code-params\">_ensureTransformGroup</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">tgrp</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.tgrp=<span class=\"code-keyword\">this</span>.svgFactory.createElement(<span class=\"code-string\">\"svg:g\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">tgrp</span>.<span class=\"code-params\">setAttributeNS</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>,<span class=\"code-string\">\"transform\"</span>,l(<span class=\"code-keyword\">this</span>.transformMatrix</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">current</span>.<span class=\"code-params\">activeClipUrl</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">_ensureClipGroup</span><span class=\"code-params\">()</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.tgrp</span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">svg</span>.<span class=\"code-params\">appendChild</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>.tgrp</span>)),<span class=\"code-params\">this</span>.<span class=\"code-params\">tgrp</span>}}}},<span class=\"code-params\">function</span>(<span class=\"code-params\">e,t,r</span>){\"<span class=\"code-params\">use</span> <span class=\"code-params\">strict</span>\";<span class=\"code-params\">Object</span>.<span class=\"code-params\">defineProperty</span>(<span class=\"code-params\">t,<span class=\"code-string\">\"__esModule\"</span>,{value:!<span class=\"code-number\">0</span>}</span>),<span class=\"code-params\">t</span>.<span class=\"code-params\">PDFNodeStream</span>=<span class=\"code-params\">void</span> 0;<span class=\"code-params\">var</span> <span class=\"code-params\">s</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">2</span></span>),<span class=\"code-params\">n</span>=<span class=\"code-params\">r</span>(<span class=\"code-params\"><span class=\"code-number\">20</span></span>);<span class=\"code-params\">const</span> <span class=\"code-params\">i</span>=<span class=\"code-params\">require</span>(<span class=\"code-params\"><span class=\"code-string\">\"fs\"</span></span>),<span class=\"code-params\">a</span>=<span class=\"code-params\">require</span>(<span class=\"code-params\"><span class=\"code-string\">\"http\"</span></span>),<span class=\"code-params\">o</span>=<span class=\"code-params\">require</span>(<span class=\"code-params\"><span class=\"code-string\">\"https\"</span></span>),<span class=\"code-params\">l</span>=<span class=\"code-params\">require</span>(<span class=\"code-params\"><span class=\"code-string\">\"url\"</span></span>),<span class=\"code-params\">c</span>=/^<span class=\"code-params\">file</span>:\\/\\/\\/[<span class=\"code-params\">a</span>-<span class=\"code-params\">zA</span>-<span class=\"code-params\">Z</span>]:\\//;<span class=\"code-params\">t</span>.<span class=\"code-params\">PDFNodeStream</span>=<span class=\"code-params\">class</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">source</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">url</span>=<span class=\"code-params\">function</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">l</span>.<span class=\"code-params\">parse</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">return</span>\"<span class=\"code-params\">file</span>:\"===<span class=\"code-params\">t</span>.<span class=\"code-params\">protocol</span>||<span class=\"code-params\">t</span>.<span class=\"code-params\">host</span>?<span class=\"code-params\">t</span>:/^[<span class=\"code-params\">a</span>-<span class=\"code-params\">z</span>]:[/\\\\]/<span class=\"code-params\">i</span>.<span class=\"code-params\">test</span>(<span class=\"code-params\">e</span>)?<span class=\"code-params\">l</span>.<span class=\"code-params\">parse</span>(<span class=\"code-params\"><span class=\"code-string\">\"file:///\"</span>+e</span>):(<span class=\"code-params\">t.host||(t.protocol=<span class=\"code-string\">\"file:\"</span></span>),<span class=\"code-params\">t</span>)}(<span class=\"code-params\">e.url</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">isHttp</span>=\"<span class=\"code-params\">http</span>:\"===<span class=\"code-params\">this</span>.<span class=\"code-params\">url</span>.<span class=\"code-params\">protocol</span>||\"<span class=\"code-params\">https</span>:\"===<span class=\"code-params\">this</span>.<span class=\"code-params\">url</span>.<span class=\"code-params\">protocol</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">isFsUrl</span>=\"<span class=\"code-params\">file</span>:\"===<span class=\"code-params\">this</span>.<span class=\"code-params\">url</span>.<span class=\"code-params\">protocol</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">httpHeaders</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">isHttp</span>&amp;&amp;<span class=\"code-params\">e</span>.<span class=\"code-params\">httpHeaders</span>||{},<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeRequestReaders</span>=[]}<span class=\"code-params\">get</span> <span class=\"code-params\">_progressiveDataLength</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>.<span class=\"code-params\">_loaded</span>:0}<span class=\"code-params\">getFullReader</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span>(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.assert</span>)(<span class=\"code-params\">!<span class=\"code-keyword\">this</span>._fullRequestReader,<span class=\"code-string\">\"PDFNodeStream.getFullReader can only be called once.\"</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">isFsUrl</span>?<span class=\"code-params\">new</span> <span class=\"code-params\">f</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span></span>):<span class=\"code-params\">new</span> <span class=\"code-params\">p</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>}<span class=\"code-params\">getRangeReader</span>(<span class=\"code-params\">e,t</span>){<span class=\"code-params\">if</span>(<span class=\"code-params\">t&lt;=<span class=\"code-keyword\">this</span>._progressiveDataLength</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">null</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">isFsUrl</span>?<span class=\"code-params\">new</span> <span class=\"code-params\">m</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,e,t</span>):<span class=\"code-params\">new</span> <span class=\"code-params\">g</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>,e,t</span>);<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeRequestReaders</span>.<span class=\"code-params\">push</span>(<span class=\"code-params\">r</span>),<span class=\"code-params\">r</span>}<span class=\"code-params\">cancelAllRequests</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">_fullRequestReader</span>.<span class=\"code-params\">cancel</span>(<span class=\"code-params\">e</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeRequestReaders</span>.<span class=\"code-params\">slice</span>(<span class=\"code-params\"><span class=\"code-number\">0</span></span>).<span class=\"code-params\">forEach</span>(<span class=\"code-params\">(<span class=\"code-keyword\">function</span>(t</span>){<span class=\"code-params\">t</span>.<span class=\"code-params\">cancel</span>(<span class=\"code-params\">e</span>)}))}};<span class=\"code-params\">class</span> <span class=\"code-params\">h</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_url</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">url</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_done</span>=!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">_storedError</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">onProgress</span>=<span class=\"code-params\">null</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">source</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">_contentLength</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">length</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_loaded</span>=0,<span class=\"code-params\">this</span>.<span class=\"code-params\">_filename</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_disableRange</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">disableRange</span>||!1,<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeChunkSize</span>=<span class=\"code-params\">t</span>.<span class=\"code-params\">rangeChunkSize</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_rangeChunkSize</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_disableRange</span>||(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._disableRange=!<span class=\"code-number\">0</span></span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_isStreamingSupported</span>=!<span class=\"code-params\">t</span>.<span class=\"code-params\">disableStream</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_isRangeSupported</span>=!<span class=\"code-params\">t</span>.<span class=\"code-params\">disableRange</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_readableStream</span>=<span class=\"code-params\">null</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_readCapability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_headersCapability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">headersReady</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_headersCapability</span>.<span class=\"code-params\">promise</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">filename</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_filename</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">contentLength</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_contentLength</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">isRangeSupported</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_isRangeSupported</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">isStreamingSupported</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_isStreamingSupported</span>}<span class=\"code-params\">async</span> <span class=\"code-params\">read</span><span class=\"code-params\">()</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">await</span> <span class=\"code-keyword\">this</span>._readCapability.promise,<span class=\"code-keyword\">this</span>._done</span>)<span class=\"code-params\">return</span>{<span class=\"code-params\">value</span>:<span class=\"code-params\">void</span> 0,<span class=\"code-params\">done</span>:!0};<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._storedError</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_storedError</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_readableStream</span>.<span class=\"code-params\">read</span><span class=\"code-params\">()</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>===e</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_readCapability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">read</span><span class=\"code-params\">()</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">_loaded</span>+=<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">onProgress</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">onProgress</span>(<span class=\"code-params\">{loaded:<span class=\"code-keyword\">this</span>._loaded,total:<span class=\"code-keyword\">this</span>._contentLength}</span>);<span class=\"code-params\">return</span>{<span class=\"code-params\">value</span>:<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">e</span>).<span class=\"code-params\">buffer</span>,<span class=\"code-params\">done</span>:!1}}<span class=\"code-params\">cancel</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_readableStream</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">_readableStream</span>.<span class=\"code-params\">destroy</span>(<span class=\"code-params\">e</span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">_error</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">_error</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_storedError</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_readCapability</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>}<span class=\"code-params\">_setReadableStream</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_readableStream</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">on</span>(<span class=\"code-params\"><span class=\"code-string\">\"readable\"</span>,(</span>)=&gt;</span>{<span class=\"code-keyword\">this</span>._readCapability.resolve()}),e.on(<span class=\"code-string\">\"end\"</span>,()=&gt;{e.destroy(),<span class=\"code-keyword\">this</span>._done=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._readCapability.resolve()}),e.on(<span class=\"code-string\">\"error\"</span>,e=&gt;{<span class=\"code-keyword\">this</span>._error(e)}),!<span class=\"code-keyword\">this</span>._isStreamingSupported&amp;&amp;<span class=\"code-keyword\">this</span>._isRangeSupported&amp;&amp;<span class=\"code-keyword\">this</span>._error(<span class=\"code-keyword\">new</span> s.AbortException(<span class=\"code-string\">\"streaming is disabled\"</span>)),<span class=\"code-keyword\">this</span>._storedError&amp;&amp;<span class=\"code-keyword\">this</span>._readableStream.destroy(<span class=\"code-keyword\">this</span>._storedError)}}<span class=\"code-class\"><span class=\"code-keyword\">class</span> <span class=\"code-title\">d</span></span>{<span class=\"code-keyword\">constructor</span>(e){<span class=\"code-keyword\">this</span>._url=e.url,<span class=\"code-keyword\">this</span>._done=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._storedError=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.onProgress=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._loaded=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._readableStream=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._readCapability=<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">t</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">source</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">_isStreamingSupported</span>=!<span class=\"code-params\">t</span>.<span class=\"code-params\">disableStream</span>}<span class=\"code-params\">get</span> <span class=\"code-params\">isStreamingSupported</span><span class=\"code-params\">()</span>{<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_isStreamingSupported</span>}<span class=\"code-params\">async</span> <span class=\"code-params\">read</span><span class=\"code-params\">()</span>{<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">await</span> <span class=\"code-keyword\">this</span>._readCapability.promise,<span class=\"code-keyword\">this</span>._done</span>)<span class=\"code-params\">return</span>{<span class=\"code-params\">value</span>:<span class=\"code-params\">void</span> 0,<span class=\"code-params\">done</span>:!0};<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._storedError</span>)<span class=\"code-params\">throw</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_storedError</span>;<span class=\"code-params\">const</span> <span class=\"code-params\">e</span>=<span class=\"code-params\">this</span>.<span class=\"code-params\">_readableStream</span>.<span class=\"code-params\">read</span><span class=\"code-params\">()</span>;<span class=\"code-params\">if</span>(<span class=\"code-params\"><span class=\"code-literal\">null</span>===e</span>)<span class=\"code-params\">return</span> <span class=\"code-params\">this</span>.<span class=\"code-params\">_readCapability</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,s.createPromiseCapability</span>)<span class=\"code-params\">()</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">read</span><span class=\"code-params\">()</span>;<span class=\"code-params\">this</span>.<span class=\"code-params\">_loaded</span>+=<span class=\"code-params\">e</span>.<span class=\"code-params\">length</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">onProgress</span>&amp;&amp;<span class=\"code-params\">this</span>.<span class=\"code-params\">onProgress</span>(<span class=\"code-params\">{loaded:<span class=\"code-keyword\">this</span>._loaded}</span>);<span class=\"code-params\">return</span>{<span class=\"code-params\">value</span>:<span class=\"code-params\">new</span> <span class=\"code-params\">Uint8Array</span>(<span class=\"code-params\">e</span>).<span class=\"code-params\">buffer</span>,<span class=\"code-params\">done</span>:!1}}<span class=\"code-params\">cancel</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_readableStream</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">_readableStream</span>.<span class=\"code-params\">destroy</span>(<span class=\"code-params\">e</span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">_error</span>(<span class=\"code-params\">e</span>)}<span class=\"code-params\">_error</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_storedError</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_readCapability</span>.<span class=\"code-params\">resolve</span><span class=\"code-params\">()</span>}<span class=\"code-params\">_setReadableStream</span>(<span class=\"code-params\">e</span>){<span class=\"code-params\">this</span>.<span class=\"code-params\">_readableStream</span>=<span class=\"code-params\">e</span>,<span class=\"code-params\">e</span>.<span class=\"code-params\">on</span>(<span class=\"code-params\"><span class=\"code-string\">\"readable\"</span>,(</span>)=&gt;</span>{<span class=\"code-keyword\">this</span>._readCapability.resolve()}),e.on(<span class=\"code-string\">\"end\"</span>,()=&gt;{e.destroy(),<span class=\"code-keyword\">this</span>._done=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._readCapability.resolve()}),e.on(<span class=\"code-string\">\"error\"</span>,e=&gt;{<span class=\"code-keyword\">this</span>._error(e)}),<span class=\"code-keyword\">this</span>._storedError&amp;&amp;<span class=\"code-keyword\">this</span>._readableStream.destroy(<span class=\"code-keyword\">this</span>._storedError)}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">u</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">protocol</span>:e.protocol,<span class=\"code-attr\">auth</span>:e.auth,<span class=\"code-attr\">host</span>:e.hostname,<span class=\"code-attr\">port</span>:e.port,<span class=\"code-attr\">path</span>:e.path,<span class=\"code-attr\">method</span>:<span class=\"code-string\">\"GET\"</span>,<span class=\"code-attr\">headers</span>:t}}<span class=\"code-class\"><span class=\"code-keyword\">class</span> <span class=\"code-title\">p</span> <span class=\"code-keyword\">extends</span> <span class=\"code-title\">h</span></span>{<span class=\"code-keyword\">constructor</span>(e){<span class=\"code-keyword\">super</span>(e);<span class=\"code-keyword\">const</span> t=<span class=\"code-function\"><span class=\"code-params\">t</span>=&gt;</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">404</span>===t.statusCode){<span class=\"code-keyword\">const</span> e=<span class=\"code-keyword\">new</span> s.MissingPDFException(<span class=\"code-string\">`Missing PDF \"<span class=\"code-subst\">${<span class=\"code-keyword\">this</span>._url}</span>\".`</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._storedError=e,<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>._headersCapability.reject(e)}<span class=\"code-keyword\">this</span>._headersCapability.resolve(),<span class=\"code-keyword\">this</span>._setReadableStream(t);<span class=\"code-keyword\">const</span> r=<span class=\"code-function\"><span class=\"code-params\">e</span>=&gt;</span><span class=\"code-keyword\">this</span>._readableStream.headers[e.toLowerCase()],{<span class=\"code-attr\">allowRangeRequests</span>:i,<span class=\"code-attr\">suggestedLength</span>:a}=<span class=\"code-function\">(<span class=\"code-params\"><span class=\"code-number\">0</span>,n.validateRangeRequestCapabilities</span>)(<span class=\"code-params\">{getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:<span class=\"code-keyword\">this</span>._rangeChunkSize,disableRange:<span class=\"code-keyword\">this</span>._disableRange}</span>);<span class=\"code-params\">this</span>.<span class=\"code-params\">_isRangeSupported</span>=<span class=\"code-params\">i</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_contentLength</span>=<span class=\"code-params\">a</span>||<span class=\"code-params\">this</span>.<span class=\"code-params\">_contentLength</span>,<span class=\"code-params\">this</span>.<span class=\"code-params\">_filename</span>=(<span class=\"code-params\"><span class=\"code-number\">0</span>,n.extractFilenameFromHeader</span>)(<span class=\"code-params\">r</span>)};<span class=\"code-params\">this</span>.<span class=\"code-params\">_request</span>=<span class=\"code-params\">null</span>,\"<span class=\"code-params\">http</span>:\"===<span class=\"code-params\">this</span>.<span class=\"code-params\">_url</span>.<span class=\"code-params\">protocol</span>?<span class=\"code-params\">this</span>.<span class=\"code-params\">_request</span>=<span class=\"code-params\">a</span>.<span class=\"code-params\">request</span>(<span class=\"code-params\">u(<span class=\"code-keyword\">this</span>._url,e.httpHeaders</span>),<span class=\"code-params\">t</span>):<span class=\"code-params\">this</span>.<span class=\"code-params\">_request</span>=<span class=\"code-params\">o</span>.<span class=\"code-params\">request</span>(<span class=\"code-params\">u(<span class=\"code-keyword\">this</span>._url,e.httpHeaders</span>),<span class=\"code-params\">t</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_request</span>.<span class=\"code-params\">on</span>(<span class=\"code-params\"><span class=\"code-string\">\"error\"</span>,e=&gt;{<span class=\"code-keyword\">this</span>._storedError=e,<span class=\"code-keyword\">this</span>._headersCapability.reject(e</span>)}),<span class=\"code-params\">this</span>.<span class=\"code-params\">_request</span>.<span class=\"code-params\">end</span><span class=\"code-params\">()</span>}}<span class=\"code-params\">class</span> <span class=\"code-params\">g</span> <span class=\"code-params\">extends</span> <span class=\"code-params\">d</span>{<span class=\"code-params\">constructor</span>(<span class=\"code-params\">e,t,r</span>){<span class=\"code-params\">super</span>(<span class=\"code-params\">e</span>),<span class=\"code-params\">this</span>.<span class=\"code-params\">_httpHeaders</span>={};<span class=\"code-params\">for</span>(<span class=\"code-params\"><span class=\"code-keyword\">const</span> t <span class=\"code-keyword\">in</span> e.httpHeaders</span>){<span class=\"code-params\">const</span> <span class=\"code-params\">r</span>=<span class=\"code-params\">e</span>.<span class=\"code-params\">httpHeaders</span>[<span class=\"code-params\">t</span>];<span class=\"code-params\">void</span> 0!==<span class=\"code-params\">r</span>&amp;&amp;(<span class=\"code-params\"><span class=\"code-keyword\">this</span>._httpHeaders[t]=r</span>)}<span class=\"code-params\">this</span>.<span class=\"code-params\">_httpHeaders</span>.<span class=\"code-params\">Range</span>=`<span class=\"code-params\">bytes</span>=<span class=\"code-params\">$</span>{<span class=\"code-params\">t</span>}-<span class=\"code-params\">$</span>{<span class=\"code-params\">r</span>-1}`;<span class=\"code-params\">const</span> <span class=\"code-params\">n</span>=<span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">404</span>!==e.statusCode)<span class=\"code-keyword\">this</span>._setReadableStream(e);<span class=\"code-keyword\">else</span>{<span class=\"code-keyword\">const</span> e=<span class=\"code-keyword\">new</span> s.MissingPDFException(<span class=\"code-string\">`Missing PDF \"<span class=\"code-subst\">${<span class=\"code-keyword\">this</span>._url}</span>\".`</span>);<span class=\"code-keyword\">this</span>._storedError=e}};<span class=\"code-keyword\">this</span>._request=<span class=\"code-literal\">null</span>,<span class=\"code-string\">\"http:\"</span>===<span class=\"code-keyword\">this</span>._url.protocol?<span class=\"code-keyword\">this</span>._request=a.request(u(<span class=\"code-keyword\">this</span>._url,<span class=\"code-keyword\">this</span>._httpHeaders),n):<span class=\"code-keyword\">this</span>._request=o.request(u(<span class=\"code-keyword\">this</span>._url,<span class=\"code-keyword\">this</span>._httpHeaders),n),<span class=\"code-keyword\">this</span>._request.on(<span class=\"code-string\">\"error\"</span>,e=&gt;{<span class=\"code-keyword\">this</span>._storedError=e}),<span class=\"code-keyword\">this</span>._request.end()}}<span class=\"code-class\"><span class=\"code-keyword\">class</span> <span class=\"code-title\">f</span> <span class=\"code-keyword\">extends</span> <span class=\"code-title\">h</span></span>{<span class=\"code-keyword\">constructor</span>(e){<span class=\"code-keyword\">super</span>(e);<span class=\"code-keyword\">let</span> t=<span class=\"code-built_in\">decodeURIComponent</span>(<span class=\"code-keyword\">this</span>._url.path);c.test(<span class=\"code-keyword\">this</span>._url.href)&amp;&amp;<span class=\"code-function\">(<span class=\"code-params\">t=t.replace(<span class=\"code-regexp\">/^\\//</span>,<span class=\"code-string\">\"\"</span></span>)),<span class=\"code-params\">i</span>.<span class=\"code-params\">lstat</span>(<span class=\"code-params\">t,(e,r</span>)=&gt;</span>{<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">return</span><span class=\"code-string\">\"ENOENT\"</span>===e.code&amp;&amp;(e=<span class=\"code-keyword\">new</span> s.MissingPDFException(<span class=\"code-string\">`Missing PDF \"<span class=\"code-subst\">${t}</span>\".`</span>)),<span class=\"code-keyword\">this</span>._storedError=e,<span class=\"code-keyword\">void</span> <span class=\"code-keyword\">this</span>._headersCapability.reject(e);<span class=\"code-keyword\">this</span>._contentLength=r.size,<span class=\"code-keyword\">this</span>._setReadableStream(i.createReadStream(t)),<span class=\"code-keyword\">this</span>._headersCapability.resolve()})}}<span class=\"code-class\"><span class=\"code-keyword\">class</span> <span class=\"code-title\">m</span> <span class=\"code-keyword\">extends</span> <span class=\"code-title\">d</span></span>{<span class=\"code-keyword\">constructor</span>(e,t,r){<span class=\"code-keyword\">super</span>(e);<span class=\"code-keyword\">let</span> s=<span class=\"code-built_in\">decodeURIComponent</span>(<span class=\"code-keyword\">this</span>._url.path);c.test(<span class=\"code-keyword\">this</span>._url.href)&amp;&amp;(s=s.replace(<span class=\"code-regexp\">/^\\//</span>,<span class=\"code-string\">\"\"</span>)),<span class=\"code-keyword\">this</span>._setReadableStream(i.createReadStream(s,{<span class=\"code-attr\">start</span>:t,<span class=\"code-attr\">end</span>:r<span class=\"code-number\">-1</span>}))}}},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,r</span>)</span>{<span class=\"code-string\">\"use strict\"</span>;<span class=\"code-built_in\">Object</span>.defineProperty(t,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),t.createResponseStatusError=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-number\">404</span>===e||<span class=\"code-number\">0</span>===e&amp;&amp;t.startsWith(<span class=\"code-string\">\"file:\"</span>))<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> s.MissingPDFException(<span class=\"code-string\">'Missing PDF \"'</span>+t+<span class=\"code-string\">'\".'</span>);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> s.UnexpectedResponseException(<span class=\"code-string\">\"Unexpected server response (\"</span>+e+<span class=\"code-string\">') while retrieving PDF \"'</span>+t+<span class=\"code-string\">'\".'</span>,e)},t.extractFilenameFromHeader=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">const</span> t=e(<span class=\"code-string\">\"Content-Disposition\"</span>);<span class=\"code-keyword\">if</span>(t){<span class=\"code-keyword\">let</span> e=(<span class=\"code-number\">0</span>,n.getFilenameFromContentDispositionHeader)(t);<span class=\"code-keyword\">if</span>(e.includes(<span class=\"code-string\">\"%\"</span>))<span class=\"code-keyword\">try</span>{e=<span class=\"code-built_in\">decodeURIComponent</span>(e)}<span class=\"code-keyword\">catch</span>(e){}<span class=\"code-keyword\">if</span>(<span class=\"code-regexp\">/\\.pdf$/i</span>.test(e))<span class=\"code-keyword\">return</span> e}<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>},t.validateRangeRequestCapabilities=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">{getResponseHeader:e,isHttp:t,rangeChunkSize:r,disableRange:n}</span>)</span>{(<span class=\"code-number\">0</span>,s.assert)(r&gt;<span class=\"code-number\">0</span>,<span class=\"code-string\">\"Range chunk size must be larger than zero\"</span>);<span class=\"code-keyword\">const</span> i={<span class=\"code-attr\">allowRangeRequests</span>:!<span class=\"code-number\">1</span>,<span class=\"code-attr\">suggestedLength</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>},a=<span class=\"code-built_in\">parseInt</span>(e(<span class=\"code-string\">\"Content-Length\"</span>),<span class=\"code-number\">10</span>);<span class=\"code-keyword\">if</span>(!<span class=\"code-built_in\">Number</span>.isInteger(a))<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">if</span>(i.suggestedLength=a,a&lt;=<span class=\"code-number\">2</span>*r)<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">if</span>(n||!t)<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"bytes\"</span>!==e(<span class=\"code-string\">\"Accept-Ranges\"</span>))<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"identity\"</span>!==(e(<span class=\"code-string\">\"Content-Encoding\"</span>)||<span class=\"code-string\">\"identity\"</span>))<span class=\"code-keyword\">return</span> i;<span class=\"code-keyword\">return</span> i.allowRangeRequests=!<span class=\"code-number\">0</span>,i},t.validateResponseStatus=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">200</span>===e||<span class=\"code-number\">206</span>===e};<span class=\"code-keyword\">var</span> s=r(<span class=\"code-number\">2</span>),n=r(<span class=\"code-number\">21</span>)},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,r</span>)</span>{<span class=\"code-string\">\"use strict\"</span>;<span class=\"code-built_in\">Object</span>.defineProperty(t,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),t.getFilenameFromContentDispositionHeader=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">let</span> t=!<span class=\"code-number\">0</span>,r=s(<span class=\"code-string\">\"filename\\\\*\"</span>,<span class=\"code-string\">\"i\"</span>).exec(e);<span class=\"code-keyword\">if</span>(r){r=r[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">let</span> e=a(r);<span class=\"code-keyword\">return</span> e=<span class=\"code-built_in\">unescape</span>(e),e=o(e),e=l(e),i(e)}<span class=\"code-keyword\">if</span>(r=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">const</span> t=[];<span class=\"code-keyword\">let</span> r;<span class=\"code-keyword\">const</span> n=s(<span class=\"code-string\">\"filename\\\\*((?!0\\\\d)\\\\d+)(\\\\*?)\"</span>,<span class=\"code-string\">\"ig\"</span>);<span class=\"code-keyword\">for</span>(;<span class=\"code-literal\">null</span>!==(r=n.exec(e));){<span class=\"code-keyword\">let</span>[,e,s,n]=r;<span class=\"code-keyword\">if</span>(e=<span class=\"code-built_in\">parseInt</span>(e,<span class=\"code-number\">10</span>),e <span class=\"code-keyword\">in</span> t){<span class=\"code-keyword\">if</span>(<span class=\"code-number\">0</span>===e)<span class=\"code-keyword\">break</span>}<span class=\"code-keyword\">else</span> t[e]=[s,n]}<span class=\"code-keyword\">const</span> i=[];<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>;e&lt;t.length&amp;&amp;e <span class=\"code-keyword\">in</span> t;++e){<span class=\"code-keyword\">let</span>[r,s]=t[e];s=a(s),r&amp;&amp;(s=<span class=\"code-built_in\">unescape</span>(s),<span class=\"code-number\">0</span>===e&amp;&amp;(s=o(s))),i.push(s)}<span class=\"code-keyword\">return</span> i.join(<span class=\"code-string\">\"\"</span>)}(e),r){<span class=\"code-keyword\">return</span> i(l(r))}<span class=\"code-keyword\">if</span>(r=s(<span class=\"code-string\">\"filename\"</span>,<span class=\"code-string\">\"i\"</span>).exec(e),r){r=r[<span class=\"code-number\">1</span>];<span class=\"code-keyword\">let</span> e=a(r);<span class=\"code-keyword\">return</span> e=l(e),i(e)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">s</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> <span class=\"code-built_in\">RegExp</span>(<span class=\"code-string\">\"(?:^|;)\\\\s*\"</span>+e+<span class=\"code-string\">'\\\\s*=\\\\s*([^\";\\\\s][^;\\\\s]*|\"(?:[^\"\\\\\\\\]|\\\\\\\\\"?)+\"?)'</span>,t)}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">n</span>(<span class=\"code-params\">e,r</span>)</span>{<span class=\"code-keyword\">if</span>(e){<span class=\"code-keyword\">if</span>(!<span class=\"code-regexp\">/^[\\x00-\\xFF]+$/</span>.test(r))<span class=\"code-keyword\">return</span> r;<span class=\"code-keyword\">try</span>{<span class=\"code-keyword\">const</span> s=<span class=\"code-keyword\">new</span> TextDecoder(e,{<span class=\"code-attr\">fatal</span>:!<span class=\"code-number\">0</span>}),n=<span class=\"code-built_in\">Array</span>.from(r,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-number\">255</span>&amp;e.charCodeAt(<span class=\"code-number\">0</span>)}));r=s.decode(<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(n)),t=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">catch</span>(s){<span class=\"code-keyword\">if</span>(<span class=\"code-regexp\">/^utf-?8$/i</span>.test(e))<span class=\"code-keyword\">try</span>{r=<span class=\"code-built_in\">decodeURIComponent</span>(<span class=\"code-built_in\">escape</span>(r)),t=!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">catch</span>(e){}}}<span class=\"code-keyword\">return</span> r}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span> t&amp;&amp;<span class=\"code-regexp\">/[\\x80-\\xff]/</span>.test(e)&amp;&amp;(e=n(<span class=\"code-string\">\"utf-8\"</span>,e),t&amp;&amp;(e=n(<span class=\"code-string\">\"iso-8859-1\"</span>,e))),e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">if</span>(e.startsWith(<span class=\"code-string\">'\"'</span>)){<span class=\"code-keyword\">const</span> t=e.slice(<span class=\"code-number\">1</span>).split(<span class=\"code-string\">'\\\\\"'</span>);<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">let</span> e=<span class=\"code-number\">0</span>;e&lt;t.length;++e){<span class=\"code-keyword\">const</span> r=t[e].indexOf(<span class=\"code-string\">'\"'</span>);<span class=\"code-number\">-1</span>!==r&amp;&amp;(t[e]=t[e].slice(<span class=\"code-number\">0</span>,r),t.length=e+<span class=\"code-number\">1</span>),t[e]=t[e].replace(<span class=\"code-regexp\">/\\\\(.)/g</span>,<span class=\"code-string\">\"$1\"</span>)}e=t.join(<span class=\"code-string\">'\"'</span>)}<span class=\"code-keyword\">return</span> e}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">o</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">const</span> t=e.indexOf(<span class=\"code-string\">\"'\"</span>);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">-1</span>===t)<span class=\"code-keyword\">return</span> e;<span class=\"code-keyword\">return</span> n(e.slice(<span class=\"code-number\">0</span>,t),e.slice(t+<span class=\"code-number\">1</span>).replace(<span class=\"code-regexp\">/^[^']*'/</span>,<span class=\"code-string\">\"\"</span>))}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">l</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">return</span>!e.startsWith(<span class=\"code-string\">\"=?\"</span>)||<span class=\"code-regexp\">/[\\x00-\\x19\\x80-\\xff]/</span>.test(e)?e:e.replace(<span class=\"code-regexp\">/=\\?([\\w-]*)\\?([QqBb])\\?((?:[^?]|\\?(?!=))*)\\?=/g</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,r,s</span>)</span>{<span class=\"code-keyword\">if</span>(<span class=\"code-string\">\"q\"</span>===r||<span class=\"code-string\">\"Q\"</span>===r)<span class=\"code-keyword\">return</span> n(t,s=(s=s.replace(<span class=\"code-regexp\">/_/g</span>,<span class=\"code-string\">\" \"</span>)).replace(<span class=\"code-regexp\">/=([0-9a-fA-F]{2})/g</span>,(<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t</span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-built_in\">String</span>.fromCharCode(<span class=\"code-built_in\">parseInt</span>(t,<span class=\"code-number\">16</span>))})));<span class=\"code-keyword\">try</span>{s=atob(s)}<span class=\"code-keyword\">catch</span>(e){}<span class=\"code-keyword\">return</span> n(t,s)}))}<span class=\"code-keyword\">return</span><span class=\"code-string\">\"\"</span>}},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,r</span>)</span>{<span class=\"code-string\">\"use strict\"</span>;<span class=\"code-built_in\">Object</span>.defineProperty(t,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),t.PDFNetworkStream=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> s=r(<span class=\"code-number\">2</span>),n=r(<span class=\"code-number\">20</span>);<span class=\"code-class\"><span class=\"code-keyword\">class</span> <span class=\"code-title\">i</span></span>{<span class=\"code-keyword\">constructor</span>(e,t){<span class=\"code-keyword\">this</span>.url=e,t=t||{},<span class=\"code-keyword\">this</span>.isHttp=<span class=\"code-regexp\">/^https?:/i</span>.test(e),<span class=\"code-keyword\">this</span>.httpHeaders=<span class=\"code-keyword\">this</span>.isHttp&amp;&amp;t.httpHeaders||{},<span class=\"code-keyword\">this</span>.withCredentials=t.withCredentials||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.getXhr=t.getXhr||<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\"></span>)</span>{<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">new</span> XMLHttpRequest},<span class=\"code-keyword\">this</span>.currXhrId=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>.pendingRequests=<span class=\"code-built_in\">Object</span>.create(<span class=\"code-literal\">null</span>)}requestRange(e,t,r){<span class=\"code-keyword\">const</span> s={<span class=\"code-attr\">begin</span>:e,<span class=\"code-attr\">end</span>:t};<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">in</span> r)s[e]=r[e];<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.request(s)}requestFull(e){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.request(e)}request(e){<span class=\"code-keyword\">const</span> t=<span class=\"code-keyword\">this</span>.getXhr(),r=<span class=\"code-keyword\">this</span>.currXhrId++,s=<span class=\"code-keyword\">this</span>.pendingRequests[r]={<span class=\"code-attr\">xhr</span>:t};t.open(<span class=\"code-string\">\"GET\"</span>,<span class=\"code-keyword\">this</span>.url),t.withCredentials=<span class=\"code-keyword\">this</span>.withCredentials;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.httpHeaders){<span class=\"code-keyword\">const</span> r=<span class=\"code-keyword\">this</span>.httpHeaders[e];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==r&amp;&amp;t.setRequestHeader(e,r)}<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.isHttp&amp;&amp;<span class=\"code-string\">\"begin\"</span><span class=\"code-keyword\">in</span> e&amp;&amp;<span class=\"code-string\">\"end\"</span><span class=\"code-keyword\">in</span> e?(t.setRequestHeader(<span class=\"code-string\">\"Range\"</span>,<span class=\"code-string\">`bytes=<span class=\"code-subst\">${e.begin}</span>-<span class=\"code-subst\">${e.end<span class=\"code-number\">-1</span>}</span>`</span>),s.expectedStatus=<span class=\"code-number\">206</span>):s.expectedStatus=<span class=\"code-number\">200</span>,t.responseType=<span class=\"code-string\">\"arraybuffer\"</span>,e.onError&amp;&amp;(t.onerror=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">r</span>)</span>{e.onError(t.status)}),t.onreadystatechange=<span class=\"code-keyword\">this</span>.onStateChange.bind(<span class=\"code-keyword\">this</span>,r),t.onprogress=<span class=\"code-keyword\">this</span>.onProgress.bind(<span class=\"code-keyword\">this</span>,r),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(<span class=\"code-literal\">null</span>),r}onProgress(e,t){<span class=\"code-keyword\">const</span> r=<span class=\"code-keyword\">this</span>.pendingRequests[e];r&amp;&amp;r.onProgress&amp;&amp;r.onProgress(t)}onStateChange(e,t){<span class=\"code-keyword\">const</span> r=<span class=\"code-keyword\">this</span>.pendingRequests[e];<span class=\"code-keyword\">if</span>(!r)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">const</span> n=r.xhr;<span class=\"code-keyword\">if</span>(n.readyState&gt;=<span class=\"code-number\">2</span>&amp;&amp;r.onHeadersReceived&amp;&amp;(r.onHeadersReceived(),<span class=\"code-keyword\">delete</span> r.onHeadersReceived),<span class=\"code-number\">4</span>!==n.readyState)<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(!(e <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.pendingRequests))<span class=\"code-keyword\">return</span>;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.pendingRequests[e],<span class=\"code-number\">0</span>===n.status&amp;&amp;<span class=\"code-keyword\">this</span>.isHttp)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span>(r.onError&amp;&amp;r.onError(n.status));<span class=\"code-keyword\">const</span> i=n.status||<span class=\"code-number\">200</span>;<span class=\"code-keyword\">if</span>(!(<span class=\"code-number\">200</span>===i&amp;&amp;<span class=\"code-number\">206</span>===r.expectedStatus)&amp;&amp;i!==r.expectedStatus)<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">void</span>(r.onError&amp;&amp;r.onError(n.status));<span class=\"code-keyword\">const</span> a=<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">const</span> t=e.response;<span class=\"code-keyword\">return</span><span class=\"code-string\">\"string\"</span>!=<span class=\"code-keyword\">typeof</span> t?t:(<span class=\"code-number\">0</span>,s.stringToBytes)(t).buffer}(n);<span class=\"code-keyword\">if</span>(<span class=\"code-number\">206</span>===i){<span class=\"code-keyword\">const</span> e=n.getResponseHeader(<span class=\"code-string\">\"Content-Range\"</span>),t=<span class=\"code-regexp\">/bytes (\\d+)-(\\d+)\\/(\\d+)/</span>.exec(e);r.onDone({<span class=\"code-attr\">begin</span>:<span class=\"code-built_in\">parseInt</span>(t[<span class=\"code-number\">1</span>],<span class=\"code-number\">10</span>),<span class=\"code-attr\">chunk</span>:a})}<span class=\"code-keyword\">else</span> a?r.onDone({<span class=\"code-attr\">begin</span>:<span class=\"code-number\">0</span>,<span class=\"code-attr\">chunk</span>:a}):r.onError&amp;&amp;r.onError(n.status)}hasPendingRequests(){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.pendingRequests)<span class=\"code-keyword\">return</span>!<span class=\"code-number\">0</span>;<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}getRequestXhr(e){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>.pendingRequests[e].xhr}isPendingRequest(e){<span class=\"code-keyword\">return</span> e <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.pendingRequests}abortAllRequests(){<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">const</span> e <span class=\"code-keyword\">in</span> <span class=\"code-keyword\">this</span>.pendingRequests)<span class=\"code-keyword\">this</span>.abortRequest(<span class=\"code-number\">0</span>|e)}abortRequest(e){<span class=\"code-keyword\">const</span> t=<span class=\"code-keyword\">this</span>.pendingRequests[e].xhr;<span class=\"code-keyword\">delete</span> <span class=\"code-keyword\">this</span>.pendingRequests[e],t.abort()}}t.PDFNetworkStream=<span class=\"code-class\"><span class=\"code-keyword\">class</span></span>{<span class=\"code-keyword\">constructor</span>(e){<span class=\"code-keyword\">this</span>._source=e,<span class=\"code-keyword\">this</span>._manager=<span class=\"code-keyword\">new</span> i(e.url,{<span class=\"code-attr\">httpHeaders</span>:e.httpHeaders,<span class=\"code-attr\">withCredentials</span>:e.withCredentials}),<span class=\"code-keyword\">this</span>._rangeChunkSize=e.rangeChunkSize,<span class=\"code-keyword\">this</span>._fullRequestReader=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){<span class=\"code-keyword\">const</span> t=<span class=\"code-keyword\">this</span>._rangeRequestReaders.indexOf(e);t&gt;=<span class=\"code-number\">0</span>&amp;&amp;<span class=\"code-keyword\">this</span>._rangeRequestReaders.splice(t,<span class=\"code-number\">1</span>)}getFullReader(){<span class=\"code-keyword\">return</span>(<span class=\"code-number\">0</span>,s.assert)(!<span class=\"code-keyword\">this</span>._fullRequestReader,<span class=\"code-string\">\"PDFNetworkStream.getFullReader can only be called once.\"</span>),<span class=\"code-keyword\">this</span>._fullRequestReader=<span class=\"code-keyword\">new</span> a(<span class=\"code-keyword\">this</span>._manager,<span class=\"code-keyword\">this</span>._source),<span class=\"code-keyword\">this</span>._fullRequestReader}getRangeReader(e,t){<span class=\"code-keyword\">const</span> r=<span class=\"code-keyword\">new</span> o(<span class=\"code-keyword\">this</span>._manager,e,t);<span class=\"code-keyword\">return</span> r.onClosed=<span class=\"code-keyword\">this</span>._onRangeRequestReaderClosed.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>._rangeRequestReaders.push(r),r}cancelAllRequests(e){<span class=\"code-keyword\">this</span>._fullRequestReader&amp;&amp;<span class=\"code-keyword\">this</span>._fullRequestReader.cancel(e);<span class=\"code-keyword\">this</span>._rangeRequestReaders.slice(<span class=\"code-number\">0</span>).forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.cancel(e)}))}};<span class=\"code-class\"><span class=\"code-keyword\">class</span> <span class=\"code-title\">a</span></span>{<span class=\"code-keyword\">constructor</span>(e,t){<span class=\"code-keyword\">this</span>._manager=e;<span class=\"code-keyword\">const</span> r={<span class=\"code-attr\">onHeadersReceived</span>:<span class=\"code-keyword\">this</span>._onHeadersReceived.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">onDone</span>:<span class=\"code-keyword\">this</span>._onDone.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">onError</span>:<span class=\"code-keyword\">this</span>._onError.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">onProgress</span>:<span class=\"code-keyword\">this</span>._onProgress.bind(<span class=\"code-keyword\">this</span>)};<span class=\"code-keyword\">this</span>._url=t.url,<span class=\"code-keyword\">this</span>._fullRequestId=e.requestFull(r),<span class=\"code-keyword\">this</span>._headersReceivedCapability=(<span class=\"code-number\">0</span>,s.createPromiseCapability)(),<span class=\"code-keyword\">this</span>._disableRange=t.disableRange||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._contentLength=t.length,<span class=\"code-keyword\">this</span>._rangeChunkSize=t.rangeChunkSize,<span class=\"code-keyword\">this</span>._rangeChunkSize||<span class=\"code-keyword\">this</span>._disableRange||(<span class=\"code-keyword\">this</span>._disableRange=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>._isStreamingSupported=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._isRangeSupported=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._cachedChunks=[],<span class=\"code-keyword\">this</span>._requests=[],<span class=\"code-keyword\">this</span>._done=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._storedError=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._filename=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.onProgress=<span class=\"code-literal\">null</span>}_onHeadersReceived(){<span class=\"code-keyword\">const</span> e=<span class=\"code-keyword\">this</span>._fullRequestId,t=<span class=\"code-keyword\">this</span>._manager.getRequestXhr(e),r=<span class=\"code-function\"><span class=\"code-params\">e</span>=&gt;</span>t.getResponseHeader(e),{<span class=\"code-attr\">allowRangeRequests</span>:s,<span class=\"code-attr\">suggestedLength</span>:i}=(<span class=\"code-number\">0</span>,n.validateRangeRequestCapabilities)({<span class=\"code-attr\">getResponseHeader</span>:r,<span class=\"code-attr\">isHttp</span>:<span class=\"code-keyword\">this</span>._manager.isHttp,<span class=\"code-attr\">rangeChunkSize</span>:<span class=\"code-keyword\">this</span>._rangeChunkSize,<span class=\"code-attr\">disableRange</span>:<span class=\"code-keyword\">this</span>._disableRange});s&amp;&amp;(<span class=\"code-keyword\">this</span>._isRangeSupported=!<span class=\"code-number\">0</span>),<span class=\"code-keyword\">this</span>._contentLength=i||<span class=\"code-keyword\">this</span>._contentLength,<span class=\"code-keyword\">this</span>._filename=(<span class=\"code-number\">0</span>,n.extractFilenameFromHeader)(r),<span class=\"code-keyword\">this</span>._isRangeSupported&amp;&amp;<span class=\"code-keyword\">this</span>._manager.abortRequest(e),<span class=\"code-keyword\">this</span>._headersReceivedCapability.resolve()}_onDone(e){<span class=\"code-keyword\">if</span>(e)<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._requests.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">this</span>._requests.shift().resolve({<span class=\"code-attr\">value</span>:e.chunk,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">1</span>})}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>._cachedChunks.push(e.chunk);<span class=\"code-keyword\">this</span>._done=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._cachedChunks.length&gt;<span class=\"code-number\">0</span>||(<span class=\"code-keyword\">this</span>._requests.forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.resolve({<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">0</span>})})),<span class=\"code-keyword\">this</span>._requests=[])}_onError(e){<span class=\"code-keyword\">const</span> t=<span class=\"code-keyword\">this</span>._url,r=(<span class=\"code-number\">0</span>,n.createResponseStatusError)(e,t);<span class=\"code-keyword\">this</span>._storedError=r,<span class=\"code-keyword\">this</span>._headersReceivedCapability.reject(r),<span class=\"code-keyword\">this</span>._requests.forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.reject(r)})),<span class=\"code-keyword\">this</span>._requests=[],<span class=\"code-keyword\">this</span>._cachedChunks=[]}_onProgress(e){<span class=\"code-keyword\">this</span>.onProgress&amp;&amp;<span class=\"code-keyword\">this</span>.onProgress({<span class=\"code-attr\">loaded</span>:e.loaded,<span class=\"code-attr\">total</span>:e.lengthComputable?e.total:<span class=\"code-keyword\">this</span>._contentLength})}<span class=\"code-keyword\">get</span> filename(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._filename}<span class=\"code-keyword\">get</span> isRangeSupported(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._isRangeSupported}<span class=\"code-keyword\">get</span> isStreamingSupported(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._isStreamingSupported}<span class=\"code-keyword\">get</span> contentLength(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._contentLength}<span class=\"code-keyword\">get</span> headersReady(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._headersReceivedCapability.promise}<span class=\"code-keyword\">async</span> read(){<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._storedError)<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">this</span>._storedError;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._cachedChunks.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">this</span>._cachedChunks.shift(),<span class=\"code-attr\">done</span>:!<span class=\"code-number\">1</span>}}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._done)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">0</span>};<span class=\"code-keyword\">const</span> e=(<span class=\"code-number\">0</span>,s.createPromiseCapability)();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._requests.push(e),e.promise}cancel(e){<span class=\"code-keyword\">this</span>._done=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._headersReceivedCapability.reject(e),<span class=\"code-keyword\">this</span>._requests.forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.resolve({<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">0</span>})})),<span class=\"code-keyword\">this</span>._requests=[],<span class=\"code-keyword\">this</span>._manager.isPendingRequest(<span class=\"code-keyword\">this</span>._fullRequestId)&amp;&amp;<span class=\"code-keyword\">this</span>._manager.abortRequest(<span class=\"code-keyword\">this</span>._fullRequestId),<span class=\"code-keyword\">this</span>._fullRequestReader=<span class=\"code-literal\">null</span>}}<span class=\"code-class\"><span class=\"code-keyword\">class</span> <span class=\"code-title\">o</span></span>{<span class=\"code-keyword\">constructor</span>(e,t,r){<span class=\"code-keyword\">this</span>._manager=e;<span class=\"code-keyword\">const</span> s={<span class=\"code-attr\">onDone</span>:<span class=\"code-keyword\">this</span>._onDone.bind(<span class=\"code-keyword\">this</span>),<span class=\"code-attr\">onProgress</span>:<span class=\"code-keyword\">this</span>._onProgress.bind(<span class=\"code-keyword\">this</span>)};<span class=\"code-keyword\">this</span>._requestId=e.requestRange(t,r,s),<span class=\"code-keyword\">this</span>._requests=[],<span class=\"code-keyword\">this</span>._queuedChunk=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._done=!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>.onProgress=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>.onClosed=<span class=\"code-literal\">null</span>}_close(){<span class=\"code-keyword\">this</span>.onClosed&amp;&amp;<span class=\"code-keyword\">this</span>.onClosed(<span class=\"code-keyword\">this</span>)}_onDone(e){<span class=\"code-keyword\">const</span> t=e.chunk;<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._requests.length&gt;<span class=\"code-number\">0</span>){<span class=\"code-keyword\">this</span>._requests.shift().resolve({<span class=\"code-attr\">value</span>:t,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">1</span>})}<span class=\"code-keyword\">else</span> <span class=\"code-keyword\">this</span>._queuedChunk=t;<span class=\"code-keyword\">this</span>._done=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._requests.forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.resolve({<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">0</span>})})),<span class=\"code-keyword\">this</span>._requests=[],<span class=\"code-keyword\">this</span>._close()}_onProgress(e){!<span class=\"code-keyword\">this</span>.isStreamingSupported&amp;&amp;<span class=\"code-keyword\">this</span>.onProgress&amp;&amp;<span class=\"code-keyword\">this</span>.onProgress({<span class=\"code-attr\">loaded</span>:e.loaded})}<span class=\"code-keyword\">get</span> isStreamingSupported(){<span class=\"code-keyword\">return</span>!<span class=\"code-number\">1</span>}<span class=\"code-keyword\">async</span> read(){<span class=\"code-keyword\">if</span>(<span class=\"code-literal\">null</span>!==<span class=\"code-keyword\">this</span>._queuedChunk){<span class=\"code-keyword\">const</span> e=<span class=\"code-keyword\">this</span>._queuedChunk;<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._queuedChunk=<span class=\"code-literal\">null</span>,{<span class=\"code-attr\">value</span>:e,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">1</span>}}<span class=\"code-keyword\">if</span>(<span class=\"code-keyword\">this</span>._done)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">0</span>};<span class=\"code-keyword\">const</span> e=(<span class=\"code-number\">0</span>,s.createPromiseCapability)();<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._requests.push(e),e.promise}cancel(e){<span class=\"code-keyword\">this</span>._done=!<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._requests.forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e</span>)</span>{e.resolve({<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">0</span>})})),<span class=\"code-keyword\">this</span>._requests=[],<span class=\"code-keyword\">this</span>._manager.isPendingRequest(<span class=\"code-keyword\">this</span>._requestId)&amp;&amp;<span class=\"code-keyword\">this</span>._manager.abortRequest(<span class=\"code-keyword\">this</span>._requestId),<span class=\"code-keyword\">this</span>._close()}}},<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">e,t,r</span>)</span>{<span class=\"code-string\">\"use strict\"</span>;<span class=\"code-built_in\">Object</span>.defineProperty(t,<span class=\"code-string\">\"__esModule\"</span>,{<span class=\"code-attr\">value</span>:!<span class=\"code-number\">0</span>}),t.PDFFetchStream=<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>;<span class=\"code-keyword\">var</span> s=r(<span class=\"code-number\">2</span>),n=r(<span class=\"code-number\">20</span>);<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">i</span>(<span class=\"code-params\">e,t,r</span>)</span>{<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">method</span>:<span class=\"code-string\">\"GET\"</span>,<span class=\"code-attr\">headers</span>:e,<span class=\"code-attr\">signal</span>:r&amp;&amp;r.signal,<span class=\"code-attr\">mode</span>:<span class=\"code-string\">\"cors\"</span>,<span class=\"code-attr\">credentials</span>:t?<span class=\"code-string\">\"include\"</span>:<span class=\"code-string\">\"same-origin\"</span>,<span class=\"code-attr\">redirect</span>:<span class=\"code-string\">\"follow\"</span>}}<span class=\"code-function\"><span class=\"code-keyword\">function</span> <span class=\"code-title\">a</span>(<span class=\"code-params\">e</span>)</span>{<span class=\"code-keyword\">const</span> t=<span class=\"code-keyword\">new</span> Headers;<span class=\"code-keyword\">for</span>(<span class=\"code-keyword\">const</span> r <span class=\"code-keyword\">in</span> e){<span class=\"code-keyword\">const</span> s=e[r];<span class=\"code-keyword\">void</span> <span class=\"code-number\">0</span>!==s&amp;&amp;t.append(r,s)}<span class=\"code-keyword\">return</span> t}t.PDFFetchStream=<span class=\"code-class\"><span class=\"code-keyword\">class</span></span>{<span class=\"code-keyword\">constructor</span>(e){<span class=\"code-keyword\">this</span>.source=e,<span class=\"code-keyword\">this</span>.isHttp=<span class=\"code-regexp\">/^https?:/i</span>.test(e.url),<span class=\"code-keyword\">this</span>.httpHeaders=<span class=\"code-keyword\">this</span>.isHttp&amp;&amp;e.httpHeaders||{},<span class=\"code-keyword\">this</span>._fullRequestReader=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._rangeRequestReaders=[]}<span class=\"code-keyword\">get</span> _progressiveDataLength(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._fullRequestReader?<span class=\"code-keyword\">this</span>._fullRequestReader._loaded:<span class=\"code-number\">0</span>}getFullReader(){<span class=\"code-keyword\">return</span>(<span class=\"code-number\">0</span>,s.assert)(!<span class=\"code-keyword\">this</span>._fullRequestReader,<span class=\"code-string\">\"PDFFetchStream.getFullReader can only be called once.\"</span>),<span class=\"code-keyword\">this</span>._fullRequestReader=<span class=\"code-keyword\">new</span> o(<span class=\"code-keyword\">this</span>),<span class=\"code-keyword\">this</span>._fullRequestReader}getRangeReader(e,t){<span class=\"code-keyword\">if</span>(t&lt;=<span class=\"code-keyword\">this</span>._progressiveDataLength)<span class=\"code-keyword\">return</span> <span class=\"code-literal\">null</span>;<span class=\"code-keyword\">const</span> r=<span class=\"code-keyword\">new</span> l(<span class=\"code-keyword\">this</span>,e,t);<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._rangeRequestReaders.push(r),r}cancelAllRequests(e){<span class=\"code-keyword\">this</span>._fullRequestReader&amp;&amp;<span class=\"code-keyword\">this</span>._fullRequestReader.cancel(e);<span class=\"code-keyword\">this</span>._rangeRequestReaders.slice(<span class=\"code-number\">0</span>).forEach((<span class=\"code-function\"><span class=\"code-keyword\">function</span>(<span class=\"code-params\">t</span>)</span>{t.cancel(e)}))}};<span class=\"code-class\"><span class=\"code-keyword\">class</span> <span class=\"code-title\">o</span></span>{<span class=\"code-keyword\">constructor</span>(e){<span class=\"code-keyword\">this</span>._stream=e,<span class=\"code-keyword\">this</span>._reader=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._loaded=<span class=\"code-number\">0</span>,<span class=\"code-keyword\">this</span>._filename=<span class=\"code-literal\">null</span>;<span class=\"code-keyword\">const</span> t=e.source;<span class=\"code-keyword\">this</span>._withCredentials=t.withCredentials||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._contentLength=t.length,<span class=\"code-keyword\">this</span>._headersCapability=(<span class=\"code-number\">0</span>,s.createPromiseCapability)(),<span class=\"code-keyword\">this</span>._disableRange=t.disableRange||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._rangeChunkSize=t.rangeChunkSize,<span class=\"code-keyword\">this</span>._rangeChunkSize||<span class=\"code-keyword\">this</span>._disableRange||(<span class=\"code-keyword\">this</span>._disableRange=!<span class=\"code-number\">0</span>),<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> AbortController&amp;&amp;(<span class=\"code-keyword\">this</span>._abortController=<span class=\"code-keyword\">new</span> AbortController),<span class=\"code-keyword\">this</span>._isStreamingSupported=!t.disableStream,<span class=\"code-keyword\">this</span>._isRangeSupported=!t.disableRange,<span class=\"code-keyword\">this</span>._headers=a(<span class=\"code-keyword\">this</span>._stream.httpHeaders);<span class=\"code-keyword\">const</span> r=t.url;fetch(r,i(<span class=\"code-keyword\">this</span>._headers,<span class=\"code-keyword\">this</span>._withCredentials,<span class=\"code-keyword\">this</span>._abortController)).then(<span class=\"code-function\"><span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">if</span>(!(<span class=\"code-number\">0</span>,n.validateResponseStatus)(e.status))<span class=\"code-keyword\">throw</span>(<span class=\"code-number\">0</span>,n.createResponseStatusError)(e.status,r);<span class=\"code-keyword\">this</span>._reader=e.body.getReader(),<span class=\"code-keyword\">this</span>._headersCapability.resolve();<span class=\"code-keyword\">const</span> t=<span class=\"code-function\"><span class=\"code-params\">t</span>=&gt;</span>e.headers.get(t),{<span class=\"code-attr\">allowRangeRequests</span>:i,<span class=\"code-attr\">suggestedLength</span>:a}=(<span class=\"code-number\">0</span>,n.validateRangeRequestCapabilities)({<span class=\"code-attr\">getResponseHeader</span>:t,<span class=\"code-attr\">isHttp</span>:<span class=\"code-keyword\">this</span>._stream.isHttp,<span class=\"code-attr\">rangeChunkSize</span>:<span class=\"code-keyword\">this</span>._rangeChunkSize,<span class=\"code-attr\">disableRange</span>:<span class=\"code-keyword\">this</span>._disableRange});<span class=\"code-keyword\">this</span>._isRangeSupported=i,<span class=\"code-keyword\">this</span>._contentLength=a||<span class=\"code-keyword\">this</span>._contentLength,<span class=\"code-keyword\">this</span>._filename=(<span class=\"code-number\">0</span>,n.extractFilenameFromHeader)(t),!<span class=\"code-keyword\">this</span>._isStreamingSupported&amp;&amp;<span class=\"code-keyword\">this</span>._isRangeSupported&amp;&amp;<span class=\"code-keyword\">this</span>.cancel(<span class=\"code-keyword\">new</span> s.AbortException(<span class=\"code-string\">\"Streaming is disabled.\"</span>))}).catch(<span class=\"code-keyword\">this</span>._headersCapability.reject),<span class=\"code-keyword\">this</span>.onProgress=<span class=\"code-literal\">null</span>}<span class=\"code-keyword\">get</span> headersReady(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._headersCapability.promise}<span class=\"code-keyword\">get</span> filename(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._filename}<span class=\"code-keyword\">get</span> contentLength(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._contentLength}<span class=\"code-keyword\">get</span> isRangeSupported(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._isRangeSupported}<span class=\"code-keyword\">get</span> isStreamingSupported(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._isStreamingSupported}<span class=\"code-keyword\">async</span> read(){<span class=\"code-keyword\">await</span> <span class=\"code-keyword\">this</span>._headersCapability.promise;<span class=\"code-keyword\">const</span>{<span class=\"code-attr\">value</span>:e,<span class=\"code-attr\">done</span>:t}=<span class=\"code-keyword\">await</span> <span class=\"code-keyword\">this</span>._reader.read();<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">value</span>:e,<span class=\"code-attr\">done</span>:t};<span class=\"code-keyword\">this</span>._loaded+=e.byteLength,<span class=\"code-keyword\">this</span>.onProgress&amp;&amp;<span class=\"code-keyword\">this</span>.onProgress({<span class=\"code-attr\">loaded</span>:<span class=\"code-keyword\">this</span>._loaded,<span class=\"code-attr\">total</span>:<span class=\"code-keyword\">this</span>._contentLength});<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e).buffer,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">1</span>}}cancel(e){<span class=\"code-keyword\">this</span>._reader&amp;&amp;<span class=\"code-keyword\">this</span>._reader.cancel(e),<span class=\"code-keyword\">this</span>._abortController&amp;&amp;<span class=\"code-keyword\">this</span>._abortController.abort()}}<span class=\"code-class\"><span class=\"code-keyword\">class</span> <span class=\"code-title\">l</span></span>{<span class=\"code-keyword\">constructor</span>(e,t,r){<span class=\"code-keyword\">this</span>._stream=e,<span class=\"code-keyword\">this</span>._reader=<span class=\"code-literal\">null</span>,<span class=\"code-keyword\">this</span>._loaded=<span class=\"code-number\">0</span>;<span class=\"code-keyword\">const</span> o=e.source;<span class=\"code-keyword\">this</span>._withCredentials=o.withCredentials||!<span class=\"code-number\">1</span>,<span class=\"code-keyword\">this</span>._readCapability=(<span class=\"code-number\">0</span>,s.createPromiseCapability)(),<span class=\"code-keyword\">this</span>._isStreamingSupported=!o.disableStream,<span class=\"code-string\">\"undefined\"</span>!=<span class=\"code-keyword\">typeof</span> AbortController&amp;&amp;(<span class=\"code-keyword\">this</span>._abortController=<span class=\"code-keyword\">new</span> AbortController),<span class=\"code-keyword\">this</span>._headers=a(<span class=\"code-keyword\">this</span>._stream.httpHeaders),<span class=\"code-keyword\">this</span>._headers.append(<span class=\"code-string\">\"Range\"</span>,<span class=\"code-string\">`bytes=<span class=\"code-subst\">${t}</span>-<span class=\"code-subst\">${r<span class=\"code-number\">-1</span>}</span>`</span>);<span class=\"code-keyword\">const</span> l=o.url;fetch(l,i(<span class=\"code-keyword\">this</span>._headers,<span class=\"code-keyword\">this</span>._withCredentials,<span class=\"code-keyword\">this</span>._abortController)).then(<span class=\"code-function\"><span class=\"code-params\">e</span>=&gt;</span>{<span class=\"code-keyword\">if</span>(!(<span class=\"code-number\">0</span>,n.validateResponseStatus)(e.status))<span class=\"code-keyword\">throw</span>(<span class=\"code-number\">0</span>,n.createResponseStatusError)(e.status,l);<span class=\"code-keyword\">this</span>._readCapability.resolve(),<span class=\"code-keyword\">this</span>._reader=e.body.getReader()}),<span class=\"code-keyword\">this</span>.onProgress=<span class=\"code-literal\">null</span>}<span class=\"code-keyword\">get</span> isStreamingSupported(){<span class=\"code-keyword\">return</span> <span class=\"code-keyword\">this</span>._isStreamingSupported}<span class=\"code-keyword\">async</span> read(){<span class=\"code-keyword\">await</span> <span class=\"code-keyword\">this</span>._readCapability.promise;<span class=\"code-keyword\">const</span>{<span class=\"code-attr\">value</span>:e,<span class=\"code-attr\">done</span>:t}=<span class=\"code-keyword\">await</span> <span class=\"code-keyword\">this</span>._reader.read();<span class=\"code-keyword\">if</span>(t)<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">value</span>:e,<span class=\"code-attr\">done</span>:t};<span class=\"code-keyword\">this</span>._loaded+=e.byteLength,<span class=\"code-keyword\">this</span>.onProgress&amp;&amp;<span class=\"code-keyword\">this</span>.onProgress({<span class=\"code-attr\">loaded</span>:<span class=\"code-keyword\">this</span>._loaded});<span class=\"code-keyword\">return</span>{<span class=\"code-attr\">value</span>:<span class=\"code-keyword\">new</span> <span class=\"code-built_in\">Uint8Array</span>(e).buffer,<span class=\"code-attr\">done</span>:!<span class=\"code-number\">1</span>}}cancel(e){<span class=\"code-keyword\">this</span>._reader&amp;&amp;<span class=\"code-keyword\">this</span>._reader.cancel(e),<span class=\"code-keyword\">this</span>._abortController&amp;&amp;<span class=\"code-keyword\">this</span>._abortController.abort()}}}])}));"]}}}</script></head><body><div id="root"><style data-emotion-css="gtfibm">html{box-sizing:border-box;}*,*:before,*:after{box-sizing:inherit;}html,body,#root{height:100%;margin:0;}body{font-family:-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;font-size:16px;line-height:1.5;overflow-wrap:break-word;background:white;color:black;}code{font-family:Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace;}th,td{padding:0;}select{font-size:inherit;}#root{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><style data-emotion-css="1r6h1r6">.code-listing{background:#fbfdff;color:#383a42;}.code-comment,.code-quote{color:#a0a1a7;font-style:italic;}.code-doctag,.code-keyword,.code-link,.code-formula{color:#a626a4;}.code-section,.code-name,.code-selector-tag,.code-deletion,.code-subst{color:#e45649;}.code-literal{color:#0184bb;}.code-string,.code-regexp,.code-addition,.code-attribute,.code-meta-string{color:#50a14f;}.code-built_in,.code-class .code-title{color:#c18401;}.code-attr,.code-variable,.code-template-variable,.code-type,.code-selector-class,.code-selector-attr,.code-selector-pseudo,.code-number{color:#986801;}.code-symbol,.code-bullet,.code-meta,.code-selector-id,.code-title{color:#4078f2;}.code-emphasis{font-style:italic;}.code-strong{font-weight:bold;}</style><style data-emotion-css="1c3h18e">.css-1c3h18e{-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}</style><div class="css-1c3h18e"><style data-emotion-css="1cfuj1t">.css-1cfuj1t{max-width:940px;padding:0 20px;margin:0 auto;}</style><div class="css-1cfuj1t"><style data-emotion-css="i51og3">.css-i51og3{margin-top:2rem;}</style><header class="css-i51og3"><style data-emotion-css="1y7u1xh">.css-1y7u1xh{text-align:center;font-size:3rem;-webkit-letter-spacing:0.05em;-moz-letter-spacing:0.05em;-ms-letter-spacing:0.05em;letter-spacing:0.05em;}</style><h1 class="css-1y7u1xh"><style data-emotion-css="1ydg16i">.css-1ydg16i{color:#000;-webkit-text-decoration:none;text-decoration:none;}</style><a href="/" class="css-1ydg16i">UNPKG</a></h1></header></div><div class="css-1cfuj1t"><style data-emotion-css="93o42g">.css-93o42g{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width:700px){.css-93o42g{-webkit-flex-direction:column-reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;}}</style><header class="css-93o42g"><style data-emotion-css="1dlpvgi">.css-1dlpvgi{font-size:1.5rem;font-weight:normal;-webkit-flex:1;-ms-flex:1;flex:1;word-break:break-all;}</style><h1 class="css-1dlpvgi"><nav><style data-emotion-css="xt128v">.css-xt128v{color:#0076ff;-webkit-text-decoration:none;text-decoration:none;}.css-xt128v:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="/browse/pdfjs-dist@2.5.207/" class="css-xt128v">pdfjs-dist</a><style data-emotion-css="lllnmq">.css-lllnmq{padding-left:5px;padding-right:5px;}</style><span class="css-lllnmq">/</span><a href="/browse/pdfjs-dist@2.5.207/build/" class="css-xt128v">build</a><span class="css-lllnmq">/</span><strong>pdf.min.js</strong></nav></h1><style data-emotion-css="1nr3dab">.css-1nr3dab{margin-left:20px;}@media (max-width:700px){.css-1nr3dab{margin-left:0;margin-bottom:0;}}</style><p class="css-1nr3dab"><label>Version:<!-- --> <style data-emotion-css="un3bt6">.css-un3bt6{-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;padding:4px 24px 4px 8px;font-weight:600;font-size:0.9em;color:#24292e;border:1px solid rgba(27,31,35,.2);border-radius:3px;background-color:#eff3f6;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==);background-position:right 8px center;background-repeat:no-repeat;background-size:auto 25%;}.css-un3bt6:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-un3bt6:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><select name="version" class="css-un3bt6"><option value="1.0.813">1.0.813</option><option value="1.0.816">1.0.816</option><option value="1.0.818">1.0.818</option><option value="1.0.820">1.0.820</option><option value="1.0.822">1.0.822</option><option value="1.0.824">1.0.824</option><option value="1.0.826">1.0.826</option><option value="1.0.828">1.0.828</option><option value="1.0.830">1.0.830</option><option value="1.0.833">1.0.833</option><option value="1.0.835">1.0.835</option><option value="1.0.837">1.0.837</option><option value="1.0.849">1.0.849</option><option value="1.0.851">1.0.851</option><option value="1.0.853">1.0.853</option><option value="1.0.855">1.0.855</option><option value="1.0.858">1.0.858</option><option value="1.0.861">1.0.861</option><option value="1.0.863">1.0.863</option><option value="1.0.864">1.0.864</option><option value="1.0.867">1.0.867</option><option value="1.0.869">1.0.869</option><option value="1.0.872">1.0.872</option><option value="1.0.874">1.0.874</option><option value="1.0.876">1.0.876</option><option value="1.0.878">1.0.878</option><option value="1.0.880">1.0.880</option><option value="1.0.882">1.0.882</option><option value="1.0.884">1.0.884</option><option value="1.0.887">1.0.887</option><option value="1.0.889">1.0.889</option><option value="1.0.892">1.0.892</option><option value="1.0.894">1.0.894</option><option value="1.0.896">1.0.896</option><option value="1.0.898">1.0.898</option><option value="1.0.900">1.0.900</option><option value="1.0.903">1.0.903</option><option value="1.0.905">1.0.905</option><option value="1.0.907">1.0.907</option><option value="1.0.909">1.0.909</option><option value="1.0.911">1.0.911</option><option value="1.0.913">1.0.913</option><option value="1.0.915">1.0.915</option><option value="1.0.917">1.0.917</option><option value="1.0.919">1.0.919</option><option value="1.0.921">1.0.921</option><option value="1.0.924">1.0.924</option><option value="1.0.925">1.0.925</option><option value="1.0.927">1.0.927</option><option value="1.0.929">1.0.929</option><option value="1.0.931">1.0.931</option><option value="1.0.933">1.0.933</option><option value="1.0.935">1.0.935</option><option value="1.0.937">1.0.937</option><option value="1.0.940">1.0.940</option><option value="1.0.942">1.0.942</option><option value="1.0.943">1.0.943</option><option value="1.0.945">1.0.945</option><option value="1.0.948">1.0.948</option><option value="1.0.951">1.0.951</option><option value="1.0.954">1.0.954</option><option value="1.0.956">1.0.956</option><option value="1.0.958">1.0.958</option><option value="1.0.960">1.0.960</option><option value="1.0.962">1.0.962</option><option value="1.0.964">1.0.964</option><option value="1.0.966">1.0.966</option><option value="1.0.968">1.0.968</option><option value="1.0.970">1.0.970</option><option value="1.0.972">1.0.972</option><option value="1.0.974">1.0.974</option><option value="1.0.976">1.0.976</option><option value="1.0.978">1.0.978</option><option value="1.0.980">1.0.980</option><option value="1.0.982">1.0.982</option><option value="1.0.984">1.0.984</option><option value="1.0.993">1.0.993</option><option value="1.0.995">1.0.995</option><option value="1.0.997">1.0.997</option><option value="1.0.1000">1.0.1000</option><option value="1.0.1002">1.0.1002</option><option value="1.0.1004">1.0.1004</option><option value="1.0.1006">1.0.1006</option><option value="1.0.1008">1.0.1008</option><option value="1.0.1011">1.0.1011</option><option value="1.0.1013">1.0.1013</option><option value="1.0.1015">1.0.1015</option><option value="1.0.1017">1.0.1017</option><option value="1.0.1019">1.0.1019</option><option value="1.0.1021">1.0.1021</option><option value="1.0.1023">1.0.1023</option><option value="1.0.1025">1.0.1025</option><option value="1.0.1027">1.0.1027</option><option value="1.0.1029">1.0.1029</option><option value="1.0.1031">1.0.1031</option><option value="1.0.1033">1.0.1033</option><option value="1.0.1035">1.0.1035</option><option value="1.0.1037">1.0.1037</option><option value="1.0.1038">1.0.1038</option><option value="1.0.1040">1.0.1040</option><option value="1.0.1051">1.0.1051</option><option value="1.0.1053">1.0.1053</option><option value="1.0.1055">1.0.1055</option><option value="1.0.1057">1.0.1057</option><option value="1.0.1059">1.0.1059</option><option value="1.0.1061">1.0.1061</option><option value="1.0.1062">1.0.1062</option><option value="1.0.1063">1.0.1063</option><option value="1.0.1065">1.0.1065</option><option value="1.0.1067">1.0.1067</option><option value="1.0.1069">1.0.1069</option><option value="1.0.1072">1.0.1072</option><option value="1.0.1074">1.0.1074</option><option value="1.0.1076">1.0.1076</option><option value="1.0.1078">1.0.1078</option><option value="1.0.1080">1.0.1080</option><option value="1.0.1082">1.0.1082</option><option value="1.0.1084">1.0.1084</option><option value="1.0.1086">1.0.1086</option><option value="1.0.1088">1.0.1088</option><option value="1.0.1090">1.0.1090</option><option value="1.0.1092">1.0.1092</option><option value="1.0.1093">1.0.1093</option><option value="1.0.1100">1.0.1100</option><option value="1.0.1102">1.0.1102</option><option value="1.0.1104">1.0.1104</option><option value="1.0.1106">1.0.1106</option><option value="1.0.1108">1.0.1108</option><option value="1.0.1110">1.0.1110</option><option value="1.0.1118">1.0.1118</option><option value="1.0.1123">1.0.1123</option><option value="1.0.1130">1.0.1130</option><option value="1.0.1132">1.0.1132</option><option value="1.0.1135">1.0.1135</option><option value="1.0.1137">1.0.1137</option><option value="1.0.1141">1.0.1141</option><option value="1.0.1143">1.0.1143</option><option value="1.0.1145">1.0.1145</option><option value="1.0.1147">1.0.1147</option><option value="1.0.1149">1.0.1149</option><option value="1.0.1151">1.0.1151</option><option value="1.0.1152">1.0.1152</option><option value="1.0.1154">1.0.1154</option><option value="1.0.1156">1.0.1156</option><option value="1.0.1158">1.0.1158</option><option value="1.0.1160">1.0.1160</option><option value="1.0.1162">1.0.1162</option><option value="1.0.1165">1.0.1165</option><option value="1.0.1167">1.0.1167</option><option value="1.0.1169">1.0.1169</option><option value="1.0.1171">1.0.1171</option><option value="1.0.1173">1.0.1173</option><option value="1.0.1175">1.0.1175</option><option value="1.0.1177">1.0.1177</option><option value="1.0.1179">1.0.1179</option><option value="1.0.1181">1.0.1181</option><option value="1.0.1183">1.0.1183</option><option value="1.0.1185">1.0.1185</option><option value="1.0.1187">1.0.1187</option><option value="1.0.1189">1.0.1189</option><option value="1.0.1191">1.0.1191</option><option value="1.0.1193">1.0.1193</option><option value="1.0.1194">1.0.1194</option><option value="1.0.1196">1.0.1196</option><option value="1.0.1199">1.0.1199</option><option value="1.0.1201">1.0.1201</option><option value="1.0.1203">1.0.1203</option><option value="1.0.1205">1.0.1205</option><option value="1.0.1207">1.0.1207</option><option value="1.0.1209">1.0.1209</option><option value="1.0.1211">1.0.1211</option><option value="1.1.3">1.1.3</option><option value="1.1.5">1.1.5</option><option value="1.1.7">1.1.7</option><option value="1.1.9">1.1.9</option><option value="1.1.11">1.1.11</option><option value="1.1.13">1.1.13</option><option value="1.1.15">1.1.15</option><option value="1.1.18">1.1.18</option><option value="1.1.20">1.1.20</option><option value="1.1.22">1.1.22</option><option value="1.1.24">1.1.24</option><option value="1.1.26">1.1.26</option><option value="1.1.28">1.1.28</option><option value="1.1.32">1.1.32</option><option value="1.1.34">1.1.34</option><option value="1.1.36">1.1.36</option><option value="1.1.38">1.1.38</option><option value="1.1.40">1.1.40</option><option value="1.1.42">1.1.42</option><option value="1.1.44">1.1.44</option><option value="1.1.45">1.1.45</option><option value="1.1.47">1.1.47</option><option value="1.1.49">1.1.49</option><option value="1.1.52">1.1.52</option><option value="1.1.54">1.1.54</option><option value="1.1.56">1.1.56</option><option value="1.1.58">1.1.58</option><option value="1.1.60">1.1.60</option><option value="1.1.63">1.1.63</option><option value="1.1.65">1.1.65</option><option value="1.1.67">1.1.67</option><option value="1.1.69">1.1.69</option><option value="1.1.71">1.1.71</option><option value="1.1.73">1.1.73</option><option value="1.1.82">1.1.82</option><option value="1.1.84">1.1.84</option><option value="1.1.86">1.1.86</option><option value="1.1.89">1.1.89</option><option value="1.1.94">1.1.94</option><option value="1.1.96">1.1.96</option><option value="1.1.98">1.1.98</option><option value="1.1.101">1.1.101</option><option value="1.1.103">1.1.103</option><option value="1.1.105">1.1.105</option><option value="1.1.107">1.1.107</option><option value="1.1.109">1.1.109</option><option value="1.1.111">1.1.111</option><option value="1.1.113">1.1.113</option><option value="1.1.114">1.1.114</option><option value="1.1.116">1.1.116</option><option value="1.1.118">1.1.118</option><option value="1.1.120">1.1.120</option><option value="1.1.122">1.1.122</option><option value="1.1.124">1.1.124</option><option value="1.1.126">1.1.126</option><option value="1.1.128">1.1.128</option><option value="1.1.130">1.1.130</option><option value="1.1.132">1.1.132</option><option value="1.1.134">1.1.134</option><option value="1.1.136">1.1.136</option><option value="1.1.138">1.1.138</option><option value="1.1.140">1.1.140</option><option value="1.1.143">1.1.143</option><option value="1.1.145">1.1.145</option><option value="1.1.147">1.1.147</option><option value="1.1.149">1.1.149</option><option value="1.1.151">1.1.151</option><option value="1.1.153">1.1.153</option><option value="1.1.155">1.1.155</option><option value="1.1.156">1.1.156</option><option value="1.1.157">1.1.157</option><option value="1.1.159">1.1.159</option><option value="1.1.165">1.1.165</option><option value="1.1.167">1.1.167</option><option value="1.1.169">1.1.169</option><option value="1.1.171">1.1.171</option><option value="1.1.174">1.1.174</option><option value="1.1.177">1.1.177</option><option value="1.1.179">1.1.179</option><option value="1.1.181">1.1.181</option><option value="1.1.183">1.1.183</option><option value="1.1.185">1.1.185</option><option value="1.1.187">1.1.187</option><option value="1.1.189">1.1.189</option><option value="1.1.191">1.1.191</option><option value="1.1.193">1.1.193</option><option value="1.1.195">1.1.195</option><option value="1.1.197">1.1.197</option><option value="1.1.199">1.1.199</option><option value="1.1.201">1.1.201</option><option value="1.1.203">1.1.203</option><option value="1.1.205">1.1.205</option><option value="1.1.207">1.1.207</option><option value="1.1.209">1.1.209</option><option value="1.1.211">1.1.211</option><option value="1.1.213">1.1.213</option><option value="1.1.215">1.1.215</option><option value="1.1.217">1.1.217</option><option value="1.1.218">1.1.218</option><option value="1.1.220">1.1.220</option><option value="1.1.222">1.1.222</option><option value="1.1.224">1.1.224</option><option value="1.1.226">1.1.226</option><option value="1.1.228">1.1.228</option><option value="1.1.230">1.1.230</option><option value="1.1.233">1.1.233</option><option value="1.1.238">1.1.238</option><option value="1.1.240">1.1.240</option><option value="1.1.242">1.1.242</option><option value="1.1.244">1.1.244</option><option value="1.1.246">1.1.246</option><option value="1.1.248">1.1.248</option><option value="1.1.250">1.1.250</option><option value="1.1.252">1.1.252</option><option value="1.1.254">1.1.254</option><option value="1.1.256">1.1.256</option><option value="1.1.258">1.1.258</option><option value="1.1.260">1.1.260</option><option value="1.1.262">1.1.262</option><option value="1.1.264">1.1.264</option><option value="1.1.266">1.1.266</option><option value="1.1.268">1.1.268</option><option value="1.1.270">1.1.270</option><option value="1.1.272">1.1.272</option><option value="1.1.274">1.1.274</option><option value="1.1.276">1.1.276</option><option value="1.1.278">1.1.278</option><option value="1.1.280">1.1.280</option><option value="1.1.284">1.1.284</option><option value="1.1.286">1.1.286</option><option value="1.1.288">1.1.288</option><option value="1.1.290">1.1.290</option><option value="1.1.293">1.1.293</option><option value="1.1.295">1.1.295</option><option value="1.1.297">1.1.297</option><option value="1.1.299">1.1.299</option><option value="1.1.301">1.1.301</option><option value="1.1.303">1.1.303</option><option value="1.1.305">1.1.305</option><option value="1.1.307">1.1.307</option><option value="1.1.309">1.1.309</option><option value="1.1.311">1.1.311</option><option value="1.1.313">1.1.313</option><option value="1.1.316">1.1.316</option><option value="1.1.320">1.1.320</option><option value="1.1.322">1.1.322</option><option value="1.1.324">1.1.324</option><option value="1.1.326">1.1.326</option><option value="1.1.329">1.1.329</option><option value="1.1.332">1.1.332</option><option value="1.1.334">1.1.334</option><option value="1.1.335">1.1.335</option><option value="1.1.337">1.1.337</option><option value="1.1.339">1.1.339</option><option value="1.1.341">1.1.341</option><option value="1.1.343">1.1.343</option><option value="1.1.345">1.1.345</option><option value="1.1.347">1.1.347</option><option value="1.1.350">1.1.350</option><option value="1.1.352">1.1.352</option><option value="1.1.355">1.1.355</option><option value="1.1.357">1.1.357</option><option value="1.1.359">1.1.359</option><option value="1.1.361">1.1.361</option><option value="1.1.364">1.1.364</option><option value="1.1.366">1.1.366</option><option value="1.1.368">1.1.368</option><option value="1.1.370">1.1.370</option><option value="1.1.373">1.1.373</option><option value="1.1.375">1.1.375</option><option value="1.1.377">1.1.377</option><option value="1.1.379">1.1.379</option><option value="1.1.381">1.1.381</option><option value="1.1.387">1.1.387</option><option value="1.1.390">1.1.390</option><option value="1.1.392">1.1.392</option><option value="1.1.394">1.1.394</option><option value="1.1.395">1.1.395</option><option value="1.1.397">1.1.397</option><option value="1.1.399">1.1.399</option><option value="1.1.401">1.1.401</option><option value="1.1.403">1.1.403</option><option value="1.1.405">1.1.405</option><option value="1.1.407">1.1.407</option><option value="1.1.409">1.1.409</option><option value="1.1.411">1.1.411</option><option value="1.1.413">1.1.413</option><option value="1.1.415">1.1.415</option><option value="1.1.417">1.1.417</option><option value="1.1.425">1.1.425</option><option value="1.1.427">1.1.427</option><option value="1.1.429">1.1.429</option><option value="1.1.431">1.1.431</option><option value="1.1.433">1.1.433</option><option value="1.1.435">1.1.435</option><option value="1.1.438">1.1.438</option><option value="1.1.440">1.1.440</option><option value="1.1.442">1.1.442</option><option value="1.1.444">1.1.444</option><option value="1.1.446">1.1.446</option><option value="1.1.448">1.1.448</option><option value="1.1.450">1.1.450</option><option value="1.1.452">1.1.452</option><option value="1.1.454">1.1.454</option><option value="1.1.456">1.1.456</option><option value="1.1.460">1.1.460</option><option value="1.1.462">1.1.462</option><option value="1.1.463">1.1.463</option><option value="1.1.465">1.1.465</option><option value="1.1.467">1.1.467</option><option value="1.1.469">1.1.469</option><option value="1.1.471">1.1.471</option><option value="1.1.472">1.1.472</option><option value="1.1.474">1.1.474</option><option value="1.1.476">1.1.476</option><option value="1.1.478">1.1.478</option><option value="1.1.480">1.1.480</option><option value="1.1.483">1.1.483</option><option value="1.1.485">1.1.485</option><option value="1.1.488">1.1.488</option><option value="1.1.490">1.1.490</option><option value="1.1.492">1.1.492</option><option value="1.1.494">1.1.494</option><option value="1.1.496">1.1.496</option><option value="1.1.498">1.1.498</option><option value="1.1.500">1.1.500</option><option value="1.1.503">1.1.503</option><option value="1.1.505">1.1.505</option><option value="1.1.507">1.1.507</option><option value="1.1.509">1.1.509</option><option value="1.1.511">1.1.511</option><option value="1.1.513">1.1.513</option><option value="1.1.515">1.1.515</option><option value="1.1.517">1.1.517</option><option value="1.1.519">1.1.519</option><option value="1.1.521">1.1.521</option><option value="1.1.523">1.1.523</option><option value="1.1.527">1.1.527</option><option value="1.1.529">1.1.529</option><option value="1.1.531">1.1.531</option><option value="1.1.534">1.1.534</option><option value="1.1.535">1.1.535</option><option value="1.1.537">1.1.537</option><option value="1.1.539">1.1.539</option><option value="1.1.542">1.1.542</option><option value="1.1.544">1.1.544</option><option value="1.1.546">1.1.546</option><option value="1.1.551">1.1.551</option><option value="1.2.26">1.2.26</option><option value="1.2.28">1.2.28</option><option value="1.2.30">1.2.30</option><option value="1.2.32">1.2.32</option><option value="1.2.34">1.2.34</option><option value="1.2.36">1.2.36</option><option value="1.2.38">1.2.38</option><option value="1.2.39">1.2.39</option><option value="1.2.41">1.2.41</option><option value="1.2.43">1.2.43</option><option value="1.2.45">1.2.45</option><option value="1.2.47">1.2.47</option><option value="1.2.49">1.2.49</option><option value="1.2.52">1.2.52</option><option value="1.2.55">1.2.55</option><option value="1.2.56">1.2.56</option><option value="1.2.58">1.2.58</option><option value="1.2.61">1.2.61</option><option value="1.2.64">1.2.64</option><option value="1.2.66">1.2.66</option><option value="1.2.68">1.2.68</option><option value="1.2.70">1.2.70</option><option value="1.2.73">1.2.73</option><option value="1.2.77">1.2.77</option><option value="1.2.79">1.2.79</option><option value="1.2.81">1.2.81</option><option value="1.2.83">1.2.83</option><option value="1.2.85">1.2.85</option><option value="1.2.87">1.2.87</option><option value="1.2.89">1.2.89</option><option value="1.2.91">1.2.91</option><option value="1.2.93">1.2.93</option><option value="1.2.95">1.2.95</option><option value="1.2.97">1.2.97</option><option value="1.2.99">1.2.99</option><option value="1.2.101">1.2.101</option><option value="1.2.103">1.2.103</option><option value="1.2.105">1.2.105</option><option value="1.2.107">1.2.107</option><option value="1.2.109">1.2.109</option><option value="1.2.111">1.2.111</option><option value="1.2.113">1.2.113</option><option value="1.2.115">1.2.115</option><option value="1.2.117">1.2.117</option><option value="1.2.119">1.2.119</option><option value="1.2.121">1.2.121</option><option value="1.2.123">1.2.123</option><option value="1.2.125">1.2.125</option><option value="1.2.127">1.2.127</option><option value="1.2.129">1.2.129</option><option value="1.2.131">1.2.131</option><option value="1.2.133">1.2.133</option><option value="1.2.135">1.2.135</option><option value="1.3.6">1.3.6</option><option value="1.3.10">1.3.10</option><option value="1.3.12">1.3.12</option><option value="1.3.14">1.3.14</option><option value="1.3.16">1.3.16</option><option value="1.3.17">1.3.17</option><option value="1.3.20">1.3.20</option><option value="1.3.22">1.3.22</option><option value="1.3.24">1.3.24</option><option value="1.3.26">1.3.26</option><option value="1.3.28">1.3.28</option><option value="1.3.32">1.3.32</option><option value="1.3.34">1.3.34</option><option value="1.3.36">1.3.36</option><option value="1.3.38">1.3.38</option><option value="1.3.40">1.3.40</option><option value="1.3.42">1.3.42</option><option value="1.3.44">1.3.44</option><option value="1.3.46">1.3.46</option><option value="1.3.48">1.3.48</option><option value="1.3.50">1.3.50</option><option value="1.3.52">1.3.52</option><option value="1.3.54">1.3.54</option><option value="1.3.56">1.3.56</option><option value="1.3.58">1.3.58</option><option value="1.3.60">1.3.60</option><option value="1.3.62">1.3.62</option><option value="1.3.64">1.3.64</option><option value="1.3.66">1.3.66</option><option value="1.3.68">1.3.68</option><option value="1.3.70">1.3.70</option><option value="1.3.72">1.3.72</option><option value="1.3.74">1.3.74</option><option value="1.3.76">1.3.76</option><option value="1.3.78">1.3.78</option><option value="1.3.80">1.3.80</option><option value="1.3.81">1.3.81</option><option value="1.3.88">1.3.88</option><option value="1.3.90">1.3.90</option><option value="1.3.94">1.3.94</option><option value="1.3.96">1.3.96</option><option value="1.3.98">1.3.98</option><option value="1.3.100">1.3.100</option><option value="1.3.102">1.3.102</option><option value="1.3.103">1.3.103</option><option value="1.3.104">1.3.104</option><option value="1.3.105">1.3.105</option><option value="1.3.106">1.3.106</option><option value="1.3.108">1.3.108</option><option value="1.3.110">1.3.110</option><option value="1.3.112">1.3.112</option><option value="1.3.114">1.3.114</option><option value="1.3.116">1.3.116</option><option value="1.3.118">1.3.118</option><option value="1.3.120">1.3.120</option><option value="1.3.122">1.3.122</option><option value="1.3.124">1.3.124</option><option value="1.3.125">1.3.125</option><option value="1.3.127">1.3.127</option><option value="1.3.129">1.3.129</option><option value="1.3.131">1.3.131</option><option value="1.3.133">1.3.133</option><option value="1.3.135">1.3.135</option><option value="1.3.137">1.3.137</option><option value="1.3.142">1.3.142</option><option value="1.3.144">1.3.144</option><option value="1.3.146">1.3.146</option><option value="1.3.148">1.3.148</option><option value="1.3.150">1.3.150</option><option value="1.3.152">1.3.152</option><option value="1.3.154">1.3.154</option><option value="1.3.156">1.3.156</option><option value="1.3.158">1.3.158</option><option value="1.3.161">1.3.161</option><option value="1.3.163">1.3.163</option><option value="1.3.165">1.3.165</option><option value="1.3.167">1.3.167</option><option value="1.3.169">1.3.169</option><option value="1.3.171">1.3.171</option><option value="1.3.173">1.3.173</option><option value="1.3.175">1.3.175</option><option value="1.3.177">1.3.177</option><option value="1.3.179">1.3.179</option><option value="1.3.181">1.3.181</option><option value="1.3.183">1.3.183</option><option value="1.3.185">1.3.185</option><option value="1.3.187">1.3.187</option><option value="1.3.190">1.3.190</option><option value="1.3.192">1.3.192</option><option value="1.3.194">1.3.194</option><option value="1.3.196">1.3.196</option><option value="1.3.198">1.3.198</option><option value="1.3.200">1.3.200</option><option value="1.3.202">1.3.202</option><option value="1.3.204">1.3.204</option><option value="1.3.206">1.3.206</option><option value="1.3.208">1.3.208</option><option value="1.3.210">1.3.210</option><option value="1.3.212">1.3.212</option><option value="1.3.214">1.3.214</option><option value="1.3.216">1.3.216</option><option value="1.3.218">1.3.218</option><option value="1.3.220">1.3.220</option><option value="1.3.222">1.3.222</option><option value="1.3.224">1.3.224</option><option value="1.3.226">1.3.226</option><option value="1.3.228">1.3.228</option><option value="1.3.231">1.3.231</option><option value="1.3.233">1.3.233</option><option value="1.4.11">1.4.11</option><option value="1.4.13">1.4.13</option><option value="1.4.14">1.4.14</option><option value="1.4.16">1.4.16</option><option value="1.4.18">1.4.18</option><option value="1.4.20">1.4.20</option><option value="1.4.21">1.4.21</option><option value="1.4.23">1.4.23</option><option value="1.4.31">1.4.31</option><option value="1.4.33">1.4.33</option><option value="1.4.35">1.4.35</option><option value="1.4.37">1.4.37</option><option value="1.4.39">1.4.39</option><option value="1.4.42">1.4.42</option><option value="1.4.44">1.4.44</option><option value="1.4.46">1.4.46</option><option value="1.4.48">1.4.48</option><option value="1.4.51">1.4.51</option><option value="1.4.53">1.4.53</option><option value="1.4.55">1.4.55</option><option value="1.4.57">1.4.57</option><option value="1.4.59">1.4.59</option><option value="1.4.61">1.4.61</option><option value="1.4.62">1.4.62</option><option value="1.4.63">1.4.63</option><option value="1.4.64">1.4.64</option><option value="1.4.66">1.4.66</option><option value="1.4.68">1.4.68</option><option value="1.4.72">1.4.72</option><option value="1.4.74">1.4.74</option><option value="1.4.76">1.4.76</option><option value="1.4.79">1.4.79</option><option value="1.4.81">1.4.81</option><option value="1.4.83">1.4.83</option><option value="1.4.85">1.4.85</option><option value="1.4.87">1.4.87</option><option value="1.4.91">1.4.91</option><option value="1.4.93">1.4.93</option><option value="1.4.95">1.4.95</option><option value="1.4.97">1.4.97</option><option value="1.4.99">1.4.99</option><option value="1.4.102">1.4.102</option><option value="1.4.105">1.4.105</option><option value="1.4.107">1.4.107</option><option value="1.4.109">1.4.109</option><option value="1.4.111">1.4.111</option><option value="1.4.113">1.4.113</option><option value="1.4.115">1.4.115</option><option value="1.4.117">1.4.117</option><option value="1.4.119">1.4.119</option><option value="1.4.121">1.4.121</option><option value="1.4.122">1.4.122</option><option value="1.4.124">1.4.124</option><option value="1.4.127">1.4.127</option><option value="1.4.129">1.4.129</option><option value="1.4.131">1.4.131</option><option value="1.4.133">1.4.133</option><option value="1.4.135">1.4.135</option><option value="1.4.137">1.4.137</option><option value="1.4.139">1.4.139</option><option value="1.4.141">1.4.141</option><option value="1.4.143">1.4.143</option><option value="1.4.145">1.4.145</option><option value="1.4.147">1.4.147</option><option value="1.4.149">1.4.149</option><option value="1.4.152">1.4.152</option><option value="1.4.154">1.4.154</option><option value="1.4.155">1.4.155</option><option value="1.4.157">1.4.157</option><option value="1.4.162">1.4.162</option><option value="1.4.164">1.4.164</option><option value="1.4.166">1.4.166</option><option value="1.4.168">1.4.168</option><option value="1.4.170">1.4.170</option><option value="1.4.172">1.4.172</option><option value="1.4.174">1.4.174</option><option value="1.4.176">1.4.176</option><option value="1.4.179">1.4.179</option><option value="1.4.181">1.4.181</option><option value="1.4.183">1.4.183</option><option value="1.4.185">1.4.185</option><option value="1.4.187">1.4.187</option><option value="1.4.190">1.4.190</option><option value="1.4.192">1.4.192</option><option value="1.4.194">1.4.194</option><option value="1.4.197">1.4.197</option><option value="1.4.199">1.4.199</option><option value="1.4.201">1.4.201</option><option value="1.4.203">1.4.203</option><option value="1.4.205">1.4.205</option><option value="1.4.209">1.4.209</option><option value="1.4.211">1.4.211</option><option value="1.4.213">1.4.213</option><option value="1.4.215">1.4.215</option><option value="1.4.217">1.4.217</option><option value="1.4.219">1.4.219</option><option value="1.4.221">1.4.221</option><option value="1.4.225">1.4.225</option><option value="1.4.227">1.4.227</option><option value="1.4.229">1.4.229</option><option value="1.4.231">1.4.231</option><option value="1.4.235">1.4.235</option><option value="1.4.237">1.4.237</option><option value="1.4.239">1.4.239</option><option value="1.4.241">1.4.241</option><option value="1.4.244">1.4.244</option><option value="1.4.248">1.4.248</option><option value="1.4.250">1.4.250</option><option value="1.4.255">1.4.255</option><option value="1.4.257">1.4.257</option><option value="1.4.258">1.4.258</option><option value="1.4.260">1.4.260</option><option value="1.4.263">1.4.263</option><option value="1.4.265">1.4.265</option><option value="1.5.188">1.5.188</option><option value="1.5.190">1.5.190</option><option value="1.5.192">1.5.192</option><option value="1.5.194">1.5.194</option><option value="1.5.196">1.5.196</option><option value="1.5.201">1.5.201</option><option value="1.5.203">1.5.203</option><option value="1.5.205">1.5.205</option><option value="1.5.207">1.5.207</option><option value="1.5.209">1.5.209</option><option value="1.5.211">1.5.211</option><option value="1.5.214">1.5.214</option><option value="1.5.216">1.5.216</option><option value="1.5.218">1.5.218</option><option value="1.5.220">1.5.220</option><option value="1.5.222">1.5.222</option><option value="1.5.224">1.5.224</option><option value="1.5.226">1.5.226</option><option value="1.5.228">1.5.228</option><option value="1.5.230">1.5.230</option><option value="1.5.232">1.5.232</option><option value="1.5.234">1.5.234</option><option value="1.5.236">1.5.236</option><option value="1.5.238">1.5.238</option><option value="1.5.240">1.5.240</option><option value="1.5.242">1.5.242</option><option value="1.5.244">1.5.244</option><option value="1.5.246">1.5.246</option><option value="1.5.248">1.5.248</option><option value="1.5.250">1.5.250</option><option value="1.5.252">1.5.252</option><option value="1.5.254">1.5.254</option><option value="1.5.256">1.5.256</option><option value="1.5.258">1.5.258</option><option value="1.5.260">1.5.260</option><option value="1.5.262">1.5.262</option><option value="1.5.264">1.5.264</option><option value="1.5.266">1.5.266</option><option value="1.5.268">1.5.268</option><option value="1.5.270">1.5.270</option><option value="1.5.272">1.5.272</option><option value="1.5.274">1.5.274</option><option value="1.5.276">1.5.276</option><option value="1.5.278">1.5.278</option><option value="1.5.279">1.5.279</option><option value="1.5.281">1.5.281</option><option value="1.5.283">1.5.283</option><option value="1.5.285">1.5.285</option><option value="1.5.287">1.5.287</option><option value="1.5.289">1.5.289</option><option value="1.5.292">1.5.292</option><option value="1.5.294">1.5.294</option><option value="1.5.296">1.5.296</option><option value="1.5.299">1.5.299</option><option value="1.5.301">1.5.301</option><option value="1.5.303">1.5.303</option><option value="1.5.305">1.5.305</option><option value="1.5.307">1.5.307</option><option value="1.5.309">1.5.309</option><option value="1.5.311">1.5.311</option><option value="1.5.312">1.5.312</option><option value="1.5.314">1.5.314</option><option value="1.5.316">1.5.316</option><option value="1.5.318">1.5.318</option><option value="1.5.320">1.5.320</option><option value="1.5.322">1.5.322</option><option value="1.5.324">1.5.324</option><option value="1.5.326">1.5.326</option><option value="1.5.328">1.5.328</option><option value="1.5.330">1.5.330</option><option value="1.5.332">1.5.332</option><option value="1.5.334">1.5.334</option><option value="1.5.336">1.5.336</option><option value="1.5.337">1.5.337</option><option value="1.5.339">1.5.339</option><option value="1.5.341">1.5.341</option><option value="1.5.343">1.5.343</option><option value="1.5.345">1.5.345</option><option value="1.5.347">1.5.347</option><option value="1.5.351">1.5.351</option><option value="1.5.353">1.5.353</option><option value="1.5.355">1.5.355</option><option value="1.5.357">1.5.357</option><option value="1.5.359">1.5.359</option><option value="1.5.361">1.5.361</option><option value="1.5.365">1.5.365</option><option value="1.5.367">1.5.367</option><option value="1.5.369">1.5.369</option><option value="1.5.370">1.5.370</option><option value="1.5.372">1.5.372</option><option value="1.5.374">1.5.374</option><option value="1.5.376">1.5.376</option><option value="1.5.378">1.5.378</option><option value="1.5.381">1.5.381</option><option value="1.5.383">1.5.383</option><option value="1.5.385">1.5.385</option><option value="1.5.387">1.5.387</option><option value="1.5.389">1.5.389</option><option value="1.5.391">1.5.391</option><option value="1.5.393">1.5.393</option><option value="1.5.395">1.5.395</option><option value="1.5.397">1.5.397</option><option value="1.5.399">1.5.399</option><option value="1.5.402">1.5.402</option><option value="1.5.404">1.5.404</option><option value="1.5.406">1.5.406</option><option value="1.5.408">1.5.408</option><option value="1.5.410">1.5.410</option><option value="1.5.413">1.5.413</option><option value="1.5.415">1.5.415</option><option value="1.5.418">1.5.418</option><option value="1.5.421">1.5.421</option><option value="1.5.424">1.5.424</option><option value="1.5.426">1.5.426</option><option value="1.5.430">1.5.430</option><option value="1.5.432">1.5.432</option><option value="1.5.434">1.5.434</option><option value="1.5.437">1.5.437</option><option value="1.5.440">1.5.440</option><option value="1.5.442">1.5.442</option><option value="1.5.444">1.5.444</option><option value="1.5.446">1.5.446</option><option value="1.5.448">1.5.448</option><option value="1.5.450">1.5.450</option><option value="1.5.452">1.5.452</option><option value="1.5.454">1.5.454</option><option value="1.5.456">1.5.456</option><option value="1.5.458">1.5.458</option><option value="1.5.460">1.5.460</option><option value="1.5.462">1.5.462</option><option value="1.5.464">1.5.464</option><option value="1.5.466">1.5.466</option><option value="1.5.470">1.5.470</option><option value="1.5.472">1.5.472</option><option value="1.5.474">1.5.474</option><option value="1.5.476">1.5.476</option><option value="1.5.477">1.5.477</option><option value="1.5.479">1.5.479</option><option value="1.5.481">1.5.481</option><option value="1.5.485">1.5.485</option><option value="1.5.488">1.5.488</option><option value="1.5.490">1.5.490</option><option value="1.5.492">1.5.492</option><option value="1.5.494">1.5.494</option><option value="1.5.496">1.5.496</option><option value="1.5.498">1.5.498</option><option value="1.5.500">1.5.500</option><option value="1.6.210">1.6.210</option><option value="1.6.212">1.6.212</option><option value="1.6.214">1.6.214</option><option value="1.6.217">1.6.217</option><option value="1.6.219">1.6.219</option><option value="1.6.221">1.6.221</option><option value="1.6.222">1.6.222</option><option value="1.6.226">1.6.226</option><option value="1.6.230">1.6.230</option><option value="1.6.232">1.6.232</option><option value="1.6.234">1.6.234</option><option value="1.6.237">1.6.237</option><option value="1.6.239">1.6.239</option><option value="1.6.242">1.6.242</option><option value="1.6.244">1.6.244</option><option value="1.6.248">1.6.248</option><option value="1.6.250">1.6.250</option><option value="1.6.254">1.6.254</option><option value="1.6.256">1.6.256</option><option value="1.6.258">1.6.258</option><option value="1.6.263">1.6.263</option><option value="1.6.264">1.6.264</option><option value="1.6.266">1.6.266</option><option value="1.6.268">1.6.268</option><option value="1.6.271">1.6.271</option><option value="1.6.272">1.6.272</option><option value="1.6.274">1.6.274</option><option value="1.6.279">1.6.279</option><option value="1.6.283">1.6.283</option><option value="1.6.284">1.6.284</option><option value="1.6.287">1.6.287</option><option value="1.6.289">1.6.289</option><option value="1.6.293">1.6.293</option><option value="1.6.295">1.6.295</option><option value="1.6.297">1.6.297</option><option value="1.6.299">1.6.299</option><option value="1.6.302">1.6.302</option><option value="1.6.304">1.6.304</option><option value="1.6.306">1.6.306</option><option value="1.6.309">1.6.309</option><option value="1.6.311">1.6.311</option><option value="1.6.313">1.6.313</option><option value="1.6.315">1.6.315</option><option value="1.6.317">1.6.317</option><option value="1.6.319">1.6.319</option><option value="1.6.320">1.6.320</option><option value="1.6.322">1.6.322</option><option value="1.6.324">1.6.324</option><option value="1.6.327">1.6.327</option><option value="1.6.329">1.6.329</option><option value="1.6.331">1.6.331</option><option value="1.6.332">1.6.332</option><option value="1.6.334">1.6.334</option><option value="1.6.336">1.6.336</option><option value="1.6.338">1.6.338</option><option value="1.6.341">1.6.341</option><option value="1.6.343">1.6.343</option><option value="1.6.346">1.6.346</option><option value="1.6.348">1.6.348</option><option value="1.6.350">1.6.350</option><option value="1.6.351">1.6.351</option><option value="1.6.353">1.6.353</option><option value="1.6.355">1.6.355</option><option value="1.6.357">1.6.357</option><option value="1.6.359">1.6.359</option><option value="1.6.361">1.6.361</option><option value="1.6.365">1.6.365</option><option value="1.6.366">1.6.366</option><option value="1.6.370">1.6.370</option><option value="1.6.372">1.6.372</option><option value="1.6.374">1.6.374</option><option value="1.6.377">1.6.377</option><option value="1.6.380">1.6.380</option><option value="1.6.396">1.6.396</option><option value="1.6.401">1.6.401</option><option value="1.6.404">1.6.404</option><option value="1.6.406">1.6.406</option><option value="1.6.411">1.6.411</option><option value="1.6.412">1.6.412</option><option value="1.6.414">1.6.414</option><option value="1.6.416">1.6.416</option><option value="1.6.418">1.6.418</option><option value="1.6.419">1.6.419</option><option value="1.6.422">1.6.422</option><option value="1.6.424">1.6.424</option><option value="1.6.426">1.6.426</option><option value="1.6.428">1.6.428</option><option value="1.6.430">1.6.430</option><option value="1.6.433">1.6.433</option><option value="1.6.437">1.6.437</option><option value="1.6.440">1.6.440</option><option value="1.6.442">1.6.442</option><option value="1.6.444">1.6.444</option><option value="1.6.446">1.6.446</option><option value="1.6.449">1.6.449</option><option value="1.6.451">1.6.451</option><option value="1.6.454">1.6.454</option><option value="1.6.456">1.6.456</option><option value="1.6.458">1.6.458</option><option value="1.6.459">1.6.459</option><option value="1.6.461">1.6.461</option><option value="1.6.463">1.6.463</option><option value="1.6.465">1.6.465</option><option value="1.6.467">1.6.467</option><option value="1.6.469">1.6.469</option><option value="1.6.471">1.6.471</option><option value="1.6.473">1.6.473</option><option value="1.6.475">1.6.475</option><option value="1.6.477">1.6.477</option><option value="1.6.479">1.6.479</option><option value="1.6.481">1.6.481</option><option value="1.6.483">1.6.483</option><option value="1.6.485">1.6.485</option><option value="1.6.486">1.6.486</option><option value="1.7.225">1.7.225</option><option value="1.7.227">1.7.227</option><option value="1.7.229">1.7.229</option><option value="1.7.231">1.7.231</option><option value="1.7.233">1.7.233</option><option value="1.7.235">1.7.235</option><option value="1.7.244">1.7.244</option><option value="1.7.246">1.7.246</option><option value="1.7.248">1.7.248</option><option value="1.7.250">1.7.250</option><option value="1.7.252">1.7.252</option><option value="1.7.254">1.7.254</option><option value="1.7.256">1.7.256</option><option value="1.7.258">1.7.258</option><option value="1.7.260">1.7.260</option><option value="1.7.262">1.7.262</option><option value="1.7.264">1.7.264</option><option value="1.7.267">1.7.267</option><option value="1.7.270">1.7.270</option><option value="1.7.274">1.7.274</option><option value="1.7.276">1.7.276</option><option value="1.7.278">1.7.278</option><option value="1.7.280">1.7.280</option><option value="1.7.282">1.7.282</option><option value="1.7.284">1.7.284</option><option value="1.7.286">1.7.286</option><option value="1.7.288">1.7.288</option><option value="1.7.290">1.7.290</option><option value="1.7.292">1.7.292</option><option value="1.7.294">1.7.294</option><option value="1.7.295">1.7.295</option><option value="1.7.297">1.7.297</option><option value="1.7.300">1.7.300</option><option value="1.7.302">1.7.302</option><option value="1.7.308">1.7.308</option><option value="1.7.310">1.7.310</option><option value="1.7.312">1.7.312</option><option value="1.7.314">1.7.314</option><option value="1.7.316">1.7.316</option><option value="1.7.323">1.7.323</option><option value="1.7.325">1.7.325</option><option value="1.7.327">1.7.327</option><option value="1.7.329">1.7.329</option><option value="1.7.331">1.7.331</option><option value="1.7.337">1.7.337</option><option value="1.7.339">1.7.339</option><option value="1.7.341">1.7.341</option><option value="1.7.344">1.7.344</option><option value="1.7.346">1.7.346</option><option value="1.7.348">1.7.348</option><option value="1.7.351">1.7.351</option><option value="1.7.355">1.7.355</option><option value="1.7.357">1.7.357</option><option value="1.7.359">1.7.359</option><option value="1.7.361">1.7.361</option><option value="1.7.363">1.7.363</option><option value="1.7.365">1.7.365</option><option value="1.7.367">1.7.367</option><option value="1.7.368">1.7.368</option><option value="1.7.370">1.7.370</option><option value="1.7.372">1.7.372</option><option value="1.7.374">1.7.374</option><option value="1.7.376">1.7.376</option><option value="1.7.378">1.7.378</option><option value="1.7.381">1.7.381</option><option value="1.7.384">1.7.384</option><option value="1.7.387">1.7.387</option><option value="1.7.389">1.7.389</option><option value="1.7.391">1.7.391</option><option value="1.7.393">1.7.393</option><option value="1.7.395">1.7.395</option><option value="1.7.397">1.7.397</option><option value="1.7.399">1.7.399</option><option value="1.7.401">1.7.401</option><option value="1.7.403">1.7.403</option><option value="1.7.406">1.7.406</option><option value="1.7.410">1.7.410</option><option value="1.7.412">1.7.412</option><option value="1.7.414">1.7.414</option><option value="1.7.416">1.7.416</option><option value="1.7.418">1.7.418</option><option value="1.8.170">1.8.170</option><option value="1.8.172">1.8.172</option><option value="1.8.173">1.8.173</option><option value="1.8.175">1.8.175</option><option value="1.8.177">1.8.177</option><option value="1.8.179">1.8.179</option><option value="1.8.181">1.8.181</option><option value="1.8.183">1.8.183</option><option value="1.8.186">1.8.186</option><option value="1.8.188">1.8.188</option><option value="1.8.190">1.8.190</option><option value="1.8.192">1.8.192</option><option value="1.8.195">1.8.195</option><option value="1.8.199">1.8.199</option><option value="1.8.201">1.8.201</option><option value="1.8.203">1.8.203</option><option value="1.8.205">1.8.205</option><option value="1.8.207">1.8.207</option><option value="1.8.213">1.8.213</option><option value="1.8.233">1.8.233</option><option value="1.8.235">1.8.235</option><option value="1.8.237">1.8.237</option><option value="1.8.241">1.8.241</option><option value="1.8.252">1.8.252</option><option value="1.8.254">1.8.254</option><option value="1.8.271">1.8.271</option><option value="1.8.273">1.8.273</option><option value="1.8.275">1.8.275</option><option value="1.8.276">1.8.276</option><option value="1.8.278">1.8.278</option><option value="1.8.280">1.8.280</option><option value="1.8.282">1.8.282</option><option value="1.8.284">1.8.284</option><option value="1.8.286">1.8.286</option><option value="1.8.288">1.8.288</option><option value="1.8.290">1.8.290</option><option value="1.8.292">1.8.292</option><option value="1.8.297">1.8.297</option><option value="1.8.299">1.8.299</option><option value="1.8.301">1.8.301</option><option value="1.8.303">1.8.303</option><option value="1.8.305">1.8.305</option><option value="1.8.306">1.8.306</option><option value="1.8.308">1.8.308</option><option value="1.8.310">1.8.310</option><option value="1.8.312">1.8.312</option><option value="1.8.314">1.8.314</option><option value="1.8.316">1.8.316</option><option value="1.8.318">1.8.318</option><option value="1.8.320">1.8.320</option><option value="1.8.323">1.8.323</option><option value="1.8.325">1.8.325</option><option value="1.8.327">1.8.327</option><option value="1.8.329">1.8.329</option><option value="1.8.331">1.8.331</option><option value="1.8.333">1.8.333</option><option value="1.8.337">1.8.337</option><option value="1.8.339">1.8.339</option><option value="1.8.342">1.8.342</option><option value="1.8.344">1.8.344</option><option value="1.8.346">1.8.346</option><option value="1.8.349">1.8.349</option><option value="1.8.351">1.8.351</option><option value="1.8.353">1.8.353</option><option value="1.8.355">1.8.355</option><option value="1.8.357">1.8.357</option><option value="1.8.359">1.8.359</option><option value="1.8.361">1.8.361</option><option value="1.8.363">1.8.363</option><option value="1.8.366">1.8.366</option><option value="1.8.369">1.8.369</option><option value="1.8.371">1.8.371</option><option value="1.8.374">1.8.374</option><option value="1.8.376">1.8.376</option><option value="1.8.378">1.8.378</option><option value="1.8.380">1.8.380</option><option value="1.8.382">1.8.382</option><option value="1.8.384">1.8.384</option><option value="1.8.386">1.8.386</option><option value="1.8.388">1.8.388</option><option value="1.8.390">1.8.390</option><option value="1.8.391">1.8.391</option><option value="1.8.394">1.8.394</option><option value="1.8.396">1.8.396</option><option value="1.8.398">1.8.398</option><option value="1.8.400">1.8.400</option><option value="1.8.402">1.8.402</option><option value="1.8.404">1.8.404</option><option value="1.8.406">1.8.406</option><option value="1.8.408">1.8.408</option><option value="1.8.410">1.8.410</option><option value="1.8.412">1.8.412</option><option value="1.8.414">1.8.414</option><option value="1.8.416">1.8.416</option><option value="1.8.418">1.8.418</option><option value="1.8.420">1.8.420</option><option value="1.8.423">1.8.423</option><option value="1.8.425">1.8.425</option><option value="1.8.426">1.8.426</option><option value="1.8.428">1.8.428</option><option value="1.8.430">1.8.430</option><option value="1.8.432">1.8.432</option><option value="1.8.434">1.8.434</option><option value="1.8.436">1.8.436</option><option value="1.8.439">1.8.439</option><option value="1.8.440">1.8.440</option><option value="1.8.442">1.8.442</option><option value="1.8.444">1.8.444</option><option value="1.8.446">1.8.446</option><option value="1.8.448">1.8.448</option><option value="1.8.450">1.8.450</option><option value="1.8.452">1.8.452</option><option value="1.8.454">1.8.454</option><option value="1.8.456">1.8.456</option><option value="1.8.458">1.8.458</option><option value="1.8.462">1.8.462</option><option value="1.8.463">1.8.463</option><option value="1.8.465">1.8.465</option><option value="1.8.467">1.8.467</option><option value="1.8.469">1.8.469</option><option value="1.8.472">1.8.472</option><option value="1.8.474">1.8.474</option><option value="1.8.476">1.8.476</option><option value="1.8.478">1.8.478</option><option value="1.8.480">1.8.480</option><option value="1.8.482">1.8.482</option><option value="1.8.484">1.8.484</option><option value="1.8.487">1.8.487</option><option value="1.8.489">1.8.489</option><option value="1.8.492">1.8.492</option><option value="1.8.493">1.8.493</option><option value="1.8.495">1.8.495</option><option value="1.8.497">1.8.497</option><option value="1.8.499">1.8.499</option><option value="1.8.501">1.8.501</option><option value="1.8.503">1.8.503</option><option value="1.8.505">1.8.505</option><option value="1.8.507">1.8.507</option><option value="1.8.508">1.8.508</option><option value="1.8.510">1.8.510</option><option value="1.8.512">1.8.512</option><option value="1.8.514">1.8.514</option><option value="1.8.516">1.8.516</option><option value="1.8.518">1.8.518</option><option value="1.8.520">1.8.520</option><option value="1.8.522">1.8.522</option><option value="1.8.524">1.8.524</option><option value="1.8.525">1.8.525</option><option value="1.8.527">1.8.527</option><option value="1.8.529">1.8.529</option><option value="1.8.531">1.8.531</option><option value="1.8.532">1.8.532</option><option value="1.8.535">1.8.535</option><option value="1.8.537">1.8.537</option><option value="1.8.540">1.8.540</option><option value="1.8.542">1.8.542</option><option value="1.8.548">1.8.548</option><option value="1.8.550">1.8.550</option><option value="1.8.552">1.8.552</option><option value="1.8.555">1.8.555</option><option value="1.8.557">1.8.557</option><option value="1.8.559">1.8.559</option><option value="1.8.562">1.8.562</option><option value="1.8.564">1.8.564</option><option value="1.8.568">1.8.568</option><option value="1.8.570">1.8.570</option><option value="1.8.571">1.8.571</option><option value="1.8.573">1.8.573</option><option value="1.8.575">1.8.575</option><option value="1.8.577">1.8.577</option><option value="1.8.579">1.8.579</option><option value="1.8.581">1.8.581</option><option value="1.8.583">1.8.583</option><option value="1.8.585">1.8.585</option><option value="1.8.587">1.8.587</option><option value="1.8.589">1.8.589</option><option value="1.8.591">1.8.591</option><option value="1.8.593">1.8.593</option><option value="1.8.595">1.8.595</option><option value="1.8.597">1.8.597</option><option value="1.8.599">1.8.599</option><option value="1.8.601">1.8.601</option><option value="1.8.603">1.8.603</option><option value="1.8.605">1.8.605</option><option value="1.8.607">1.8.607</option><option value="1.8.609">1.8.609</option><option value="1.8.610">1.8.610</option><option value="1.8.612">1.8.612</option><option value="1.8.614">1.8.614</option><option value="1.8.616">1.8.616</option><option value="1.8.618">1.8.618</option><option value="1.8.619">1.8.619</option><option value="1.9.426">1.9.426</option><option value="1.9.430">1.9.430</option><option value="1.9.432">1.9.432</option><option value="1.9.436">1.9.436</option><option value="1.9.438">1.9.438</option><option value="1.9.441">1.9.441</option><option value="1.9.444">1.9.444</option><option value="1.9.446">1.9.446</option><option value="1.9.448">1.9.448</option><option value="1.9.450">1.9.450</option><option value="1.9.452">1.9.452</option><option value="1.9.454">1.9.454</option><option value="1.9.456">1.9.456</option><option value="1.9.458">1.9.458</option><option value="1.9.460">1.9.460</option><option value="1.9.462">1.9.462</option><option value="1.9.466">1.9.466</option><option value="1.9.468">1.9.468</option><option value="1.9.470">1.9.470</option><option value="1.9.472">1.9.472</option><option value="1.9.474">1.9.474</option><option value="1.9.476">1.9.476</option><option value="1.9.478">1.9.478</option><option value="1.9.480">1.9.480</option><option value="1.9.482">1.9.482</option><option value="1.9.484">1.9.484</option><option value="1.9.486">1.9.486</option><option value="1.9.488">1.9.488</option><option value="1.9.489">1.9.489</option><option value="1.9.491">1.9.491</option><option value="1.9.493">1.9.493</option><option value="1.9.496">1.9.496</option><option value="1.9.502">1.9.502</option><option value="1.9.504">1.9.504</option><option value="1.9.506">1.9.506</option><option value="1.9.508">1.9.508</option><option value="1.9.510">1.9.510</option><option value="1.9.512">1.9.512</option><option value="1.9.514">1.9.514</option><option value="1.9.516">1.9.516</option><option value="1.9.523">1.9.523</option><option value="1.9.524">1.9.524</option><option value="1.9.526">1.9.526</option><option value="1.9.528">1.9.528</option><option value="1.9.530">1.9.530</option><option value="1.9.534">1.9.534</option><option value="1.9.537">1.9.537</option><option value="1.9.541">1.9.541</option><option value="1.9.544">1.9.544</option><option value="1.9.549">1.9.549</option><option value="1.9.551">1.9.551</option><option value="1.9.553">1.9.553</option><option value="1.9.554">1.9.554</option><option value="1.9.556">1.9.556</option><option value="1.9.558">1.9.558</option><option value="1.9.560">1.9.560</option><option value="1.9.562">1.9.562</option><option value="1.9.564">1.9.564</option><option value="1.9.566">1.9.566</option><option value="1.9.568">1.9.568</option><option value="1.9.570">1.9.570</option><option value="1.9.572">1.9.572</option><option value="1.9.573">1.9.573</option><option value="1.9.575">1.9.575</option><option value="1.9.577">1.9.577</option><option value="1.9.579">1.9.579</option><option value="1.9.583">1.9.583</option><option value="1.9.585">1.9.585</option><option value="1.9.587">1.9.587</option><option value="1.9.589">1.9.589</option><option value="1.9.593">1.9.593</option><option value="1.9.597">1.9.597</option><option value="1.9.598">1.9.598</option><option value="1.9.600">1.9.600</option><option value="1.9.602">1.9.602</option><option value="1.9.604">1.9.604</option><option value="1.9.607">1.9.607</option><option value="1.9.609">1.9.609</option><option value="1.9.611">1.9.611</option><option value="1.9.613">1.9.613</option><option value="1.9.615">1.9.615</option><option value="1.9.617">1.9.617</option><option value="1.9.620">1.9.620</option><option value="1.9.622">1.9.622</option><option value="1.9.623">1.9.623</option><option value="1.9.625">1.9.625</option><option value="1.9.628">1.9.628</option><option value="1.9.630">1.9.630</option><option value="1.9.632">1.9.632</option><option value="1.9.634">1.9.634</option><option value="1.9.636">1.9.636</option><option value="1.9.638">1.9.638</option><option value="1.9.640">1.9.640</option><option value="1.9.641">1.9.641</option><option value="1.9.643">1.9.643</option><option value="1.9.645">1.9.645</option><option value="1.9.646">1.9.646</option><option value="1.9.648">1.9.648</option><option value="1.9.650">1.9.650</option><option value="1.9.652">1.9.652</option><option value="1.9.654">1.9.654</option><option value="1.9.656">1.9.656</option><option value="1.9.658">1.9.658</option><option value="1.9.659">1.9.659</option><option value="1.9.661">1.9.661</option><option value="1.10.80">1.10.80</option><option value="1.10.81">1.10.81</option><option value="1.10.83">1.10.83</option><option value="1.10.86">1.10.86</option><option value="1.10.88">1.10.88</option><option value="1.10.90">1.10.90</option><option value="1.10.92">1.10.92</option><option value="1.10.93">1.10.93</option><option value="1.10.95">1.10.95</option><option value="1.10.97">1.10.97</option><option value="1.10.100">1.10.100</option><option value="2.0.87">2.0.87</option><option value="2.0.89">2.0.89</option><option value="2.0.91">2.0.91</option><option value="2.0.95">2.0.95</option><option value="2.0.97">2.0.97</option><option value="2.0.99">2.0.99</option><option value="2.0.101">2.0.101</option><option value="2.0.104">2.0.104</option><option value="2.0.106">2.0.106</option><option value="2.0.108">2.0.108</option><option value="2.0.112">2.0.112</option><option value="2.0.114">2.0.114</option><option value="2.0.118">2.0.118</option><option value="2.0.120">2.0.120</option><option value="2.0.122">2.0.122</option><option value="2.0.124">2.0.124</option><option value="2.0.126">2.0.126</option><option value="2.0.129">2.0.129</option><option value="2.0.131">2.0.131</option><option value="2.0.133">2.0.133</option><option value="2.0.135">2.0.135</option><option value="2.0.137">2.0.137</option><option value="2.0.139">2.0.139</option><option value="2.0.140">2.0.140</option><option value="2.0.142">2.0.142</option><option value="2.0.144">2.0.144</option><option value="2.0.151">2.0.151</option><option value="2.0.153">2.0.153</option><option value="2.0.155">2.0.155</option><option value="2.0.157">2.0.157</option><option value="2.0.159">2.0.159</option><option value="2.0.161">2.0.161</option><option value="2.0.163">2.0.163</option><option value="2.0.165">2.0.165</option><option value="2.0.167">2.0.167</option><option value="2.0.169">2.0.169</option><option value="2.0.172">2.0.172</option><option value="2.0.173">2.0.173</option><option value="2.0.175">2.0.175</option><option value="2.0.177">2.0.177</option><option value="2.0.179">2.0.179</option><option value="2.0.181">2.0.181</option><option value="2.0.183">2.0.183</option><option value="2.0.185">2.0.185</option><option value="2.0.187">2.0.187</option><option value="2.0.191">2.0.191</option><option value="2.0.193">2.0.193</option><option value="2.0.195">2.0.195</option><option value="2.0.197">2.0.197</option><option value="2.0.199">2.0.199</option><option value="2.0.201">2.0.201</option><option value="2.0.203">2.0.203</option><option value="2.0.205">2.0.205</option><option value="2.0.207">2.0.207</option><option value="2.0.209">2.0.209</option><option value="2.0.211">2.0.211</option><option value="2.0.213">2.0.213</option><option value="2.0.220">2.0.220</option><option value="2.0.222">2.0.222</option><option value="2.0.224">2.0.224</option><option value="2.0.226">2.0.226</option><option value="2.0.228">2.0.228</option><option value="2.0.230">2.0.230</option><option value="2.0.232">2.0.232</option><option value="2.0.234">2.0.234</option><option value="2.0.236">2.0.236</option><option value="2.0.239">2.0.239</option><option value="2.0.241">2.0.241</option><option value="2.0.243">2.0.243</option><option value="2.0.244">2.0.244</option><option value="2.0.246">2.0.246</option><option value="2.0.248">2.0.248</option><option value="2.0.250">2.0.250</option><option value="2.0.252">2.0.252</option><option value="2.0.254">2.0.254</option><option value="2.0.256">2.0.256</option><option value="2.0.258">2.0.258</option><option value="2.0.260">2.0.260</option><option value="2.0.263">2.0.263</option><option value="2.0.265">2.0.265</option><option value="2.0.267">2.0.267</option><option value="2.0.269">2.0.269</option><option value="2.0.271">2.0.271</option><option value="2.0.272">2.0.272</option><option value="2.0.274">2.0.274</option><option value="2.0.276">2.0.276</option><option value="2.0.279">2.0.279</option><option value="2.0.281">2.0.281</option><option value="2.0.283">2.0.283</option><option value="2.0.285">2.0.285</option><option value="2.0.288">2.0.288</option><option value="2.0.290">2.0.290</option><option value="2.0.292">2.0.292</option><option value="2.0.295">2.0.295</option><option value="2.0.301">2.0.301</option><option value="2.0.303">2.0.303</option><option value="2.0.305">2.0.305</option><option value="2.0.310">2.0.310</option><option value="2.0.312">2.0.312</option><option value="2.0.315">2.0.315</option><option value="2.0.318">2.0.318</option><option value="2.0.323">2.0.323</option><option value="2.0.328">2.0.328</option><option value="2.0.329">2.0.329</option><option value="2.0.330">2.0.330</option><option value="2.0.332">2.0.332</option><option value="2.0.334">2.0.334</option><option value="2.0.336">2.0.336</option><option value="2.0.338">2.0.338</option><option value="2.0.345">2.0.345</option><option value="2.0.347">2.0.347</option><option value="2.0.349">2.0.349</option><option value="2.0.352">2.0.352</option><option value="2.0.354">2.0.354</option><option value="2.0.357">2.0.357</option><option value="2.0.359">2.0.359</option><option value="2.0.361">2.0.361</option><option value="2.0.363">2.0.363</option><option value="2.0.374">2.0.374</option><option value="2.0.376">2.0.376</option><option value="2.0.378">2.0.378</option><option value="2.0.385">2.0.385</option><option value="2.0.389">2.0.389</option><option value="2.0.391">2.0.391</option><option value="2.0.395">2.0.395</option><option value="2.0.396">2.0.396</option><option value="2.0.398">2.0.398</option><option value="2.0.400">2.0.400</option><option value="2.0.402">2.0.402</option><option value="2.0.419">2.0.419</option><option value="2.0.421">2.0.421</option><option value="2.0.424">2.0.424</option><option value="2.0.426">2.0.426</option><option value="2.0.428">2.0.428</option><option value="2.0.430">2.0.430</option><option value="2.0.432">2.0.432</option><option value="2.0.437">2.0.437</option><option value="2.0.439">2.0.439</option><option value="2.0.442">2.0.442</option><option value="2.0.444">2.0.444</option><option value="2.0.447">2.0.447</option><option value="2.0.449">2.0.449</option><option value="2.0.451">2.0.451</option><option value="2.0.453">2.0.453</option><option value="2.0.455">2.0.455</option><option value="2.0.457">2.0.457</option><option value="2.0.466">2.0.466</option><option value="2.0.468">2.0.468</option><option value="2.0.470">2.0.470</option><option value="2.0.472">2.0.472</option><option value="2.0.474">2.0.474</option><option value="2.0.476">2.0.476</option><option value="2.0.478">2.0.478</option><option value="2.0.480">2.0.480</option><option value="2.0.485">2.0.485</option><option value="2.0.487">2.0.487</option><option value="2.0.489">2.0.489</option><option value="2.0.550">2.0.550</option><option value="2.0.943">2.0.943</option><option value="2.1.266">2.1.266</option><option value="2.2.228">2.2.228</option><option value="2.3.200">2.3.200</option><option value="2.4.456">2.4.456</option><option selected="" value="2.5.207">2.5.207</option><option value="2.6.347">2.6.347</option><option value="2.7.570">2.7.570</option><option value="2.8.335">2.8.335</option><option value="2.9.359">2.9.359</option><option value="2.10.377">2.10.377</option><option value="2.11.338">2.11.338</option><option value="2.12.313">2.12.313</option><option value="2.13.216">2.13.216</option><option value="2.14.305">2.14.305</option><option value="2.15.349">2.15.349</option><option value="2.16.105">2.16.105</option><option value="3.0.279">3.0.279</option><option value="3.1.81">3.1.81</option><option value="3.2.146">3.2.146</option><option value="3.3.122">3.3.122</option><option value="3.4.120">3.4.120</option><option value="3.5.141">3.5.141</option><option value="3.6.172">3.6.172</option><option value="3.7.107">3.7.107</option><option value="3.8.162">3.8.162</option><option value="3.9.179">3.9.179</option><option value="3.10.111">3.10.111</option><option value="3.11.174">3.11.174</option><option value="4.0.189">4.0.189</option><option value="4.0.269">4.0.269</option><option value="4.0.379">4.0.379</option><option value="4.1.392">4.1.392</option><option value="4.2.67">4.2.67</option><option value="4.3.136">4.3.136</option></select></label></p></header></div><style data-emotion-css="107j3ms">.css-107j3ms{max-width:940px;padding:0 20px;margin:0 auto;}@media (max-width:700px){.css-107j3ms{padding:0;margin:0;}}</style><div class="css-107j3ms"><style data-emotion-css="q3frg4">.css-q3frg4{border:1px solid #dfe2e5;border-radius:3px;}@media (max-width:700px){.css-q3frg4{border-right-width:0;border-left-width:0;}}</style><div class="css-q3frg4"><style data-emotion-css="10o5omr">.css-10o5omr{padding:10px;background:#f6f8fa;color:#424242;border:1px solid #d1d5da;border-top-left-radius:3px;border-top-right-radius:3px;margin:-1px -1px 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}@media (max-width:700px){.css-10o5omr{padding-right:20px;padding-left:20px;}}</style><div class="css-10o5omr"><span>195 kB</span><span>JavaScript</span><span><style data-emotion-css="18x593j">.css-18x593j{display:inline-block;margin-left:8px;padding:2px 8px;-webkit-text-decoration:none;text-decoration:none;font-weight:600;font-size:0.9rem;color:#24292e;background-color:#eff3f6;border:1px solid rgba(27,31,35,.2);border-radius:3px;}.css-18x593j:hover{background-color:#e6ebf1;border-color:rgba(27,31,35,.35);}.css-18x593j:active{background-color:#e9ecef;border-color:rgba(27,31,35,.35);box-shadow:inset 0 0.15em 0.3em rgba(27,31,35,.15);}</style><a href="/pdfjs-dist@2.5.207/build/pdf.min.js" class="css-18x593j">View Raw</a></span></div><style data-emotion-css="1i31ihw">.css-1i31ihw{overflow-x:auto;overflow-y:hidden;padding-top:5px;padding-bottom:5px;}</style><div class="code-listing css-1i31ihw"><style data-emotion-css="173nir8">.css-173nir8{border:none;border-collapse:collapse;border-spacing:0;}</style><table class="css-173nir8"><tbody><tr><style data-emotion-css="a4x74f">.css-a4x74f{padding-left:10px;padding-right:10px;color:rgba(27,31,35,.3);text-align:right;vertical-align:top;width:1%;min-width:50px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td id="L1" class="css-a4x74f"><span>1</span></td><style data-emotion-css="1dcdqdg">.css-1dcdqdg{padding-left:10px;padding-right:10px;color:#24292e;white-space:pre;}</style><td id="LC1" class="css-1dcdqdg"><code><span class="code-comment">/**
</span></code></td></tr><tr><td id="L2" class="css-a4x74f"><span>2</span></td><td id="LC2" class="css-1dcdqdg"><code><span class="code-comment"> * @licstart The following is the entire license notice for the
</span></code></td></tr><tr><td id="L3" class="css-a4x74f"><span>3</span></td><td id="LC3" class="css-1dcdqdg"><code><span class="code-comment"> * Javascript code in this page
</span></code></td></tr><tr><td id="L4" class="css-a4x74f"><span>4</span></td><td id="LC4" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L5" class="css-a4x74f"><span>5</span></td><td id="LC5" class="css-1dcdqdg"><code><span class="code-comment"> * Copyright 2020 Mozilla Foundation
</span></code></td></tr><tr><td id="L6" class="css-a4x74f"><span>6</span></td><td id="LC6" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L7" class="css-a4x74f"><span>7</span></td><td id="LC7" class="css-1dcdqdg"><code><span class="code-comment"> * Licensed under the Apache License, Version 2.0 (the "License");
</span></code></td></tr><tr><td id="L8" class="css-a4x74f"><span>8</span></td><td id="LC8" class="css-1dcdqdg"><code><span class="code-comment"> * you may not use this file except in compliance with the License.
</span></code></td></tr><tr><td id="L9" class="css-a4x74f"><span>9</span></td><td id="LC9" class="css-1dcdqdg"><code><span class="code-comment"> * You may obtain a copy of the License at
</span></code></td></tr><tr><td id="L10" class="css-a4x74f"><span>10</span></td><td id="LC10" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L11" class="css-a4x74f"><span>11</span></td><td id="LC11" class="css-1dcdqdg"><code><span class="code-comment"> *     http://www.apache.org/licenses/LICENSE-2.0
</span></code></td></tr><tr><td id="L12" class="css-a4x74f"><span>12</span></td><td id="LC12" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L13" class="css-a4x74f"><span>13</span></td><td id="LC13" class="css-1dcdqdg"><code><span class="code-comment"> * Unless required by applicable law or agreed to in writing, software
</span></code></td></tr><tr><td id="L14" class="css-a4x74f"><span>14</span></td><td id="LC14" class="css-1dcdqdg"><code><span class="code-comment"> * distributed under the License is distributed on an "AS IS" BASIS,
</span></code></td></tr><tr><td id="L15" class="css-a4x74f"><span>15</span></td><td id="LC15" class="css-1dcdqdg"><code><span class="code-comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
</span></code></td></tr><tr><td id="L16" class="css-a4x74f"><span>16</span></td><td id="LC16" class="css-1dcdqdg"><code><span class="code-comment"> * See the License for the specific language governing permissions and
</span></code></td></tr><tr><td id="L17" class="css-a4x74f"><span>17</span></td><td id="LC17" class="css-1dcdqdg"><code><span class="code-comment"> * limitations under the License.
</span></code></td></tr><tr><td id="L18" class="css-a4x74f"><span>18</span></td><td id="LC18" class="css-1dcdqdg"><code><span class="code-comment"> *
</span></code></td></tr><tr><td id="L19" class="css-a4x74f"><span>19</span></td><td id="LC19" class="css-1dcdqdg"><code><span class="code-comment"> * @licend The above is the entire license notice for the
</span></code></td></tr><tr><td id="L20" class="css-a4x74f"><span>20</span></td><td id="LC20" class="css-1dcdqdg"><code><span class="code-comment"> * Javascript code in this page
</span></code></td></tr><tr><td id="L21" class="css-a4x74f"><span>21</span></td><td id="LC21" class="css-1dcdqdg"><code><span class="code-comment"> */</span>
</code></td></tr><tr><td id="L22" class="css-a4x74f"><span>22</span></td><td id="LC22" class="css-1dcdqdg"><code>!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> exports&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">module</span>?<span class="code-built_in">module</span>.exports=t():<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> define&amp;&amp;define.amd?define(<span class="code-string">"pdfjs-dist/build/pdf"</span>,[],t):<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> exports?exports[<span class="code-string">"pdfjs-dist/build/pdf"</span>]=t():e[<span class="code-string">"pdfjs-dist/build/pdf"</span>]=e.pdfjsLib=t()}(<span class="code-keyword">this</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">var</span> t={};<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">r</span>(<span class="code-params">s</span>)</span>{<span class="code-keyword">if</span>(t[s])<span class="code-keyword">return</span> t[s].exports;<span class="code-keyword">var</span> n=t[s]={<span class="code-attr">i</span>:s,<span class="code-attr">l</span>:!<span class="code-number">1</span>,<span class="code-attr">exports</span>:{}};<span class="code-keyword">return</span> e[s].call(n.exports,n,n.exports,r),n.l=!<span class="code-number">0</span>,n.exports}<span class="code-keyword">return</span> r.m=e,r.c=t,r.d=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,s</span>)</span>{r.o(e,t)||<span class="code-built_in">Object</span>.defineProperty(e,t,{<span class="code-attr">enumerable</span>:!<span class="code-number">0</span>,<span class="code-attr">get</span>:s})},r.r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> <span class="code-built_in">Symbol</span>&amp;&amp;<span class="code-built_in">Symbol</span>.toStringTag&amp;&amp;<span class="code-built_in">Object</span>.defineProperty(e,<span class="code-built_in">Symbol</span>.toStringTag,{<span class="code-attr">value</span>:<span class="code-string">"Module"</span>}),<span class="code-built_in">Object</span>.defineProperty(e,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>})},r.t=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">1</span>&amp;t&amp;&amp;<span class="code-function">(<span class="code-params">e=r(e</span>)),8&amp;<span class="code-params">t</span>)<span class="code-params">return</span> <span class="code-params">e</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-number">4</span>&amp;t&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;e&amp;&amp;e.__esModule</span>)<span class="code-params">return</span> <span class="code-params">e</span>;<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>);<span class="code-params">if</span>(<span class="code-params">r.r(s</span>),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">s,<span class="code-string">"default"</span>,{enumerable:!<span class="code-number">0</span>,value:e}</span>),2&amp;<span class="code-params">t</span>&amp;&amp;"<span class="code-params">string</span>"!=<span class="code-params">typeof</span> <span class="code-params">e</span>)<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> n <span class="code-keyword">in</span> e</span>)<span class="code-params">r</span>.<span class="code-params">d</span>(<span class="code-params">s,n,<span class="code-keyword">function</span>(t</span>){<span class="code-params">return</span> <span class="code-params">e</span>[<span class="code-params">t</span>]}.<span class="code-params">bind</span>(<span class="code-params"><span class="code-literal">null</span>,n</span>));<span class="code-params">return</span> <span class="code-params">s</span>},<span class="code-params">r</span>.<span class="code-params">n</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">e</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">__esModule</span>?<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">default</span>}:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">e</span>};<span class="code-params">return</span> <span class="code-params">r</span>.<span class="code-params">d</span>(<span class="code-params">t,<span class="code-string">"a"</span>,t</span>),<span class="code-params">t</span>},<span class="code-params">r</span>.<span class="code-params">o</span>=<span class="code-params">function</span>(<span class="code-params">e,t</span>){<span class="code-params">return</span> <span class="code-params">Object</span>.<span class="code-params">prototype</span>.<span class="code-params">hasOwnProperty</span>.<span class="code-params">call</span>(<span class="code-params">e,t</span>)},<span class="code-params">r</span>.<span class="code-params">p</span>="",<span class="code-params">r</span>(<span class="code-params">r.s=<span class="code-number">0</span></span>)}(<span class="code-params">[<span class="code-keyword">function</span>(e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"addLinkAttributes"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">addLinkAttributes</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"getFilenameFromUrl"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">getFilenameFromUrl</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"LinkTarget"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">LinkTarget</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"loadScript"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">loadScript</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"PDFDateString"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">PDFDateString</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"RenderingCancelledException"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">RenderingCancelledException</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"build"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">n</span>.<span class="code-params">build</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"getDocument"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">n</span>.<span class="code-params">getDocument</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"LoopbackPort"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">n</span>.<span class="code-params">LoopbackPort</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"PDFDataRangeTransport"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">n</span>.<span class="code-params">PDFDataRangeTransport</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"PDFWorker"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">n</span>.<span class="code-params">PDFWorker</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"version"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">n</span>.<span class="code-params">version</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"CMapCompressionType"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">CMapCompressionType</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"createObjectURL"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">createObjectURL</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"createPromiseCapability"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">createPromiseCapability</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"createValidAbsoluteUrl"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">createValidAbsoluteUrl</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"InvalidPDFException"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">InvalidPDFException</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"MissingPDFException"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">MissingPDFException</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"OPS"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">OPS</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"PasswordResponses"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">PasswordResponses</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"PermissionFlag"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">PermissionFlag</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"removeNullCharacters"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">removeNullCharacters</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"shadow"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">shadow</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"UnexpectedResponseException"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">UnexpectedResponseException</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"UNSUPPORTED_FEATURES"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">UNSUPPORTED_FEATURES</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"Util"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">Util</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"VerbosityLevel"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">VerbosityLevel</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"AnnotationLayer"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">a</span>.<span class="code-params">AnnotationLayer</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"apiCompatibilityParams"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">o</span>.<span class="code-params">apiCompatibilityParams</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"GlobalWorkerOptions"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">l</span>.<span class="code-params">GlobalWorkerOptions</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"renderTextLayer"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">c</span>.<span class="code-params">renderTextLayer</span>}}),<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"SVGGraphics"</span>,{enumerable:!<span class="code-number">0</span>,get:<span class="code-keyword">function</span>(</span>){<span class="code-params">return</span> <span class="code-params">h</span>.<span class="code-params">SVGGraphics</span>}});<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">1</span></span>),<span class="code-params">n</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">5</span></span>),<span class="code-params">i</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">2</span></span>),<span class="code-params">a</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">16</span></span>),<span class="code-params">o</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">7</span></span>),<span class="code-params">l</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">10</span></span>),<span class="code-params">c</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">17</span></span>),<span class="code-params">h</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">18</span></span>);{<span class="code-params">const</span>{<span class="code-params">isNodeJS</span>:<span class="code-params">e</span>}=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">4</span></span>);<span class="code-params">if</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">19</span></span>).<span class="code-params">PDFNodeStream</span>;(<span class="code-params"><span class="code-number">0</span>,n.setPDFNetworkStreamFactory</span>)(<span class="code-params">t=&gt;<span class="code-keyword">new</span> e(t</span>))}<span class="code-params">else</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">22</span></span>).<span class="code-params">PDFNetworkStream</span>;<span class="code-params">let</span> <span class="code-params">t</span>;(<span class="code-params"><span class="code-number">0</span>,s.isFetchSupported</span>)<span class="code-params">()</span>&amp;&amp;(<span class="code-params">t=r(<span class="code-number">23</span></span>).<span class="code-params">PDFFetchStream</span>),(<span class="code-params"><span class="code-number">0</span>,n.setPDFNetworkStreamFactory</span>)(<span class="code-params">r=&gt;t&amp;&amp;(<span class="code-number">0</span>,s.isValidFetchUrl</span>)(<span class="code-params">r.url</span>)?<span class="code-params">new</span> <span class="code-params">t</span>(<span class="code-params">r</span>):<span class="code-params">new</span> <span class="code-params">e</span>(<span class="code-params">r</span>))}}},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">addLinkAttributes</span>=<span class="code-params">function</span>(<span class="code-params">e,{url:t,target:r,rel:n,enabled:i=!<span class="code-number">0</span>}={}</span>){(<span class="code-params"><span class="code-number">0</span>,s.assert</span>)(<span class="code-params">t&amp;&amp;<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t,<span class="code-string">'addLinkAttributes: A valid "url" parameter must provided.'</span></span>);<span class="code-params">const</span> <span class="code-params">a</span>=(<span class="code-params"><span class="code-number">0</span>,s.removeNullCharacters</span>)(<span class="code-params">t</span>);<span class="code-params">i</span>?<span class="code-params">e</span>.<span class="code-params">href</span>=<span class="code-params">e</span>.<span class="code-params">title</span>=<span class="code-params">a</span>:(<span class="code-params">e.href=<span class="code-string">""</span>,e.title=<span class="code-string">"Disabled: "</span>+a,e.onclick=(</span>)=&gt;</span>!<span class="code-number">1</span>);<span class="code-keyword">let</span> l=<span class="code-string">""</span>;<span class="code-keyword">switch</span>(r){<span class="code-keyword">case</span> o.NONE:<span class="code-keyword">break</span>;<span class="code-keyword">case</span> o.SELF:l=<span class="code-string">"_self"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> o.BLANK:l=<span class="code-string">"_blank"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> o.PARENT:l=<span class="code-string">"_parent"</span>;<span class="code-keyword">break</span>;<span class="code-keyword">case</span> o.TOP:l=<span class="code-string">"_top"</span>}e.target=l,e.rel=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> n?n:<span class="code-string">"noopener noreferrer nofollow"</span>},t.getFilenameFromUrl=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">const</span> t=e.indexOf(<span class="code-string">"#"</span>),r=e.indexOf(<span class="code-string">"?"</span>),s=<span class="code-built_in">Math</span>.min(t&gt;<span class="code-number">0</span>?t:e.length,r&gt;<span class="code-number">0</span>?r:e.length);<span class="code-keyword">return</span> e.substring(e.lastIndexOf(<span class="code-string">"/"</span>,s)+<span class="code-number">1</span>,s)},t.isFetchSupported=l,t.isValidFetchUrl=c,t.loadScript=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">Promise</span>(<span class="code-function">(<span class="code-params">t,r</span>)=&gt;</span>{<span class="code-keyword">const</span> s=<span class="code-built_in">document</span>.createElement(<span class="code-string">"script"</span>);s.src=e,s.onload=t,s.onerror=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{r(<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Cannot load script at: "</span>+s.src))},(<span class="code-built_in">document</span>.head||<span class="code-built_in">document</span>.documentElement).appendChild(s)})},t.deprecated=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-built_in">console</span>.log(<span class="code-string">"Deprecated API usage: "</span>+e)},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.DOMCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">var</span> s=r(<span class="code-number">2</span>);t.DEFAULT_LINK_REL=<span class="code-string">"noopener noreferrer nofollow"</span>;<span class="code-keyword">const</span> n=<span class="code-string">"http://www.w3.org/2000/svg"</span>;t.DOMCanvasFactory=<span class="code-class"><span class="code-keyword">class</span></span>{create(e,t){<span class="code-keyword">if</span>(e&lt;=<span class="code-number">0</span>||t&lt;=<span class="code-number">0</span>)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid canvas size"</span>);<span class="code-keyword">const</span> r=<span class="code-built_in">document</span>.createElement(<span class="code-string">"canvas"</span>),s=r.getContext(<span class="code-string">"2d"</span>);<span class="code-keyword">return</span> r.width=e,r.height=t,{<span class="code-attr">canvas</span>:r,<span class="code-attr">context</span>:s}}reset(e,t,r){<span class="code-keyword">if</span>(!e.canvas)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Canvas is not specified"</span>);<span class="code-keyword">if</span>(t&lt;=<span class="code-number">0</span>||r&lt;=<span class="code-number">0</span>)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid canvas size"</span>);e.canvas.width=t,e.canvas.height=r}destroy(e){<span class="code-keyword">if</span>(!e.canvas)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Canvas is not specified"</span>);e.canvas.width=<span class="code-number">0</span>,e.canvas.height=<span class="code-number">0</span>,e.canvas=<span class="code-literal">null</span>,e.context=<span class="code-literal">null</span>}};t.DOMCMapReaderFactory=<span class="code-class"><span class="code-keyword">class</span></span>{<span class="code-keyword">constructor</span>({baseUrl:e=<span class="code-literal">null</span>,<span class="code-attr">isCompressed</span>:t=!<span class="code-number">1</span>}){<span class="code-keyword">this</span>.baseUrl=e,<span class="code-keyword">this</span>.isCompressed=t}<span class="code-keyword">async</span> fetch({<span class="code-attr">name</span>:e}){<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.baseUrl)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">'The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.'</span>);<span class="code-keyword">if</span>(!e)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"CMap name must be specified."</span>);<span class="code-keyword">const</span> t=<span class="code-keyword">this</span>.baseUrl+e+<span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>.isCompressed?<span class="code-string">".bcmap"</span>:<span class="code-string">""</span></span>),<span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">isCompressed</span>?<span class="code-params">s</span>.<span class="code-params">CMapCompressionType</span>.<span class="code-params">BINARY</span>:<span class="code-params">s</span>.<span class="code-params">CMapCompressionType</span>.<span class="code-params">NONE</span>;<span class="code-params">return</span> <span class="code-params">l</span><span class="code-params">()</span>&amp;&amp;<span class="code-params">c</span>(<span class="code-params">t,<span class="code-built_in">document</span>.baseURI</span>)?<span class="code-params">fetch</span>(<span class="code-params">t</span>).<span class="code-params">then</span>(<span class="code-params"><span class="code-keyword">async</span> e=&gt;{<span class="code-keyword">if</span>(!e.ok</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params">e.statusText</span>);<span class="code-params">let</span> <span class="code-params">t</span>;<span class="code-params">return</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">isCompressed</span>?<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params"><span class="code-keyword">await</span> e.arrayBuffer(</span>)):(<span class="code-params"><span class="code-number">0</span>,s.stringToBytes</span>)(<span class="code-params"><span class="code-keyword">await</span> e.text(</span>)),{<span class="code-params">cMapData</span>:<span class="code-params">t</span>,<span class="code-params">compressionType</span>:<span class="code-params">r</span>}}).<span class="code-params">catch</span>(<span class="code-params">e=&gt;{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unable to load "</span>+(<span class="code-keyword">this</span>.isCompressed?<span class="code-string">"binary "</span>:<span class="code-string">""</span></span>)+"<span class="code-params">CMap</span> <span class="code-params">at</span>: "+<span class="code-params">t</span>)}):<span class="code-params">new</span> <span class="code-params">Promise</span>(<span class="code-params">(e,n</span>)=&gt;</span>{<span class="code-keyword">const</span> i=<span class="code-keyword">new</span> XMLHttpRequest;i.open(<span class="code-string">"GET"</span>,t,!<span class="code-number">0</span>),<span class="code-keyword">this</span>.isCompressed&amp;&amp;<span class="code-function">(<span class="code-params">i.responseType=<span class="code-string">"arraybuffer"</span></span>),<span class="code-params">i</span>.<span class="code-params">onreadystatechange</span>=<span class="code-params">()</span>=&gt;</span>{<span class="code-keyword">if</span>(i.readyState===XMLHttpRequest.DONE){<span class="code-keyword">if</span>(<span class="code-number">200</span>===i.status||<span class="code-number">0</span>===i.status){<span class="code-keyword">let</span> t;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.isCompressed&amp;&amp;i.response?t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(i.response):!<span class="code-keyword">this</span>.isCompressed&amp;&amp;i.responseText&amp;&amp;<span class="code-function">(<span class="code-params">t=(<span class="code-number">0</span>,s.stringToBytes</span>)(<span class="code-params">i.responseText</span>)),<span class="code-params">t</span>)<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">e</span>(<span class="code-params">{cMapData:t,compressionType:r}</span>)}<span class="code-params">n</span>(<span class="code-params"><span class="code-keyword">new</span> <span class="code-built_in">Error</span>(i.statusText</span>))}},<span class="code-params">i</span>.<span class="code-params">send</span>(<span class="code-params"><span class="code-literal">null</span></span>)}).<span class="code-params">catch</span>(<span class="code-params">e=&gt;{<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unable to load "</span>+(<span class="code-keyword">this</span>.isCompressed?<span class="code-string">"binary "</span>:<span class="code-string">""</span></span>)+"<span class="code-params">CMap</span> <span class="code-params">at</span>: "+<span class="code-params">t</span>)})}};<span class="code-params">t</span>.<span class="code-params">DOMSVGFactory</span>=<span class="code-params">class</span>{<span class="code-params">create</span>(<span class="code-params">e,t</span>){(<span class="code-params"><span class="code-number">0</span>,s.assert</span>)(<span class="code-params">e&gt;<span class="code-number">0</span>&amp;&amp;t&gt;<span class="code-number">0</span>,<span class="code-string">"Invalid SVG dimensions"</span></span>);<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">document</span>.<span class="code-params">createElementNS</span>(<span class="code-params">n,<span class="code-string">"svg:svg"</span></span>);<span class="code-params">return</span> <span class="code-params">r</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"version"</span>,<span class="code-string">"1.1"</span></span>),<span class="code-params">r</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"width"</span>,e+<span class="code-string">"px"</span></span>),<span class="code-params">r</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"height"</span>,t+<span class="code-string">"px"</span></span>),<span class="code-params">r</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"preserveAspectRatio"</span>,<span class="code-string">"none"</span></span>),<span class="code-params">r</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"viewBox"</span>,<span class="code-string">"0 0 "</span>+e+<span class="code-string">" "</span>+t</span>),<span class="code-params">r</span>}<span class="code-params">createElement</span>(<span class="code-params">e</span>){<span class="code-params">return</span>(<span class="code-params"><span class="code-number">0</span>,s.assert</span>)(<span class="code-params"><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e,<span class="code-string">"Invalid SVG element type"</span></span>),<span class="code-params">document</span>.<span class="code-params">createElementNS</span>(<span class="code-params">n,e</span>)}};<span class="code-params">class</span> <span class="code-params">i</span>{<span class="code-params">constructor</span>(<span class="code-params">{viewBox:e,scale:t,rotation:r,offsetX:s=<span class="code-number">0</span>,offsetY:n=<span class="code-number">0</span>,dontFlip:i=!<span class="code-number">1</span>}</span>){<span class="code-params">this</span>.<span class="code-params">viewBox</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">scale</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">rotation</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">offsetX</span>=<span class="code-params">s</span>,<span class="code-params">this</span>.<span class="code-params">offsetY</span>=<span class="code-params">n</span>;<span class="code-params">const</span> <span class="code-params">a</span>=(<span class="code-params">e[<span class="code-number">2</span>]+e[<span class="code-number">0</span>]</span>)/2,<span class="code-params">o</span>=(<span class="code-params">e[<span class="code-number">3</span>]+e[<span class="code-number">1</span>]</span>)/2;<span class="code-params">let</span> <span class="code-params">l</span>,<span class="code-params">c</span>,<span class="code-params">h</span>,<span class="code-params">d</span>,<span class="code-params">u</span>,<span class="code-params">p</span>,<span class="code-params">g</span>,<span class="code-params">f</span>;<span class="code-params">switch</span>(<span class="code-params">r=(r%=<span class="code-number">360</span></span>)&lt;0?<span class="code-params">r</span>+360:<span class="code-params">r</span>){<span class="code-params">case</span> 180:<span class="code-params">l</span>=-1,<span class="code-params">c</span>=0,<span class="code-params">h</span>=0,<span class="code-params">d</span>=1;<span class="code-params">break</span>;<span class="code-params">case</span> 90:<span class="code-params">l</span>=0,<span class="code-params">c</span>=1,<span class="code-params">h</span>=1,<span class="code-params">d</span>=0;<span class="code-params">break</span>;<span class="code-params">case</span> 270:<span class="code-params">l</span>=0,<span class="code-params">c</span>=-1,<span class="code-params">h</span>=-1,<span class="code-params">d</span>=0;<span class="code-params">break</span>;<span class="code-params">case</span> 0:<span class="code-params">l</span>=1,<span class="code-params">c</span>=0,<span class="code-params">h</span>=0,<span class="code-params">d</span>=-1;<span class="code-params">break</span>;<span class="code-params">default</span>:<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"PageViewport: Invalid rotation, must be a multiple of 90 degrees."</span></span>)}<span class="code-params">i</span>&amp;&amp;(<span class="code-params">h=-h,d=-d</span>),0===<span class="code-params">l</span>?(<span class="code-params">u=<span class="code-built_in">Math</span>.abs(o-e[<span class="code-number">1</span>]</span>)*<span class="code-params">t</span>+<span class="code-params">s</span>,<span class="code-params">p</span>=<span class="code-params">Math</span>.<span class="code-params">abs</span>(<span class="code-params">a-e[<span class="code-number">0</span>]</span>)*<span class="code-params">t</span>+<span class="code-params">n</span>,<span class="code-params">g</span>=<span class="code-params">Math</span>.<span class="code-params">abs</span>(<span class="code-params">e[<span class="code-number">3</span>]-e[<span class="code-number">1</span>]</span>)*<span class="code-params">t</span>,<span class="code-params">f</span>=<span class="code-params">Math</span>.<span class="code-params">abs</span>(<span class="code-params">e[<span class="code-number">2</span>]-e[<span class="code-number">0</span>]</span>)*<span class="code-params">t</span>):(<span class="code-params">u=<span class="code-built_in">Math</span>.abs(a-e[<span class="code-number">0</span>]</span>)*<span class="code-params">t</span>+<span class="code-params">s</span>,<span class="code-params">p</span>=<span class="code-params">Math</span>.<span class="code-params">abs</span>(<span class="code-params">o-e[<span class="code-number">1</span>]</span>)*<span class="code-params">t</span>+<span class="code-params">n</span>,<span class="code-params">g</span>=<span class="code-params">Math</span>.<span class="code-params">abs</span>(<span class="code-params">e[<span class="code-number">2</span>]-e[<span class="code-number">0</span>]</span>)*<span class="code-params">t</span>,<span class="code-params">f</span>=<span class="code-params">Math</span>.<span class="code-params">abs</span>(<span class="code-params">e[<span class="code-number">3</span>]-e[<span class="code-number">1</span>]</span>)*<span class="code-params">t</span>),<span class="code-params">this</span>.<span class="code-params">transform</span>=[<span class="code-params">l</span>*<span class="code-params">t</span>,<span class="code-params">c</span>*<span class="code-params">t</span>,<span class="code-params">h</span>*<span class="code-params">t</span>,<span class="code-params">d</span>*<span class="code-params">t</span>,<span class="code-params">u</span>-<span class="code-params">l</span>*<span class="code-params">t</span>*<span class="code-params">a</span>-<span class="code-params">h</span>*<span class="code-params">t</span>*<span class="code-params">o</span>,<span class="code-params">p</span>-<span class="code-params">c</span>*<span class="code-params">t</span>*<span class="code-params">a</span>-<span class="code-params">d</span>*<span class="code-params">t</span>*<span class="code-params">o</span>],<span class="code-params">this</span>.<span class="code-params">width</span>=<span class="code-params">g</span>,<span class="code-params">this</span>.<span class="code-params">height</span>=<span class="code-params">f</span>}<span class="code-params">clone</span>(<span class="code-params">{scale:e=<span class="code-keyword">this</span>.scale,rotation:t=<span class="code-keyword">this</span>.rotation,offsetX:r=<span class="code-keyword">this</span>.offsetX,offsetY:s=<span class="code-keyword">this</span>.offsetY,dontFlip:n=!<span class="code-number">1</span>}={}</span>){<span class="code-params">return</span> <span class="code-params">new</span> <span class="code-params">i</span>(<span class="code-params">{viewBox:<span class="code-keyword">this</span>.viewBox.slice(</span>),<span class="code-params">scale</span>:<span class="code-params">e</span>,<span class="code-params">rotation</span>:<span class="code-params">t</span>,<span class="code-params">offsetX</span>:<span class="code-params">r</span>,<span class="code-params">offsetY</span>:<span class="code-params">s</span>,<span class="code-params">dontFlip</span>:<span class="code-params">n</span>})}<span class="code-params">convertToViewportPoint</span>(<span class="code-params">e,t</span>){<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[e,t],<span class="code-keyword">this</span>.transform</span>)}<span class="code-params">convertToViewportRectangle</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[e[<span class="code-number">0</span>],e[<span class="code-number">1</span>]],<span class="code-keyword">this</span>.transform</span>),<span class="code-params">r</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[e[<span class="code-number">2</span>],e[<span class="code-number">3</span>]],<span class="code-keyword">this</span>.transform</span>);<span class="code-params">return</span>[<span class="code-params">t</span>[0],<span class="code-params">t</span>[1],<span class="code-params">r</span>[0],<span class="code-params">r</span>[1]]}<span class="code-params">convertToPdfPoint</span>(<span class="code-params">e,t</span>){<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyInverseTransform</span>(<span class="code-params">[e,t],<span class="code-keyword">this</span>.transform</span>)}}<span class="code-params">t</span>.<span class="code-params">PageViewport</span>=<span class="code-params">i</span>;<span class="code-params">class</span> <span class="code-params">a</span> <span class="code-params">extends</span> <span class="code-params">s</span>.<span class="code-params">BaseException</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t</span>){<span class="code-params">super</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">type</span>=<span class="code-params">t</span>}}<span class="code-params">t</span>.<span class="code-params">RenderingCancelledException</span>=<span class="code-params">a</span>;<span class="code-params">const</span> <span class="code-params">o</span>={<span class="code-params">NONE</span>:0,<span class="code-params">SELF</span>:1,<span class="code-params">BLANK</span>:2,<span class="code-params">PARENT</span>:3,<span class="code-params">TOP</span>:4};<span class="code-params">t</span>.<span class="code-params">LinkTarget</span>=<span class="code-params">o</span>;<span class="code-params">function</span> <span class="code-params">l</span><span class="code-params">()</span>{<span class="code-params">return</span>"<span class="code-params">undefined</span>"!=<span class="code-params">typeof</span> <span class="code-params">fetch</span>&amp;&amp;"<span class="code-params">undefined</span>"!=<span class="code-params">typeof</span> <span class="code-params">Response</span>&amp;&amp;"<span class="code-params">body</span>"<span class="code-params">in</span> <span class="code-params">Response</span>.<span class="code-params">prototype</span>&amp;&amp;"<span class="code-params">undefined</span>"!=<span class="code-params">typeof</span> <span class="code-params">ReadableStream</span>}<span class="code-params">function</span> <span class="code-params">c</span>(<span class="code-params">e,t</span>){<span class="code-params">try</span>{<span class="code-params">const</span>{<span class="code-params">protocol</span>:<span class="code-params">r</span>}=<span class="code-params">t</span>?<span class="code-params">new</span> <span class="code-params">URL</span>(<span class="code-params">e,t</span>):<span class="code-params">new</span> <span class="code-params">URL</span>(<span class="code-params">e</span>);<span class="code-params">return</span>"<span class="code-params">http</span>:"===<span class="code-params">r</span>||"<span class="code-params">https</span>:"===<span class="code-params">r</span>}<span class="code-params">catch</span>(<span class="code-params">e</span>){<span class="code-params">return</span>!1}}<span class="code-params">let</span> <span class="code-params">h</span>;<span class="code-params">t</span>.<span class="code-params">StatTimer</span>=<span class="code-params">class</span>{<span class="code-params">constructor</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">started</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>),<span class="code-params">this</span>.<span class="code-params">times</span>=[]}<span class="code-params">time</span>(<span class="code-params">e</span>){<span class="code-params">e</span> <span class="code-params">in</span> <span class="code-params">this</span>.<span class="code-params">started</span>&amp;&amp;(<span class="code-params"><span class="code-number">0</span>,s.warn</span>)(<span class="code-params"><span class="code-string">"Timer is already running for "</span>+e</span>),<span class="code-params">this</span>.<span class="code-params">started</span>[<span class="code-params">e</span>]=<span class="code-params">Date</span>.<span class="code-params">now</span><span class="code-params">()</span>}<span class="code-params">timeEnd</span>(<span class="code-params">e</span>){<span class="code-params">e</span> <span class="code-params">in</span> <span class="code-params">this</span>.<span class="code-params">started</span>||(<span class="code-params"><span class="code-number">0</span>,s.warn</span>)(<span class="code-params"><span class="code-string">"Timer has not been started for "</span>+e</span>),<span class="code-params">this</span>.<span class="code-params">times</span>.<span class="code-params">push</span>(<span class="code-params">{name:e,start:<span class="code-keyword">this</span>.started[e],end:<span class="code-built_in">Date</span>.now(</span>)}),<span class="code-params">delete</span> <span class="code-params">this</span>.<span class="code-params">started</span>[<span class="code-params">e</span>]}<span class="code-params">toString</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=[];<span class="code-params">let</span> <span class="code-params">t</span>=0;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> e <span class="code-keyword">of</span> <span class="code-keyword">this</span>.times</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">name</span>;<span class="code-params">r</span>.<span class="code-params">length</span>&gt;<span class="code-params">t</span>&amp;&amp;(<span class="code-params">t=r.length</span>)}<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> r <span class="code-keyword">of</span> <span class="code-keyword">this</span>.times</span>){<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">r</span>.<span class="code-params">end</span>-<span class="code-params">r</span>.<span class="code-params">start</span>;<span class="code-params">e</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-string">`<span class="code-subst">${r.name.padEnd(t)}</span> <span class="code-subst">${s}</span>ms\n`</span></span>)}<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">join</span>(<span class="code-params"><span class="code-string">""</span></span>)}};<span class="code-params">t</span>.<span class="code-params">PDFDateString</span>=<span class="code-params">class</span>{<span class="code-params">static</span> <span class="code-params">toDateObject</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params">!e||!(<span class="code-number">0</span>,s.isString</span>)(<span class="code-params">e</span>))<span class="code-params">return</span> <span class="code-params">null</span>;<span class="code-params">h</span>||(<span class="code-params">h=<span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"</span></span>));<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">h</span>.<span class="code-params">exec</span>(<span class="code-params">e</span>);<span class="code-params">if</span>(<span class="code-params">!t</span>)<span class="code-params">return</span> <span class="code-params">null</span>;<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">parseInt</span>(<span class="code-params">t[<span class="code-number">1</span>],<span class="code-number">10</span></span>);<span class="code-params">let</span> <span class="code-params">n</span>=<span class="code-params">parseInt</span>(<span class="code-params">t[<span class="code-number">2</span>],<span class="code-number">10</span></span>);<span class="code-params">n</span>=<span class="code-params">n</span>&gt;=1&amp;&amp;<span class="code-params">n</span>&lt;=12?<span class="code-params">n</span>-1:0;<span class="code-params">let</span> <span class="code-params">i</span>=<span class="code-params">parseInt</span>(<span class="code-params">t[<span class="code-number">3</span>],<span class="code-number">10</span></span>);<span class="code-params">i</span>=<span class="code-params">i</span>&gt;=1&amp;&amp;<span class="code-params">i</span>&lt;=31?<span class="code-params">i</span>:1;<span class="code-params">let</span> <span class="code-params">a</span>=<span class="code-params">parseInt</span>(<span class="code-params">t[<span class="code-number">4</span>],<span class="code-number">10</span></span>);<span class="code-params">a</span>=<span class="code-params">a</span>&gt;=0&amp;&amp;<span class="code-params">a</span>&lt;=23?<span class="code-params">a</span>:0;<span class="code-params">let</span> <span class="code-params">o</span>=<span class="code-params">parseInt</span>(<span class="code-params">t[<span class="code-number">5</span>],<span class="code-number">10</span></span>);<span class="code-params">o</span>=<span class="code-params">o</span>&gt;=0&amp;&amp;<span class="code-params">o</span>&lt;=59?<span class="code-params">o</span>:0;<span class="code-params">let</span> <span class="code-params">l</span>=<span class="code-params">parseInt</span>(<span class="code-params">t[<span class="code-number">6</span>],<span class="code-number">10</span></span>);<span class="code-params">l</span>=<span class="code-params">l</span>&gt;=0&amp;&amp;<span class="code-params">l</span>&lt;=59?<span class="code-params">l</span>:0;<span class="code-params">const</span> <span class="code-params">c</span>=<span class="code-params">t</span>[7]||"<span class="code-params">Z</span>";<span class="code-params">let</span> <span class="code-params">d</span>=<span class="code-params">parseInt</span>(<span class="code-params">t[<span class="code-number">8</span>],<span class="code-number">10</span></span>);<span class="code-params">d</span>=<span class="code-params">d</span>&gt;=0&amp;&amp;<span class="code-params">d</span>&lt;=23?<span class="code-params">d</span>:0;<span class="code-params">let</span> <span class="code-params">u</span>=<span class="code-params">parseInt</span>(<span class="code-params">t[<span class="code-number">9</span>],<span class="code-number">10</span></span>)||0;<span class="code-params">return</span> <span class="code-params">u</span>=<span class="code-params">u</span>&gt;=0&amp;&amp;<span class="code-params">u</span>&lt;=59?<span class="code-params">u</span>:0,"-"===<span class="code-params">c</span>?(<span class="code-params">a+=d,o+=u</span>):"+"===<span class="code-params">c</span>&amp;&amp;(<span class="code-params">a-=d,o-=u</span>),<span class="code-params">new</span> <span class="code-params">Date</span>(<span class="code-params"><span class="code-built_in">Date</span>.UTC(r,n,i,a,o,l</span>))}}},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">arrayByteLength</span>=<span class="code-params">u</span>,<span class="code-params">t</span>.<span class="code-params">arraysToBytes</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">length</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-number">1</span>===t&amp;&amp;e[<span class="code-number">0</span>]<span class="code-keyword">instanceof</span> <span class="code-built_in">Uint8Array</span></span>)<span class="code-params">return</span> <span class="code-params">e</span>[0];<span class="code-params">let</span> <span class="code-params">r</span>=0;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> s=<span class="code-number">0</span>;s&lt;t;s++</span>)<span class="code-params">r</span>+=<span class="code-params">u</span>(<span class="code-params">e[s]</span>);<span class="code-params">let</span> <span class="code-params">s</span>=0;<span class="code-params">const</span> <span class="code-params">n</span>=<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">r</span>);<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> r=<span class="code-number">0</span>;r&lt;t;r++</span>){<span class="code-params">let</span> <span class="code-params">t</span>=<span class="code-params">e</span>[<span class="code-params">r</span>];<span class="code-params">t</span> <span class="code-params">instanceof</span> <span class="code-params">Uint8Array</span>||(<span class="code-params">t=<span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t?d(t</span>):<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">t</span>));<span class="code-params">const</span> <span class="code-params">i</span>=<span class="code-params">t</span>.<span class="code-params">byteLength</span>;<span class="code-params">n</span>.<span class="code-params">set</span>(<span class="code-params">t,s</span>),<span class="code-params">s</span>+=<span class="code-params">i</span>}<span class="code-params">return</span> <span class="code-params">n</span>},<span class="code-params">t</span>.<span class="code-params">assert</span>=<span class="code-params">o</span>,<span class="code-params">t</span>.<span class="code-params">bytesToString</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">o</span>(<span class="code-params"><span class="code-literal">null</span>!==e&amp;&amp;<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> e&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.length,<span class="code-string">"Invalid argument for bytesToString"</span></span>);<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">length</span>;<span class="code-params">if</span>(<span class="code-params">t&lt;<span class="code-number">8192</span></span>)<span class="code-params">return</span> <span class="code-params">String</span>.<span class="code-params">fromCharCode</span>.<span class="code-params">apply</span>(<span class="code-params"><span class="code-literal">null</span>,e</span>);<span class="code-params">const</span> <span class="code-params">r</span>=[];<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> s=<span class="code-number">0</span>;s&lt;t;s+=<span class="code-number">8192</span></span>){<span class="code-params">const</span> <span class="code-params">n</span>=<span class="code-params">Math</span>.<span class="code-params">min</span>(<span class="code-params">s+<span class="code-number">8192</span>,t</span>),<span class="code-params">i</span>=<span class="code-params">e</span>.<span class="code-params">subarray</span>(<span class="code-params">s,n</span>);<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-built_in">String</span>.fromCharCode.apply(<span class="code-literal">null</span>,i</span>))}<span class="code-params">return</span> <span class="code-params">r</span>.<span class="code-params">join</span>(<span class="code-params"><span class="code-string">""</span></span>)},<span class="code-params">t</span>.<span class="code-params">createPromiseCapability</span>=<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>);<span class="code-params">let</span> <span class="code-params">t</span>=!1;<span class="code-params">return</span> <span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">e,<span class="code-string">"settled"</span>,{get:(</span>)=&gt;</span>t}),e.promise=<span class="code-keyword">new</span> <span class="code-built_in">Promise</span>(<span class="code-function">(<span class="code-params"><span class="code-keyword">function</span>(r,s</span>){<span class="code-params">e</span>.<span class="code-params">resolve</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">t</span>=!0,<span class="code-params">r</span>(<span class="code-params">e</span>)},<span class="code-params">e</span>.<span class="code-params">reject</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">t</span>=!0,<span class="code-params">s</span>(<span class="code-params">e</span>)}})),<span class="code-params">e</span>},<span class="code-params">t</span>.<span class="code-params">getVerbosityLevel</span>=<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">n</span>},<span class="code-params">t</span>.<span class="code-params">info</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">n</span>&gt;=<span class="code-params">s</span>.<span class="code-params">INFOS</span>&amp;&amp;<span class="code-params">console</span>.<span class="code-params">log</span>(<span class="code-params"><span class="code-string">"Info: "</span>+e</span>)},<span class="code-params">t</span>.<span class="code-params">isArrayBuffer</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">return</span>"<span class="code-params">object</span>"==<span class="code-params">typeof</span> <span class="code-params">e</span>&amp;&amp;<span class="code-params">null</span>!==<span class="code-params">e</span>&amp;&amp;<span class="code-params">void</span> 0!==<span class="code-params">e</span>.<span class="code-params">byteLength</span>},<span class="code-params">t</span>.<span class="code-params">isArrayEqual</span>=<span class="code-params">function</span>(<span class="code-params">e,t</span>){<span class="code-params">if</span>(<span class="code-params">e.length!==t.length</span>)<span class="code-params">return</span>!1;<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">every</span>(<span class="code-params">(<span class="code-keyword">function</span>(e,r</span>){<span class="code-params">return</span> <span class="code-params">e</span>===<span class="code-params">t</span>[<span class="code-params">r</span>]}))},<span class="code-params">t</span>.<span class="code-params">isBool</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">return</span>"<span class="code-params">boolean</span>"==<span class="code-params">typeof</span> <span class="code-params">e</span>},<span class="code-params">t</span>.<span class="code-params">isEmptyObj</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> t <span class="code-keyword">in</span> e</span>)<span class="code-params">return</span>!1;<span class="code-params">return</span>!0},<span class="code-params">t</span>.<span class="code-params">isNum</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">return</span>"<span class="code-params">number</span>"==<span class="code-params">typeof</span> <span class="code-params">e</span>},<span class="code-params">t</span>.<span class="code-params">isString</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">return</span>"<span class="code-params">string</span>"==<span class="code-params">typeof</span> <span class="code-params">e</span>},<span class="code-params">t</span>.<span class="code-params">isSameOrigin</span>=<span class="code-params">function</span>(<span class="code-params">e,t</span>){<span class="code-params">let</span> <span class="code-params">r</span>;<span class="code-params">try</span>{<span class="code-params">if</span>(<span class="code-params">r=<span class="code-keyword">new</span> URL(e</span>),!<span class="code-params">r</span>.<span class="code-params">origin</span>||"<span class="code-params">null</span>"===<span class="code-params">r</span>.<span class="code-params">origin</span>)<span class="code-params">return</span>!1}<span class="code-params">catch</span>(<span class="code-params">e</span>){<span class="code-params">return</span>!1}<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">new</span> <span class="code-params">URL</span>(<span class="code-params">t,r</span>);<span class="code-params">return</span> <span class="code-params">r</span>.<span class="code-params">origin</span>===<span class="code-params">s</span>.<span class="code-params">origin</span>},<span class="code-params">t</span>.<span class="code-params">createValidAbsoluteUrl</span>=<span class="code-params">function</span>(<span class="code-params">e,t</span>){<span class="code-params">if</span>(<span class="code-params">!e</span>)<span class="code-params">return</span> <span class="code-params">null</span>;<span class="code-params">try</span>{<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">t</span>?<span class="code-params">new</span> <span class="code-params">URL</span>(<span class="code-params">e,t</span>):<span class="code-params">new</span> <span class="code-params">URL</span>(<span class="code-params">e</span>);<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">function</span>(e</span>){<span class="code-params">if</span>(<span class="code-params">!e</span>)<span class="code-params">return</span>!1;<span class="code-params">switch</span>(<span class="code-params">e.protocol</span>){<span class="code-params">case</span>"<span class="code-params">http</span>:":<span class="code-params">case</span>"<span class="code-params">https</span>:":<span class="code-params">case</span>"<span class="code-params">ftp</span>:":<span class="code-params">case</span>"<span class="code-params">mailto</span>:":<span class="code-params">case</span>"<span class="code-params">tel</span>:":<span class="code-params">return</span>!0;<span class="code-params">default</span>:<span class="code-params">return</span>!1}}(<span class="code-params">r</span>))<span class="code-params">return</span> <span class="code-params">r</span>}<span class="code-params">catch</span>(<span class="code-params">e</span>){}<span class="code-params">return</span> <span class="code-params">null</span>},<span class="code-params">t</span>.<span class="code-params">removeNullCharacters</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> e</span>)<span class="code-params">return</span> <span class="code-params">i</span>(<span class="code-params"><span class="code-string">"The argument for removeNullCharacters must be a string."</span></span>),<span class="code-params">e</span>;<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">replace</span>(<span class="code-params">h,<span class="code-string">""</span></span>)},<span class="code-params">t</span>.<span class="code-params">setVerbosityLevel</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">Number</span>.<span class="code-params">isInteger</span>(<span class="code-params">e</span>)&amp;&amp;(<span class="code-params">n=e</span>)},<span class="code-params">t</span>.<span class="code-params">shadow</span>=<span class="code-params">l</span>,<span class="code-params">t</span>.<span class="code-params">string32</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">return</span> <span class="code-params">String</span>.<span class="code-params">fromCharCode</span>(<span class="code-params">e&gt;&gt;<span class="code-number">24</span>&amp;<span class="code-number">255</span>,e&gt;&gt;<span class="code-number">16</span>&amp;<span class="code-number">255</span>,e&gt;&gt;<span class="code-number">8</span>&amp;<span class="code-number">255</span>,<span class="code-number">255</span>&amp;e</span>)},<span class="code-params">t</span>.<span class="code-params">stringToBytes</span>=<span class="code-params">d</span>,<span class="code-params">t</span>.<span class="code-params">stringToPDFString</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">length</span>,<span class="code-params">r</span>=[];<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"þ"</span>===e[<span class="code-number">0</span>]&amp;&amp;<span class="code-string">"ÿ"</span>===e[<span class="code-number">1</span>]</span>)<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> s=<span class="code-number">2</span>;s&lt;t;s+=<span class="code-number">2</span></span>)<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-built_in">String</span>.fromCharCode(e.charCodeAt(s</span>)&lt;&lt;8|<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params">s+<span class="code-number">1</span></span>)));<span class="code-params">else</span> <span class="code-params">if</span>(<span class="code-params"><span class="code-string">"ÿ"</span>===e[<span class="code-number">0</span>]&amp;&amp;<span class="code-string">"þ"</span>===e[<span class="code-number">1</span>]</span>)<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> s=<span class="code-number">2</span>;s&lt;t;s+=<span class="code-number">2</span></span>)<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-built_in">String</span>.fromCharCode(e.charCodeAt(s+<span class="code-number">1</span></span>)&lt;&lt;8|<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params">s</span>)));<span class="code-params">else</span> <span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> s=<span class="code-number">0</span>;s&lt;t;++s</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">A</span>[<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params">s</span>)];<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params">t?<span class="code-built_in">String</span>.fromCharCode(t</span>):<span class="code-params">e</span>.<span class="code-params">charAt</span>(<span class="code-params">s</span>))}<span class="code-params">return</span> <span class="code-params">r</span>.<span class="code-params">join</span>(<span class="code-params"><span class="code-string">""</span></span>)},<span class="code-params">t</span>.<span class="code-params">stringToUTF8String</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">return</span> <span class="code-params">decodeURIComponent</span>(<span class="code-params"><span class="code-built_in">escape</span>(e</span>))},<span class="code-params">t</span>.<span class="code-params">utf8StringToString</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">return</span> <span class="code-params">unescape</span>(<span class="code-params"><span class="code-built_in">encodeURIComponent</span>(e</span>))},<span class="code-params">t</span>.<span class="code-params">warn</span>=<span class="code-params">i</span>,<span class="code-params">t</span>.<span class="code-params">unreachable</span>=<span class="code-params">a</span>,<span class="code-params">t</span>.<span class="code-params">IsEvalSupportedCached</span>=<span class="code-params">t</span>.<span class="code-params">IsLittleEndianCached</span>=<span class="code-params">t</span>.<span class="code-params">createObjectURL</span>=<span class="code-params">t</span>.<span class="code-params">FormatError</span>=<span class="code-params">t</span>.<span class="code-params">Util</span>=<span class="code-params">t</span>.<span class="code-params">UnknownErrorException</span>=<span class="code-params">t</span>.<span class="code-params">UnexpectedResponseException</span>=<span class="code-params">t</span>.<span class="code-params">TextRenderingMode</span>=<span class="code-params">t</span>.<span class="code-params">StreamType</span>=<span class="code-params">t</span>.<span class="code-params">PermissionFlag</span>=<span class="code-params">t</span>.<span class="code-params">PasswordResponses</span>=<span class="code-params">t</span>.<span class="code-params">PasswordException</span>=<span class="code-params">t</span>.<span class="code-params">MissingPDFException</span>=<span class="code-params">t</span>.<span class="code-params">InvalidPDFException</span>=<span class="code-params">t</span>.<span class="code-params">AbortException</span>=<span class="code-params">t</span>.<span class="code-params">CMapCompressionType</span>=<span class="code-params">t</span>.<span class="code-params">ImageKind</span>=<span class="code-params">t</span>.<span class="code-params">FontType</span>=<span class="code-params">t</span>.<span class="code-params">AnnotationType</span>=<span class="code-params">t</span>.<span class="code-params">AnnotationStateModelType</span>=<span class="code-params">t</span>.<span class="code-params">AnnotationReviewState</span>=<span class="code-params">t</span>.<span class="code-params">AnnotationReplyType</span>=<span class="code-params">t</span>.<span class="code-params">AnnotationMarkedState</span>=<span class="code-params">t</span>.<span class="code-params">AnnotationFlag</span>=<span class="code-params">t</span>.<span class="code-params">AnnotationFieldFlag</span>=<span class="code-params">t</span>.<span class="code-params">AnnotationBorderStyleType</span>=<span class="code-params">t</span>.<span class="code-params">UNSUPPORTED_FEATURES</span>=<span class="code-params">t</span>.<span class="code-params">VerbosityLevel</span>=<span class="code-params">t</span>.<span class="code-params">OPS</span>=<span class="code-params">t</span>.<span class="code-params">IDENTITY_MATRIX</span>=<span class="code-params">t</span>.<span class="code-params">FONT_IDENTITY_MATRIX</span>=<span class="code-params">t</span>.<span class="code-params">BaseException</span>=<span class="code-params">void</span> 0,<span class="code-params">r</span>(<span class="code-params"><span class="code-number">3</span></span>);<span class="code-params">t</span>.<span class="code-params">IDENTITY_MATRIX</span>=[1,0,0,1,0,0];<span class="code-params">t</span>.<span class="code-params">FONT_IDENTITY_MATRIX</span>=[.001,0,0,.001,0,0];<span class="code-params">t</span>.<span class="code-params">PermissionFlag</span>={<span class="code-params">PRINT</span>:4,<span class="code-params">MODIFY_CONTENTS</span>:8,<span class="code-params">COPY</span>:16,<span class="code-params">MODIFY_ANNOTATIONS</span>:32,<span class="code-params">FILL_INTERACTIVE_FORMS</span>:256,<span class="code-params">COPY_FOR_ACCESSIBILITY</span>:512,<span class="code-params">ASSEMBLE</span>:1024,<span class="code-params">PRINT_HIGH_QUALITY</span>:2048};<span class="code-params">t</span>.<span class="code-params">TextRenderingMode</span>={<span class="code-params">FILL</span>:0,<span class="code-params">STROKE</span>:1,<span class="code-params">FILL_STROKE</span>:2,<span class="code-params">INVISIBLE</span>:3,<span class="code-params">FILL_ADD_TO_PATH</span>:4,<span class="code-params">STROKE_ADD_TO_PATH</span>:5,<span class="code-params">FILL_STROKE_ADD_TO_PATH</span>:6,<span class="code-params">ADD_TO_PATH</span>:7,<span class="code-params">FILL_STROKE_MASK</span>:3,<span class="code-params">ADD_TO_PATH_FLAG</span>:4};<span class="code-params">t</span>.<span class="code-params">ImageKind</span>={<span class="code-params">GRAYSCALE_1BPP</span>:1,<span class="code-params">RGB_24BPP</span>:2,<span class="code-params">RGBA_32BPP</span>:3};<span class="code-params">t</span>.<span class="code-params">AnnotationType</span>={<span class="code-params">TEXT</span>:1,<span class="code-params">LINK</span>:2,<span class="code-params">FREETEXT</span>:3,<span class="code-params">LINE</span>:4,<span class="code-params">SQUARE</span>:5,<span class="code-params">CIRCLE</span>:6,<span class="code-params">POLYGON</span>:7,<span class="code-params">POLYLINE</span>:8,<span class="code-params">HIGHLIGHT</span>:9,<span class="code-params">UNDERLINE</span>:10,<span class="code-params">SQUIGGLY</span>:11,<span class="code-params">STRIKEOUT</span>:12,<span class="code-params">STAMP</span>:13,<span class="code-params">CARET</span>:14,<span class="code-params">INK</span>:15,<span class="code-params">POPUP</span>:16,<span class="code-params">FILEATTACHMENT</span>:17,<span class="code-params">SOUND</span>:18,<span class="code-params">MOVIE</span>:19,<span class="code-params">WIDGET</span>:20,<span class="code-params">SCREEN</span>:21,<span class="code-params">PRINTERMARK</span>:22,<span class="code-params">TRAPNET</span>:23,<span class="code-params">WATERMARK</span>:24,<span class="code-params">THREED</span>:25,<span class="code-params">REDACT</span>:26};<span class="code-params">t</span>.<span class="code-params">AnnotationStateModelType</span>={<span class="code-params">MARKED</span>:"<span class="code-params">Marked</span>",<span class="code-params">REVIEW</span>:"<span class="code-params">Review</span>"};<span class="code-params">t</span>.<span class="code-params">AnnotationMarkedState</span>={<span class="code-params">MARKED</span>:"<span class="code-params">Marked</span>",<span class="code-params">UNMARKED</span>:"<span class="code-params">Unmarked</span>"};<span class="code-params">t</span>.<span class="code-params">AnnotationReviewState</span>={<span class="code-params">ACCEPTED</span>:"<span class="code-params">Accepted</span>",<span class="code-params">REJECTED</span>:"<span class="code-params">Rejected</span>",<span class="code-params">CANCELLED</span>:"<span class="code-params">Cancelled</span>",<span class="code-params">COMPLETED</span>:"<span class="code-params">Completed</span>",<span class="code-params">NONE</span>:"<span class="code-params">None</span>"};<span class="code-params">t</span>.<span class="code-params">AnnotationReplyType</span>={<span class="code-params">GROUP</span>:"<span class="code-params">Group</span>",<span class="code-params">REPLY</span>:"<span class="code-params">R</span>"};<span class="code-params">t</span>.<span class="code-params">AnnotationFlag</span>={<span class="code-params">INVISIBLE</span>:1,<span class="code-params">HIDDEN</span>:2,<span class="code-params">PRINT</span>:4,<span class="code-params">NOZOOM</span>:8,<span class="code-params">NOROTATE</span>:16,<span class="code-params">NOVIEW</span>:32,<span class="code-params">READONLY</span>:64,<span class="code-params">LOCKED</span>:128,<span class="code-params">TOGGLENOVIEW</span>:256,<span class="code-params">LOCKEDCONTENTS</span>:512};<span class="code-params">t</span>.<span class="code-params">AnnotationFieldFlag</span>={<span class="code-params">READONLY</span>:1,<span class="code-params">REQUIRED</span>:2,<span class="code-params">NOEXPORT</span>:4,<span class="code-params">MULTILINE</span>:4096,<span class="code-params">PASSWORD</span>:8192,<span class="code-params">NOTOGGLETOOFF</span>:16384,<span class="code-params">RADIO</span>:32768,<span class="code-params">PUSHBUTTON</span>:65536,<span class="code-params">COMBO</span>:131072,<span class="code-params">EDIT</span>:262144,<span class="code-params">SORT</span>:524288,<span class="code-params">FILESELECT</span>:1048576,<span class="code-params">MULTISELECT</span>:2097152,<span class="code-params">DONOTSPELLCHECK</span>:4194304,<span class="code-params">DONOTSCROLL</span>:8388608,<span class="code-params">COMB</span>:16777216,<span class="code-params">RICHTEXT</span>:33554432,<span class="code-params">RADIOSINUNISON</span>:33554432,<span class="code-params">COMMITONSELCHANGE</span>:67108864};<span class="code-params">t</span>.<span class="code-params">AnnotationBorderStyleType</span>={<span class="code-params">SOLID</span>:1,<span class="code-params">DASHED</span>:2,<span class="code-params">BEVELED</span>:3,<span class="code-params">INSET</span>:4,<span class="code-params">UNDERLINE</span>:5};<span class="code-params">t</span>.<span class="code-params">StreamType</span>={<span class="code-params">UNKNOWN</span>:"<span class="code-params">UNKNOWN</span>",<span class="code-params">FLATE</span>:"<span class="code-params">FLATE</span>",<span class="code-params">LZW</span>:"<span class="code-params">LZW</span>",<span class="code-params">DCT</span>:"<span class="code-params">DCT</span>",<span class="code-params">JPX</span>:"<span class="code-params">JPX</span>",<span class="code-params">JBIG</span>:"<span class="code-params">JBIG</span>",<span class="code-params">A85</span>:"<span class="code-params">A85</span>",<span class="code-params">AHX</span>:"<span class="code-params">AHX</span>",<span class="code-params">CCF</span>:"<span class="code-params">CCF</span>",<span class="code-params">RLX</span>:"<span class="code-params">RLX</span>"};<span class="code-params">t</span>.<span class="code-params">FontType</span>={<span class="code-params">UNKNOWN</span>:"<span class="code-params">UNKNOWN</span>",<span class="code-params">TYPE1</span>:"<span class="code-params">TYPE1</span>",<span class="code-params">TYPE1C</span>:"<span class="code-params">TYPE1C</span>",<span class="code-params">CIDFONTTYPE0</span>:"<span class="code-params">CIDFONTTYPE0</span>",<span class="code-params">CIDFONTTYPE0C</span>:"<span class="code-params">CIDFONTTYPE0C</span>",<span class="code-params">TRUETYPE</span>:"<span class="code-params">TRUETYPE</span>",<span class="code-params">CIDFONTTYPE2</span>:"<span class="code-params">CIDFONTTYPE2</span>",<span class="code-params">TYPE3</span>:"<span class="code-params">TYPE3</span>",<span class="code-params">OPENTYPE</span>:"<span class="code-params">OPENTYPE</span>",<span class="code-params">TYPE0</span>:"<span class="code-params">TYPE0</span>",<span class="code-params">MMTYPE1</span>:"<span class="code-params">MMTYPE1</span>"};<span class="code-params">const</span> <span class="code-params">s</span>={<span class="code-params">ERRORS</span>:0,<span class="code-params">WARNINGS</span>:1,<span class="code-params">INFOS</span>:5};<span class="code-params">t</span>.<span class="code-params">VerbosityLevel</span>=<span class="code-params">s</span>;<span class="code-params">t</span>.<span class="code-params">CMapCompressionType</span>={<span class="code-params">NONE</span>:0,<span class="code-params">BINARY</span>:1,<span class="code-params">STREAM</span>:2};<span class="code-params">t</span>.<span class="code-params">OPS</span>={<span class="code-params">dependency</span>:1,<span class="code-params">setLineWidth</span>:2,<span class="code-params">setLineCap</span>:3,<span class="code-params">setLineJoin</span>:4,<span class="code-params">setMiterLimit</span>:5,<span class="code-params">setDash</span>:6,<span class="code-params">setRenderingIntent</span>:7,<span class="code-params">setFlatness</span>:8,<span class="code-params">setGState</span>:9,<span class="code-params">save</span>:10,<span class="code-params">restore</span>:11,<span class="code-params">transform</span>:12,<span class="code-params">moveTo</span>:13,<span class="code-params">lineTo</span>:14,<span class="code-params">curveTo</span>:15,<span class="code-params">curveTo2</span>:16,<span class="code-params">curveTo3</span>:17,<span class="code-params">closePath</span>:18,<span class="code-params">rectangle</span>:19,<span class="code-params">stroke</span>:20,<span class="code-params">closeStroke</span>:21,<span class="code-params">fill</span>:22,<span class="code-params">eoFill</span>:23,<span class="code-params">fillStroke</span>:24,<span class="code-params">eoFillStroke</span>:25,<span class="code-params">closeFillStroke</span>:26,<span class="code-params">closeEOFillStroke</span>:27,<span class="code-params">endPath</span>:28,<span class="code-params">clip</span>:29,<span class="code-params">eoClip</span>:30,<span class="code-params">beginText</span>:31,<span class="code-params">endText</span>:32,<span class="code-params">setCharSpacing</span>:33,<span class="code-params">setWordSpacing</span>:34,<span class="code-params">setHScale</span>:35,<span class="code-params">setLeading</span>:36,<span class="code-params">setFont</span>:37,<span class="code-params">setTextRenderingMode</span>:38,<span class="code-params">setTextRise</span>:39,<span class="code-params">moveText</span>:40,<span class="code-params">setLeadingMoveText</span>:41,<span class="code-params">setTextMatrix</span>:42,<span class="code-params">nextLine</span>:43,<span class="code-params">showText</span>:44,<span class="code-params">showSpacedText</span>:45,<span class="code-params">nextLineShowText</span>:46,<span class="code-params">nextLineSetSpacingShowText</span>:47,<span class="code-params">setCharWidth</span>:48,<span class="code-params">setCharWidthAndBounds</span>:49,<span class="code-params">setStrokeColorSpace</span>:50,<span class="code-params">setFillColorSpace</span>:51,<span class="code-params">setStrokeColor</span>:52,<span class="code-params">setStrokeColorN</span>:53,<span class="code-params">setFillColor</span>:54,<span class="code-params">setFillColorN</span>:55,<span class="code-params">setStrokeGray</span>:56,<span class="code-params">setFillGray</span>:57,<span class="code-params">setStrokeRGBColor</span>:58,<span class="code-params">setFillRGBColor</span>:59,<span class="code-params">setStrokeCMYKColor</span>:60,<span class="code-params">setFillCMYKColor</span>:61,<span class="code-params">shadingFill</span>:62,<span class="code-params">beginInlineImage</span>:63,<span class="code-params">beginImageData</span>:64,<span class="code-params">endInlineImage</span>:65,<span class="code-params">paintXObject</span>:66,<span class="code-params">markPoint</span>:67,<span class="code-params">markPointProps</span>:68,<span class="code-params">beginMarkedContent</span>:69,<span class="code-params">beginMarkedContentProps</span>:70,<span class="code-params">endMarkedContent</span>:71,<span class="code-params">beginCompat</span>:72,<span class="code-params">endCompat</span>:73,<span class="code-params">paintFormXObjectBegin</span>:74,<span class="code-params">paintFormXObjectEnd</span>:75,<span class="code-params">beginGroup</span>:76,<span class="code-params">endGroup</span>:77,<span class="code-params">beginAnnotations</span>:78,<span class="code-params">endAnnotations</span>:79,<span class="code-params">beginAnnotation</span>:80,<span class="code-params">endAnnotation</span>:81,<span class="code-params">paintJpegXObject</span>:82,<span class="code-params">paintImageMaskXObject</span>:83,<span class="code-params">paintImageMaskXObjectGroup</span>:84,<span class="code-params">paintImageXObject</span>:85,<span class="code-params">paintInlineImageXObject</span>:86,<span class="code-params">paintInlineImageXObjectGroup</span>:87,<span class="code-params">paintImageXObjectRepeat</span>:88,<span class="code-params">paintImageMaskXObjectRepeat</span>:89,<span class="code-params">paintSolidColorImageMask</span>:90,<span class="code-params">constructPath</span>:91};<span class="code-params">t</span>.<span class="code-params">UNSUPPORTED_FEATURES</span>={<span class="code-params">unknown</span>:"<span class="code-params">unknown</span>",<span class="code-params">forms</span>:"<span class="code-params">forms</span>",<span class="code-params">javaScript</span>:"<span class="code-params">javaScript</span>",<span class="code-params">smask</span>:"<span class="code-params">smask</span>",<span class="code-params">shadingPattern</span>:"<span class="code-params">shadingPattern</span>",<span class="code-params">font</span>:"<span class="code-params">font</span>",<span class="code-params">errorTilingPattern</span>:"<span class="code-params">errorTilingPattern</span>",<span class="code-params">errorExtGState</span>:"<span class="code-params">errorExtGState</span>",<span class="code-params">errorXObject</span>:"<span class="code-params">errorXObject</span>",<span class="code-params">errorFontLoadType3</span>:"<span class="code-params">errorFontLoadType3</span>",<span class="code-params">errorFontState</span>:"<span class="code-params">errorFontState</span>",<span class="code-params">errorFontMissing</span>:"<span class="code-params">errorFontMissing</span>",<span class="code-params">errorFontTranslate</span>:"<span class="code-params">errorFontTranslate</span>",<span class="code-params">errorColorSpace</span>:"<span class="code-params">errorColorSpace</span>",<span class="code-params">errorOperatorList</span>:"<span class="code-params">errorOperatorList</span>",<span class="code-params">errorFontToUnicode</span>:"<span class="code-params">errorFontToUnicode</span>",<span class="code-params">errorFontLoadNative</span>:"<span class="code-params">errorFontLoadNative</span>",<span class="code-params">errorFontGetPath</span>:"<span class="code-params">errorFontGetPath</span>"};<span class="code-params">t</span>.<span class="code-params">PasswordResponses</span>={<span class="code-params">NEED_PASSWORD</span>:1,<span class="code-params">INCORRECT_PASSWORD</span>:2};<span class="code-params">let</span> <span class="code-params">n</span>=<span class="code-params">s</span>.<span class="code-params">WARNINGS</span>;<span class="code-params">function</span> <span class="code-params">i</span>(<span class="code-params">e</span>){<span class="code-params">n</span>&gt;=<span class="code-params">s</span>.<span class="code-params">WARNINGS</span>&amp;&amp;<span class="code-params">console</span>.<span class="code-params">log</span>(<span class="code-params"><span class="code-string">"Warning: "</span>+e</span>)}<span class="code-params">function</span> <span class="code-params">a</span>(<span class="code-params">e</span>){<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params">e</span>)}<span class="code-params">function</span> <span class="code-params">o</span>(<span class="code-params">e,t</span>){<span class="code-params">e</span>||<span class="code-params">a</span>(<span class="code-params">t</span>)}<span class="code-params">function</span> <span class="code-params">l</span>(<span class="code-params">e,t,r</span>){<span class="code-params">return</span> <span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">e,t,{value:r,enumerable:!<span class="code-number">0</span>,configurable:!<span class="code-number">0</span>,writable:!<span class="code-number">1</span>}</span>),<span class="code-params">r</span>}<span class="code-params">const</span> <span class="code-params">c</span>=<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">function</span> <span class="code-params">e</span>(<span class="code-params">t</span>){<span class="code-params">this</span>.<span class="code-params">constructor</span>===<span class="code-params">e</span>&amp;&amp;<span class="code-params">a</span>(<span class="code-params"><span class="code-string">"Cannot initialize BaseException."</span></span>),<span class="code-params">this</span>.<span class="code-params">message</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">name</span>=<span class="code-params">this</span>.<span class="code-params">constructor</span>.<span class="code-params">name</span>}<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">prototype</span>=<span class="code-params">new</span> <span class="code-params">Error</span>,<span class="code-params">e</span>.<span class="code-params">constructor</span>=<span class="code-params">e</span>,<span class="code-params">e</span>}<span class="code-params">()</span>;<span class="code-params">t</span>.<span class="code-params">BaseException</span>=<span class="code-params">c</span>;<span class="code-params">t</span>.<span class="code-params">PasswordException</span>=<span class="code-params">class</span> <span class="code-params">extends</span> <span class="code-params">c</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t</span>){<span class="code-params">super</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">code</span>=<span class="code-params">t</span>}};<span class="code-params">t</span>.<span class="code-params">UnknownErrorException</span>=<span class="code-params">class</span> <span class="code-params">extends</span> <span class="code-params">c</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t</span>){<span class="code-params">super</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">details</span>=<span class="code-params">t</span>}};<span class="code-params">t</span>.<span class="code-params">InvalidPDFException</span>=<span class="code-params">class</span> <span class="code-params">extends</span> <span class="code-params">c</span>{};<span class="code-params">t</span>.<span class="code-params">MissingPDFException</span>=<span class="code-params">class</span> <span class="code-params">extends</span> <span class="code-params">c</span>{};<span class="code-params">t</span>.<span class="code-params">UnexpectedResponseException</span>=<span class="code-params">class</span> <span class="code-params">extends</span> <span class="code-params">c</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t</span>){<span class="code-params">super</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">status</span>=<span class="code-params">t</span>}};<span class="code-params">t</span>.<span class="code-params">FormatError</span>=<span class="code-params">class</span> <span class="code-params">extends</span> <span class="code-params">c</span>{};<span class="code-params">t</span>.<span class="code-params">AbortException</span>=<span class="code-params">class</span> <span class="code-params">extends</span> <span class="code-params">c</span>{};<span class="code-params">const</span> <span class="code-params">h</span>=/\<span class="code-params">x00</span>/<span class="code-params">g</span>;<span class="code-params">function</span> <span class="code-params">d</span>(<span class="code-params">e</span>){<span class="code-params">o</span>(<span class="code-params"><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e,<span class="code-string">"Invalid argument for stringToBytes"</span></span>);<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">length</span>,<span class="code-params">r</span>=<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">t</span>);<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> s=<span class="code-number">0</span>;s&lt;t;++s</span>)<span class="code-params">r</span>[<span class="code-params">s</span>]=255&amp;<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params">s</span>);<span class="code-params">return</span> <span class="code-params">r</span>}<span class="code-params">function</span> <span class="code-params">u</span>(<span class="code-params">e</span>){<span class="code-params">return</span> <span class="code-params">void</span> 0!==<span class="code-params">e</span>.<span class="code-params">length</span>?<span class="code-params">e</span>.<span class="code-params">length</span>:(<span class="code-params">o(<span class="code-keyword">void</span> <span class="code-number">0</span>!==e.byteLength,<span class="code-string">"arrayByteLength - invalid argument."</span></span>),<span class="code-params">e</span>.<span class="code-params">byteLength</span>)}<span class="code-params">const</span> <span class="code-params">p</span>={<span class="code-params">get</span> <span class="code-params">value</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">l</span>(<span class="code-params"><span class="code-keyword">this</span>,<span class="code-string">"value"</span>,<span class="code-keyword">function</span>(</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params"><span class="code-number">4</span></span>);<span class="code-params">return</span> <span class="code-params">e</span>[0]=1,1===<span class="code-params">new</span> <span class="code-params">Uint32Array</span>(<span class="code-params">e.buffer,<span class="code-number">0</span>,<span class="code-number">1</span></span>)[0]}<span class="code-params">()</span>)}};<span class="code-params">t</span>.<span class="code-params">IsLittleEndianCached</span>=<span class="code-params">p</span>;<span class="code-params">const</span> <span class="code-params">g</span>={<span class="code-params">get</span> <span class="code-params">value</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">l</span>(<span class="code-params"><span class="code-keyword">this</span>,<span class="code-string">"value"</span>,<span class="code-keyword">function</span>(</span>){<span class="code-params">try</span>{<span class="code-params">return</span> <span class="code-params">new</span> <span class="code-params">Function</span>(<span class="code-params"><span class="code-string">""</span></span>),!0}<span class="code-params">catch</span>(<span class="code-params">e</span>){<span class="code-params">return</span>!1}}<span class="code-params">()</span>)}};<span class="code-params">t</span>.<span class="code-params">IsEvalSupportedCached</span>=<span class="code-params">g</span>;<span class="code-params">const</span> <span class="code-params">f</span>=["<span class="code-params">rgb</span>(<span class="code-params"><span class="code-string">",0,"</span>,<span class="code-string">",0,"</span>,<span class="code-string">",0,"</span></span>)"];<span class="code-params">class</span> <span class="code-params">m</span>{<span class="code-params">static</span> <span class="code-params">makeCssRgb</span>(<span class="code-params">e,t,r</span>){<span class="code-params">return</span> <span class="code-params">f</span>[1]=<span class="code-params">e</span>,<span class="code-params">f</span>[3]=<span class="code-params">t</span>,<span class="code-params">f</span>[5]=<span class="code-params">r</span>,<span class="code-params">f</span>.<span class="code-params">join</span>(<span class="code-params"><span class="code-string">""</span></span>)}<span class="code-params">static</span> <span class="code-params">transform</span>(<span class="code-params">e,t</span>){<span class="code-params">return</span>[<span class="code-params">e</span>[0]*<span class="code-params">t</span>[0]+<span class="code-params">e</span>[2]*<span class="code-params">t</span>[1],<span class="code-params">e</span>[1]*<span class="code-params">t</span>[0]+<span class="code-params">e</span>[3]*<span class="code-params">t</span>[1],<span class="code-params">e</span>[0]*<span class="code-params">t</span>[2]+<span class="code-params">e</span>[2]*<span class="code-params">t</span>[3],<span class="code-params">e</span>[1]*<span class="code-params">t</span>[2]+<span class="code-params">e</span>[3]*<span class="code-params">t</span>[3],<span class="code-params">e</span>[0]*<span class="code-params">t</span>[4]+<span class="code-params">e</span>[2]*<span class="code-params">t</span>[5]+<span class="code-params">e</span>[4],<span class="code-params">e</span>[1]*<span class="code-params">t</span>[4]+<span class="code-params">e</span>[3]*<span class="code-params">t</span>[5]+<span class="code-params">e</span>[5]]}<span class="code-params">static</span> <span class="code-params">applyTransform</span>(<span class="code-params">e,t</span>){<span class="code-params">return</span>[<span class="code-params">e</span>[0]*<span class="code-params">t</span>[0]+<span class="code-params">e</span>[1]*<span class="code-params">t</span>[2]+<span class="code-params">t</span>[4],<span class="code-params">e</span>[0]*<span class="code-params">t</span>[1]+<span class="code-params">e</span>[1]*<span class="code-params">t</span>[3]+<span class="code-params">t</span>[5]]}<span class="code-params">static</span> <span class="code-params">applyInverseTransform</span>(<span class="code-params">e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">t</span>[0]*<span class="code-params">t</span>[3]-<span class="code-params">t</span>[1]*<span class="code-params">t</span>[2];<span class="code-params">return</span>[(<span class="code-params">e[<span class="code-number">0</span>]*t[<span class="code-number">3</span>]-e[<span class="code-number">1</span>]*t[<span class="code-number">2</span>]+t[<span class="code-number">2</span>]*t[<span class="code-number">5</span>]-t[<span class="code-number">4</span>]*t[<span class="code-number">3</span>]</span>)/<span class="code-params">r</span>,(<span class="code-params">-e[<span class="code-number">0</span>]*t[<span class="code-number">1</span>]+e[<span class="code-number">1</span>]*t[<span class="code-number">0</span>]+t[<span class="code-number">4</span>]*t[<span class="code-number">1</span>]-t[<span class="code-number">5</span>]*t[<span class="code-number">0</span>]</span>)/<span class="code-params">r</span>]}<span class="code-params">static</span> <span class="code-params">getAxialAlignedBoundingBox</span>(<span class="code-params">e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">m</span>.<span class="code-params">applyTransform</span>(<span class="code-params">e,t</span>),<span class="code-params">s</span>=<span class="code-params">m</span>.<span class="code-params">applyTransform</span>(<span class="code-params">e.slice(<span class="code-number">2</span>,<span class="code-number">4</span></span>),<span class="code-params">t</span>),<span class="code-params">n</span>=<span class="code-params">m</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[e[<span class="code-number">0</span>],e[<span class="code-number">3</span>]],t</span>),<span class="code-params">i</span>=<span class="code-params">m</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[e[<span class="code-number">2</span>],e[<span class="code-number">1</span>]],t</span>);<span class="code-params">return</span>[<span class="code-params">Math</span>.<span class="code-params">min</span>(<span class="code-params">r[<span class="code-number">0</span>],s[<span class="code-number">0</span>],n[<span class="code-number">0</span>],i[<span class="code-number">0</span>]</span>),<span class="code-params">Math</span>.<span class="code-params">min</span>(<span class="code-params">r[<span class="code-number">1</span>],s[<span class="code-number">1</span>],n[<span class="code-number">1</span>],i[<span class="code-number">1</span>]</span>),<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params">r[<span class="code-number">0</span>],s[<span class="code-number">0</span>],n[<span class="code-number">0</span>],i[<span class="code-number">0</span>]</span>),<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params">r[<span class="code-number">1</span>],s[<span class="code-number">1</span>],n[<span class="code-number">1</span>],i[<span class="code-number">1</span>]</span>)]}<span class="code-params">static</span> <span class="code-params">inverseTransform</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>[0]*<span class="code-params">e</span>[3]-<span class="code-params">e</span>[1]*<span class="code-params">e</span>[2];<span class="code-params">return</span>[<span class="code-params">e</span>[3]/<span class="code-params">t</span>,-<span class="code-params">e</span>[1]/<span class="code-params">t</span>,-<span class="code-params">e</span>[2]/<span class="code-params">t</span>,<span class="code-params">e</span>[0]/<span class="code-params">t</span>,(<span class="code-params">e[<span class="code-number">2</span>]*e[<span class="code-number">5</span>]-e[<span class="code-number">4</span>]*e[<span class="code-number">3</span>]</span>)/<span class="code-params">t</span>,(<span class="code-params">e[<span class="code-number">4</span>]*e[<span class="code-number">1</span>]-e[<span class="code-number">5</span>]*e[<span class="code-number">0</span>]</span>)/<span class="code-params">t</span>]}<span class="code-params">static</span> <span class="code-params">apply3dTransform</span>(<span class="code-params">e,t</span>){<span class="code-params">return</span>[<span class="code-params">e</span>[0]*<span class="code-params">t</span>[0]+<span class="code-params">e</span>[1]*<span class="code-params">t</span>[1]+<span class="code-params">e</span>[2]*<span class="code-params">t</span>[2],<span class="code-params">e</span>[3]*<span class="code-params">t</span>[0]+<span class="code-params">e</span>[4]*<span class="code-params">t</span>[1]+<span class="code-params">e</span>[5]*<span class="code-params">t</span>[2],<span class="code-params">e</span>[6]*<span class="code-params">t</span>[0]+<span class="code-params">e</span>[7]*<span class="code-params">t</span>[1]+<span class="code-params">e</span>[8]*<span class="code-params">t</span>[2]]}<span class="code-params">static</span> <span class="code-params">singularValueDecompose2dScale</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=[<span class="code-params">e</span>[0],<span class="code-params">e</span>[2],<span class="code-params">e</span>[1],<span class="code-params">e</span>[3]],<span class="code-params">r</span>=<span class="code-params">e</span>[0]*<span class="code-params">t</span>[0]+<span class="code-params">e</span>[1]*<span class="code-params">t</span>[2],<span class="code-params">s</span>=<span class="code-params">e</span>[0]*<span class="code-params">t</span>[1]+<span class="code-params">e</span>[1]*<span class="code-params">t</span>[3],<span class="code-params">n</span>=<span class="code-params">e</span>[2]*<span class="code-params">t</span>[0]+<span class="code-params">e</span>[3]*<span class="code-params">t</span>[2],<span class="code-params">i</span>=<span class="code-params">e</span>[2]*<span class="code-params">t</span>[1]+<span class="code-params">e</span>[3]*<span class="code-params">t</span>[3],<span class="code-params">a</span>=(<span class="code-params">r+i</span>)/2,<span class="code-params">o</span>=<span class="code-params">Math</span>.<span class="code-params">sqrt</span>(<span class="code-params">(r+i</span>)*(<span class="code-params">r+i</span>)-4*(<span class="code-params">r*i-n*s</span>))/2,<span class="code-params">l</span>=<span class="code-params">a</span>+<span class="code-params">o</span>||1,<span class="code-params">c</span>=<span class="code-params">a</span>-<span class="code-params">o</span>||1;<span class="code-params">return</span>[<span class="code-params">Math</span>.<span class="code-params">sqrt</span>(<span class="code-params">l</span>),<span class="code-params">Math</span>.<span class="code-params">sqrt</span>(<span class="code-params">c</span>)]}<span class="code-params">static</span> <span class="code-params">normalizeRect</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">slice</span>(<span class="code-params"><span class="code-number">0</span></span>);<span class="code-params">return</span> <span class="code-params">e</span>[0]&gt;<span class="code-params">e</span>[2]&amp;&amp;(<span class="code-params">t[<span class="code-number">0</span>]=e[<span class="code-number">2</span>],t[<span class="code-number">2</span>]=e[<span class="code-number">0</span>]</span>),<span class="code-params">e</span>[1]&gt;<span class="code-params">e</span>[3]&amp;&amp;(<span class="code-params">t[<span class="code-number">1</span>]=e[<span class="code-number">3</span>],t[<span class="code-number">3</span>]=e[<span class="code-number">1</span>]</span>),<span class="code-params">t</span>}<span class="code-params">static</span> <span class="code-params">intersect</span>(<span class="code-params">e,t</span>){<span class="code-params">function</span> <span class="code-params">r</span>(<span class="code-params">e,t</span>){<span class="code-params">return</span> <span class="code-params">e</span>-<span class="code-params">t</span>}<span class="code-params">const</span> <span class="code-params">s</span>=[<span class="code-params">e</span>[0],<span class="code-params">e</span>[2],<span class="code-params">t</span>[0],<span class="code-params">t</span>[2]].<span class="code-params">sort</span>(<span class="code-params">r</span>),<span class="code-params">n</span>=[<span class="code-params">e</span>[1],<span class="code-params">e</span>[3],<span class="code-params">t</span>[1],<span class="code-params">t</span>[3]].<span class="code-params">sort</span>(<span class="code-params">r</span>),<span class="code-params">i</span>=[];<span class="code-params">return</span> <span class="code-params">e</span>=<span class="code-params">m</span>.<span class="code-params">normalizeRect</span>(<span class="code-params">e</span>),<span class="code-params">t</span>=<span class="code-params">m</span>.<span class="code-params">normalizeRect</span>(<span class="code-params">t</span>),<span class="code-params">s</span>[0]===<span class="code-params">e</span>[0]&amp;&amp;<span class="code-params">s</span>[1]===<span class="code-params">t</span>[0]||<span class="code-params">s</span>[0]===<span class="code-params">t</span>[0]&amp;&amp;<span class="code-params">s</span>[1]===<span class="code-params">e</span>[0]?(<span class="code-params">i[<span class="code-number">0</span>]=s[<span class="code-number">1</span>],i[<span class="code-number">2</span>]=s[<span class="code-number">2</span>],n[<span class="code-number">0</span>]===e[<span class="code-number">1</span>]&amp;&amp;n[<span class="code-number">1</span>]===t[<span class="code-number">1</span>]||n[<span class="code-number">0</span>]===t[<span class="code-number">1</span>]&amp;&amp;n[<span class="code-number">1</span>]===e[<span class="code-number">1</span>]?(i[<span class="code-number">1</span>]=n[<span class="code-number">1</span>],i[<span class="code-number">3</span>]=n[<span class="code-number">2</span>],i</span>):<span class="code-params">null</span>):<span class="code-params">null</span>}}<span class="code-params">t</span>.<span class="code-params">Util</span>=<span class="code-params">m</span>;<span class="code-params">const</span> <span class="code-params">A</span>=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];<span class="code-params">const</span> <span class="code-params">b</span>=<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>="<span class="code-params">ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789</span>+/=";<span class="code-params">return</span> <span class="code-params">function</span>(<span class="code-params">t,r,s=!<span class="code-number">1</span></span>){<span class="code-params">if</span>(<span class="code-params">!s&amp;&amp;URL.createObjectURL</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">new</span> <span class="code-params">Blob</span>(<span class="code-params">[t],{type:r}</span>);<span class="code-params">return</span> <span class="code-params">URL</span>.<span class="code-params">createObjectURL</span>(<span class="code-params">e</span>)}<span class="code-params">let</span> <span class="code-params">n</span>=`<span class="code-params">data</span>:<span class="code-params">$</span>{<span class="code-params">r</span>};<span class="code-params">base64</span>,`;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> r=<span class="code-number">0</span>,s=t.length;r&lt;s;r+=<span class="code-number">3</span></span>){<span class="code-params">const</span> <span class="code-params">i</span>=255&amp;<span class="code-params">t</span>[<span class="code-params">r</span>],<span class="code-params">a</span>=255&amp;<span class="code-params">t</span>[<span class="code-params">r</span>+1],<span class="code-params">o</span>=255&amp;<span class="code-params">t</span>[<span class="code-params">r</span>+2];<span class="code-params">n</span>+=<span class="code-params">e</span>[<span class="code-params">i</span>&gt;&gt;2]+<span class="code-params">e</span>[(<span class="code-params"><span class="code-number">3</span>&amp;i</span>)&lt;&lt;4|<span class="code-params">a</span>&gt;&gt;4]+<span class="code-params">e</span>[<span class="code-params">r</span>+1&lt;<span class="code-params">s</span>?(<span class="code-params"><span class="code-number">15</span>&amp;a</span>)&lt;&lt;2|<span class="code-params">o</span>&gt;&gt;6:64]+<span class="code-params">e</span>[<span class="code-params">r</span>+2&lt;<span class="code-params">s</span>?63&amp;<span class="code-params">o</span>:64]}<span class="code-params">return</span> <span class="code-params">n</span>}}<span class="code-params">()</span>;<span class="code-params">t</span>.<span class="code-params">createObjectURL</span>=<span class="code-params">b</span>},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">r</span>(<span class="code-params"><span class="code-number">4</span></span>)},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">isNodeJS</span>=<span class="code-params">void</span> 0;<span class="code-params">const</span> <span class="code-params">s</span>="<span class="code-params">object</span>"==<span class="code-params">typeof</span> <span class="code-params">process</span>&amp;&amp;<span class="code-params">process</span>+""=="[<span class="code-params">object</span> <span class="code-params">process</span>]"&amp;&amp;!<span class="code-params">process</span>.<span class="code-params">versions</span>.<span class="code-params">nw</span>&amp;&amp;!<span class="code-params">process</span>.<span class="code-params">versions</span>.<span class="code-params">electron</span>;<span class="code-params">t</span>.<span class="code-params">isNodeJS</span>=<span class="code-params">s</span>},<span class="code-params">function</span>(<span class="code-params"><span class="code-built_in">module</span>,exports,__w_pdfjs_require__</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">exports,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">exports</span>.<span class="code-params">getDocument</span>=<span class="code-params">getDocument</span>,<span class="code-params">exports</span>.<span class="code-params">setPDFNetworkStreamFactory</span>=<span class="code-params">setPDFNetworkStreamFactory</span>,<span class="code-params">exports</span>.<span class="code-params">build</span>=<span class="code-params">exports</span>.<span class="code-params">version</span>=<span class="code-params">exports</span>.<span class="code-params">PDFPageProxy</span>=<span class="code-params">exports</span>.<span class="code-params">PDFDocumentProxy</span>=<span class="code-params">exports</span>.<span class="code-params">PDFWorker</span>=<span class="code-params">exports</span>.<span class="code-params">PDFDataRangeTransport</span>=<span class="code-params">exports</span>.<span class="code-params">LoopbackPort</span>=<span class="code-params">void</span> 0;<span class="code-params">var</span> <span class="code-params">_util</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">2</span></span>),<span class="code-params">_display_utils</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">1</span></span>),<span class="code-params">_font_loader</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">6</span></span>),<span class="code-params">_api_compatibility</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">7</span></span>),<span class="code-params">_canvas</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">8</span></span>),<span class="code-params">_worker_options</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">10</span></span>),<span class="code-params">_is_node</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">4</span></span>),<span class="code-params">_message_handler</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">11</span></span>),<span class="code-params">_metadata</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">12</span></span>),<span class="code-params">_transport_stream</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">14</span></span>),<span class="code-params">_webgl</span>=<span class="code-params">__w_pdfjs_require__</span>(<span class="code-params"><span class="code-number">15</span></span>);<span class="code-params">const</span> <span class="code-params">DEFAULT_RANGE_CHUNK_SIZE</span>=65536,<span class="code-params">RENDERING_CANCELLED_TIMEOUT</span>=100;<span class="code-params">let</span> <span class="code-params">createPDFNetworkStream</span>;<span class="code-params">function</span> <span class="code-params">setPDFNetworkStreamFactory</span>(<span class="code-params">e</span>){<span class="code-params">createPDFNetworkStream</span>=<span class="code-params">e</span>}<span class="code-params">function</span> <span class="code-params">getDocument</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">new</span> <span class="code-params">PDFDocumentLoadingTask</span>;<span class="code-params">let</span> <span class="code-params">r</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e</span>)<span class="code-params">r</span>={<span class="code-params">url</span>:<span class="code-params">e</span>};<span class="code-params">else</span> <span class="code-params">if</span>(<span class="code-params">(<span class="code-number">0</span>,_util.isArrayBuffer</span>)(<span class="code-params">e</span>))<span class="code-params">r</span>={<span class="code-params">data</span>:<span class="code-params">e</span>};<span class="code-params">else</span> <span class="code-params">if</span>(<span class="code-params">e <span class="code-keyword">instanceof</span> PDFDataRangeTransport</span>)<span class="code-params">r</span>={<span class="code-params">range</span>:<span class="code-params">e</span>};<span class="code-params">else</span>{<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> e</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Invalid parameter in getDocument, need either Uint8Array, string or a parameter object"</span></span>);<span class="code-params">if</span>(<span class="code-params">!e.url&amp;&amp;!e.data&amp;&amp;!e.range</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Invalid parameter object: need either .data, .range or .url"</span></span>);<span class="code-params">r</span>=<span class="code-params">e</span>}<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>);<span class="code-params">let</span> <span class="code-params">n</span>=<span class="code-params">null</span>,<span class="code-params">i</span>=<span class="code-params">null</span>;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> e <span class="code-keyword">in</span> r</span>)<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"url"</span>!==e||<span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">window</span></span>)<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"range"</span>!==e</span>)<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"worker"</span>!==e</span>)<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"data"</span>!==e||r[e]<span class="code-keyword">instanceof</span> <span class="code-built_in">Uint8Array</span></span>)<span class="code-params">s</span>[<span class="code-params">e</span>]=<span class="code-params">r</span>[<span class="code-params">e</span>];<span class="code-params">else</span>{<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">r</span>[<span class="code-params">e</span>];<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> t</span>)<span class="code-params">s</span>[<span class="code-params">e</span>]=(<span class="code-params"><span class="code-number">0</span>,_util.stringToBytes</span>)(<span class="code-params">t</span>);<span class="code-params">else</span> <span class="code-params">if</span>(<span class="code-params"><span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> t||<span class="code-literal">null</span>===t||<span class="code-built_in">isNaN</span>(t.length</span>)){<span class="code-params">if</span>(<span class="code-params">!(<span class="code-number">0</span>,_util.isArrayBuffer</span>)(<span class="code-params">t</span>))<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Invalid PDF binary data: either typed array, string or array-like object is expected in the data property."</span></span>);<span class="code-params">s</span>[<span class="code-params">e</span>]=<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">t</span>)}<span class="code-params">else</span> <span class="code-params">s</span>[<span class="code-params">e</span>]=<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">t</span>)}<span class="code-params">else</span> <span class="code-params">i</span>=<span class="code-params">r</span>[<span class="code-params">e</span>];<span class="code-params">else</span> <span class="code-params">n</span>=<span class="code-params">r</span>[<span class="code-params">e</span>];<span class="code-params">else</span> <span class="code-params">s</span>[<span class="code-params">e</span>]=<span class="code-params">new</span> <span class="code-params">URL</span>(<span class="code-params">r[e],<span class="code-built_in">window</span>.location</span>).<span class="code-params">href</span>;<span class="code-params">if</span>(<span class="code-params">s.rangeChunkSize=s.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,s.CMapReaderFactory=s.CMapReaderFactory||_display_utils.DOMCMapReaderFactory,s.ignoreErrors=!<span class="code-number">0</span>!==s.stopAtErrors,s.fontExtraProperties=!<span class="code-number">0</span>===s.fontExtraProperties,s.pdfBug=!<span class="code-number">0</span>===s.pdfBug,<span class="code-built_in">Number</span>.isInteger(s.maxImageSize</span>)||(<span class="code-params">s.maxImageSize=<span class="code-number">-1</span></span>),"<span class="code-params">boolean</span>"!=<span class="code-params">typeof</span> <span class="code-params">s</span>.<span class="code-params">isEvalSupported</span>&amp;&amp;(<span class="code-params">s.isEvalSupported=!<span class="code-number">0</span></span>),"<span class="code-params">boolean</span>"!=<span class="code-params">typeof</span> <span class="code-params">s</span>.<span class="code-params">disableFontFace</span>&amp;&amp;(<span class="code-params">s.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!<span class="code-number">1</span></span>),"<span class="code-params">boolean</span>"!=<span class="code-params">typeof</span> <span class="code-params">s</span>.<span class="code-params">disableRange</span>&amp;&amp;(<span class="code-params">s.disableRange=!<span class="code-number">1</span></span>),"<span class="code-params">boolean</span>"!=<span class="code-params">typeof</span> <span class="code-params">s</span>.<span class="code-params">disableStream</span>&amp;&amp;(<span class="code-params">s.disableStream=!<span class="code-number">1</span></span>),"<span class="code-params">boolean</span>"!=<span class="code-params">typeof</span> <span class="code-params">s</span>.<span class="code-params">disableAutoFetch</span>&amp;&amp;(<span class="code-params">s.disableAutoFetch=!<span class="code-number">1</span></span>),(<span class="code-params"><span class="code-number">0</span>,_util.setVerbosityLevel</span>)(<span class="code-params">s.verbosity</span>),!<span class="code-params">i</span>){<span class="code-params">const</span> <span class="code-params">e</span>={<span class="code-params">verbosity</span>:<span class="code-params">s</span>.<span class="code-params">verbosity</span>,<span class="code-params">port</span>:<span class="code-params">_worker_options</span>.<span class="code-params">GlobalWorkerOptions</span>.<span class="code-params">workerPort</span>};<span class="code-params">i</span>=<span class="code-params">e</span>.<span class="code-params">port</span>?<span class="code-params">PDFWorker</span>.<span class="code-params">fromPort</span>(<span class="code-params">e</span>):<span class="code-params">new</span> <span class="code-params">PDFWorker</span>(<span class="code-params">e</span>),<span class="code-params">t</span>.<span class="code-params">_worker</span>=<span class="code-params">i</span>}<span class="code-params">const</span> <span class="code-params">a</span>=<span class="code-params">t</span>.<span class="code-params">docId</span>;<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">promise</span>.<span class="code-params">then</span>(<span class="code-params">(<span class="code-keyword">function</span>(</span>){<span class="code-params">if</span>(<span class="code-params">t.destroyed</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Loading aborted"</span></span>);<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">_fetchDocument</span>(<span class="code-params">i,s,n,a</span>),<span class="code-params">r</span>=<span class="code-params">new</span> <span class="code-params">Promise</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">let</span> <span class="code-params">t</span>;<span class="code-params">n</span>?<span class="code-params">t</span>=<span class="code-params">new</span> <span class="code-params">_transport_stream</span>.<span class="code-params">PDFDataTransportStream</span>(<span class="code-params">{length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,disableRange:s.disableRange,disableStream:s.disableStream},n</span>):<span class="code-params">s</span>.<span class="code-params">data</span>||(<span class="code-params">t=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream}</span>)),<span class="code-params">e</span>(<span class="code-params">t</span>)}));<span class="code-params">return</span> <span class="code-params">Promise</span>.<span class="code-params">all</span>(<span class="code-params">[e,r]</span>).<span class="code-params">then</span>(<span class="code-params">(<span class="code-keyword">function</span>([e,r]</span>){<span class="code-params">if</span>(<span class="code-params">t.destroyed</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Loading aborted"</span></span>);<span class="code-params">const</span> <span class="code-params">n</span>=<span class="code-params">new</span> <span class="code-params">_message_handler</span>.<span class="code-params">MessageHandler</span>(<span class="code-params">a,e,i.port</span>);<span class="code-params">n</span>.<span class="code-params">postMessageTransfers</span>=<span class="code-params">i</span>.<span class="code-params">postMessageTransfers</span>;<span class="code-params">const</span> <span class="code-params">o</span>=<span class="code-params">new</span> <span class="code-params">WorkerTransport</span>(<span class="code-params">n,t,r,s</span>);<span class="code-params">t</span>.<span class="code-params">_transport</span>=<span class="code-params">o</span>,<span class="code-params">n</span>.<span class="code-params">send</span>(<span class="code-params"><span class="code-string">"Ready"</span>,<span class="code-literal">null</span></span>)}))})).<span class="code-params">catch</span>(<span class="code-params">t._capability.reject</span>),<span class="code-params">t</span>}<span class="code-params">function</span> <span class="code-params">_fetchDocument</span>(<span class="code-params">e,t,r,s</span>){<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">destroyed</span>?<span class="code-params">Promise</span>.<span class="code-params">reject</span>(<span class="code-params"><span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Worker was destroyed"</span></span>)):(<span class="code-params">r&amp;&amp;(t.length=r.length,t.initialData=r.initialData,t.progressiveDone=r.progressiveDone</span>),<span class="code-params">e</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetDocRequest"</span>,{docId:s,apiVersion:<span class="code-string">"2.5.207"</span>,source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}</span>).<span class="code-params">then</span>(<span class="code-params">(<span class="code-keyword">function</span>(t</span>){<span class="code-params">if</span>(<span class="code-params">e.destroyed</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Worker was destroyed"</span></span>);<span class="code-params">return</span> <span class="code-params">t</span>})))}<span class="code-params">const</span> <span class="code-params">PDFDocumentLoadingTask</span>=<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">let</span> <span class="code-params">e</span>=0;<span class="code-params">return</span> <span class="code-params">class</span>{<span class="code-params">constructor</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">_capability</span>=(<span class="code-params"><span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">_transport</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_worker</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">docId</span>="<span class="code-params">d</span>"+<span class="code-params">e</span>++,<span class="code-params">this</span>.<span class="code-params">destroyed</span>=!1,<span class="code-params">this</span>.<span class="code-params">onPassword</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">onProgress</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">onUnsupportedFeature</span>=<span class="code-params">null</span>}<span class="code-params">get</span> <span class="code-params">promise</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_capability</span>.<span class="code-params">promise</span>}<span class="code-params">destroy</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">destroyed</span>=!0;<span class="code-params">return</span>(<span class="code-params"><span class="code-keyword">this</span>._transport?<span class="code-keyword">this</span>._transport.destroy(</span>):<span class="code-params">Promise</span>.<span class="code-params">resolve</span><span class="code-params">()</span>).<span class="code-params">then</span>(<span class="code-params">(</span>)=&gt;</span>{<span class="code-keyword">this</span>._transport=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._worker&amp;&amp;<span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>._worker.destroy(</span>),<span class="code-params">this</span>.<span class="code-params">_worker</span>=<span class="code-params">null</span>)})}}}<span class="code-params">()</span>;<span class="code-params">class</span> <span class="code-params">PDFDataRangeTransport</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t,r=!<span class="code-number">1</span></span>){<span class="code-params">this</span>.<span class="code-params">length</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">initialData</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">progressiveDone</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">_rangeListeners</span>=[],<span class="code-params">this</span>.<span class="code-params">_progressListeners</span>=[],<span class="code-params">this</span>.<span class="code-params">_progressiveReadListeners</span>=[],<span class="code-params">this</span>.<span class="code-params">_progressiveDoneListeners</span>=[],<span class="code-params">this</span>.<span class="code-params">_readyCapability</span>=(<span class="code-params"><span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>}<span class="code-params">addRangeListener</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_rangeListeners</span>.<span class="code-params">push</span>(<span class="code-params">e</span>)}<span class="code-params">addProgressListener</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_progressListeners</span>.<span class="code-params">push</span>(<span class="code-params">e</span>)}<span class="code-params">addProgressiveReadListener</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_progressiveReadListeners</span>.<span class="code-params">push</span>(<span class="code-params">e</span>)}<span class="code-params">addProgressiveDoneListener</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_progressiveDoneListeners</span>.<span class="code-params">push</span>(<span class="code-params">e</span>)}<span class="code-params">onDataRange</span>(<span class="code-params">e,t</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> r <span class="code-keyword">of</span> <span class="code-keyword">this</span>._rangeListeners</span>)<span class="code-params">r</span>(<span class="code-params">e,t</span>)}<span class="code-params">onDataProgress</span>(<span class="code-params">e,t</span>){<span class="code-params">this</span>.<span class="code-params">_readyCapability</span>.<span class="code-params">promise</span>.<span class="code-params">then</span>(<span class="code-params">(</span>)=&gt;</span>{<span class="code-keyword">for</span>(<span class="code-keyword">const</span> r <span class="code-keyword">of</span> <span class="code-keyword">this</span>._progressListeners)r(e,t)})}onDataProgressiveRead(e){<span class="code-keyword">this</span>._readyCapability.promise.then(<span class="code-function"><span class="code-params">()</span>=&gt;</span>{<span class="code-keyword">for</span>(<span class="code-keyword">const</span> t <span class="code-keyword">of</span> <span class="code-keyword">this</span>._progressiveReadListeners)t(e)})}onDataProgressiveDone(){<span class="code-keyword">this</span>._readyCapability.promise.then(<span class="code-function"><span class="code-params">()</span>=&gt;</span>{<span class="code-keyword">for</span>(<span class="code-keyword">const</span> e <span class="code-keyword">of</span> <span class="code-keyword">this</span>._progressiveDoneListeners)e()})}transportReady(){<span class="code-keyword">this</span>._readyCapability.resolve()}requestDataRange(e,t){(<span class="code-number">0</span>,_util.unreachable)(<span class="code-string">"Abstract method PDFDataRangeTransport.requestDataRange"</span>)}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;<span class="code-class"><span class="code-keyword">class</span> <span class="code-title">PDFDocumentProxy</span></span>{<span class="code-keyword">constructor</span>(e,t){<span class="code-keyword">this</span>._pdfInfo=e,<span class="code-keyword">this</span>._transport=t}<span class="code-keyword">get</span> numPages(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._pdfInfo.numPages}<span class="code-keyword">get</span> fingerprint(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._pdfInfo.fingerprint}getPage(e){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._transport.getPage(e)}getPageIndex(e){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._transport.getPageIndex(e)}getDestinations(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._transport.getDestinations()}getDestination(e){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._transport.getDestination(e)}getPageLabels(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._transport.getPageLabels()}getPageLayout(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._transport.getPageLayout()}getPageMode(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._transport.getPageMode()}getViewerPreferences(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._transport.getViewerPreferences()}getOpenAction(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._transport.getOpenAction()}getOpenActionDestination(){<span class="code-keyword">return</span><span class="code-function">(<span class="code-params"><span class="code-number">0</span>,_display_utils.deprecated</span>)(<span class="code-params"><span class="code-string">"getOpenActionDestination, use getOpenAction instead."</span></span>),<span class="code-params">this</span>.<span class="code-params">getOpenAction</span><span class="code-params">()</span>.<span class="code-params">then</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">return</span> <span class="code-params">e</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">dest</span>?<span class="code-params">e</span>.<span class="code-params">dest</span>:<span class="code-params">null</span>}))}<span class="code-params">getAttachments</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">getAttachments</span><span class="code-params">()</span>}<span class="code-params">getJavaScript</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">getJavaScript</span><span class="code-params">()</span>}<span class="code-params">getOutline</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">getOutline</span><span class="code-params">()</span>}<span class="code-params">getPermissions</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">getPermissions</span><span class="code-params">()</span>}<span class="code-params">getMetadata</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">getMetadata</span><span class="code-params">()</span>}<span class="code-params">getData</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">getData</span><span class="code-params">()</span>}<span class="code-params">getDownloadInfo</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">downloadInfoCapability</span>.<span class="code-params">promise</span>}<span class="code-params">getStats</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">getStats</span><span class="code-params">()</span>}<span class="code-params">cleanup</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">startCleanup</span><span class="code-params">()</span>}<span class="code-params">destroy</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">loadingTask</span>.<span class="code-params">destroy</span><span class="code-params">()</span>}<span class="code-params">get</span> <span class="code-params">loadingParams</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">loadingParams</span>}<span class="code-params">get</span> <span class="code-params">loadingTask</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">loadingTask</span>}}<span class="code-params">exports</span>.<span class="code-params">PDFDocumentProxy</span>=<span class="code-params">PDFDocumentProxy</span>;<span class="code-params">class</span> <span class="code-params">PDFPageProxy</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t,r,s=!<span class="code-number">1</span></span>){<span class="code-params">this</span>.<span class="code-params">_pageIndex</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">_pageInfo</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">_transport</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">_stats</span>=<span class="code-params">s</span>?<span class="code-params">new</span> <span class="code-params">_display_utils</span>.<span class="code-params">StatTimer</span>:<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_pdfBug</span>=<span class="code-params">s</span>,<span class="code-params">this</span>.<span class="code-params">commonObjs</span>=<span class="code-params">r</span>.<span class="code-params">commonObjs</span>,<span class="code-params">this</span>.<span class="code-params">objs</span>=<span class="code-params">new</span> <span class="code-params">PDFObjects</span>,<span class="code-params">this</span>.<span class="code-params">cleanupAfterRender</span>=!1,<span class="code-params">this</span>.<span class="code-params">pendingCleanup</span>=!1,<span class="code-params">this</span>.<span class="code-params">intentStates</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>),<span class="code-params">this</span>.<span class="code-params">destroyed</span>=!1}<span class="code-params">get</span> <span class="code-params">pageNumber</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_pageIndex</span>+1}<span class="code-params">get</span> <span class="code-params">rotate</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_pageInfo</span>.<span class="code-params">rotate</span>}<span class="code-params">get</span> <span class="code-params">ref</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_pageInfo</span>.<span class="code-params">ref</span>}<span class="code-params">get</span> <span class="code-params">userUnit</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_pageInfo</span>.<span class="code-params">userUnit</span>}<span class="code-params">get</span> <span class="code-params">view</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_pageInfo</span>.<span class="code-params">view</span>}<span class="code-params">getViewport</span>(<span class="code-params">{scale:e,rotation:t=<span class="code-keyword">this</span>.rotate,offsetX:r=<span class="code-number">0</span>,offsetY:s=<span class="code-number">0</span>,dontFlip:n=!<span class="code-number">1</span>}={}</span>){<span class="code-params">return</span> <span class="code-params">new</span> <span class="code-params">_display_utils</span>.<span class="code-params">PageViewport</span>(<span class="code-params">{viewBox:<span class="code-keyword">this</span>.view,scale:e,rotation:t,offsetX:r,offsetY:s,dontFlip:n}</span>)}<span class="code-params">getAnnotations</span>(<span class="code-params">{intent:e=<span class="code-literal">null</span>}={}</span>){<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">annotationsPromise</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">annotationsIntent</span>===<span class="code-params">e</span>||(<span class="code-params"><span class="code-keyword">this</span>.annotationsPromise=<span class="code-keyword">this</span>._transport.getAnnotations(<span class="code-keyword">this</span>._pageIndex,e</span>),<span class="code-params">this</span>.<span class="code-params">annotationsIntent</span>=<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">annotationsPromise</span>}<span class="code-params">render</span>(<span class="code-params">{canvasContext:e,viewport:t,intent:r=<span class="code-string">"display"</span>,enableWebGL:s=!<span class="code-number">1</span>,renderInteractiveForms:n=!<span class="code-number">1</span>,transform:i=<span class="code-literal">null</span>,imageLayer:a=<span class="code-literal">null</span>,canvasFactory:o=<span class="code-literal">null</span>,background:l=<span class="code-literal">null</span>}</span>){<span class="code-params">this</span>.<span class="code-params">_stats</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_stats</span>.<span class="code-params">time</span>(<span class="code-params"><span class="code-string">"Overall"</span></span>);<span class="code-params">const</span> <span class="code-params">c</span>="<span class="code-params">print</span>"===<span class="code-params">r</span>?"<span class="code-params">print</span>":"<span class="code-params">display</span>";<span class="code-params">this</span>.<span class="code-params">pendingCleanup</span>=!1,<span class="code-params">this</span>.<span class="code-params">intentStates</span>[<span class="code-params">c</span>]||(<span class="code-params"><span class="code-keyword">this</span>.intentStates[c]=<span class="code-built_in">Object</span>.create(<span class="code-literal">null</span></span>));<span class="code-params">const</span> <span class="code-params">h</span>=<span class="code-params">this</span>.<span class="code-params">intentStates</span>[<span class="code-params">c</span>];<span class="code-params">h</span>.<span class="code-params">streamReaderCancelTimeout</span>&amp;&amp;(<span class="code-params">clearTimeout(h.streamReaderCancelTimeout</span>),<span class="code-params">h</span>.<span class="code-params">streamReaderCancelTimeout</span>=<span class="code-params">null</span>);<span class="code-params">const</span> <span class="code-params">d</span>=<span class="code-params">o</span>||<span class="code-params">new</span> <span class="code-params">_display_utils</span>.<span class="code-params">DOMCanvasFactory</span>,<span class="code-params">u</span>=<span class="code-params">new</span> <span class="code-params">_webgl</span>.<span class="code-params">WebGLContext</span>(<span class="code-params">{enable:s}</span>);<span class="code-params">h</span>.<span class="code-params">displayReadyCapability</span>||(<span class="code-params">h.displayReadyCapability=(<span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">h</span>.<span class="code-params">operatorList</span>={<span class="code-params">fnArray</span>:[],<span class="code-params">argsArray</span>:[],<span class="code-params">lastChunk</span>:!1},<span class="code-params">this</span>.<span class="code-params">_stats</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_stats</span>.<span class="code-params">time</span>(<span class="code-params"><span class="code-string">"Page Request"</span></span>),<span class="code-params">this</span>.<span class="code-params">_pumpOperatorList</span>(<span class="code-params">{pageIndex:<span class="code-keyword">this</span>._pageIndex,intent:c,renderInteractiveForms:!<span class="code-number">0</span>===n}</span>));<span class="code-params">const</span> <span class="code-params">p</span>=<span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">const</span> t=h.renderTasks.indexOf(g);t&gt;=<span class="code-number">0</span>&amp;&amp;h.renderTasks.splice(t,<span class="code-number">1</span>),(<span class="code-keyword">this</span>.cleanupAfterRender||<span class="code-string">"print"</span>===c)&amp;&amp;<span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>.pendingCleanup=!<span class="code-number">0</span></span>),<span class="code-params">this</span>.<span class="code-params">_tryCleanup</span><span class="code-params">()</span>,<span class="code-params">e</span>?(<span class="code-params">g.capability.reject(e</span>),<span class="code-params">this</span>.<span class="code-params">_abortOperatorList</span>(<span class="code-params">{intentState:h,reason:e}</span>)):<span class="code-params">g</span>.<span class="code-params">capability</span>.<span class="code-params">resolve</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">_stats</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>._stats.timeEnd(<span class="code-string">"Rendering"</span></span>),<span class="code-params">this</span>.<span class="code-params">_stats</span>.<span class="code-params">timeEnd</span>(<span class="code-params"><span class="code-string">"Overall"</span></span>))},<span class="code-params">g</span>=<span class="code-params">new</span> <span class="code-params">InternalRenderTask</span>(<span class="code-params">{callback:p,params:{canvasContext:e,viewport:t,transform:i,imageLayer:a,background:l},objs:<span class="code-keyword">this</span>.objs,commonObjs:<span class="code-keyword">this</span>.commonObjs,operatorList:h.operatorList,pageIndex:<span class="code-keyword">this</span>._pageIndex,canvasFactory:d,webGLContext:u,useRequestAnimationFrame:<span class="code-string">"print"</span>!==c,pdfBug:<span class="code-keyword">this</span>._pdfBug}</span>);<span class="code-params">h</span>.<span class="code-params">renderTasks</span>||(<span class="code-params">h.renderTasks=[]</span>),<span class="code-params">h</span>.<span class="code-params">renderTasks</span>.<span class="code-params">push</span>(<span class="code-params">g</span>);<span class="code-params">const</span> <span class="code-params">f</span>=<span class="code-params">g</span>.<span class="code-params">task</span>;<span class="code-params">return</span> <span class="code-params">h</span>.<span class="code-params">displayReadyCapability</span>.<span class="code-params">promise</span>.<span class="code-params">then</span>(<span class="code-params">e=&gt;{<span class="code-keyword">this</span>.pendingCleanup?p(</span>):(<span class="code-params"><span class="code-keyword">this</span>._stats&amp;&amp;<span class="code-keyword">this</span>._stats.time(<span class="code-string">"Rendering"</span></span>),<span class="code-params">g</span>.<span class="code-params">initializeGraphics</span>(<span class="code-params">e</span>),<span class="code-params">g</span>.<span class="code-params">operatorListChanged</span><span class="code-params">()</span>)}).<span class="code-params">catch</span>(<span class="code-params">p</span>),<span class="code-params">f</span>}<span class="code-params">getOperatorList</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">intentStates</span>.<span class="code-params">oplist</span>||(<span class="code-params"><span class="code-keyword">this</span>.intentStates.oplist=<span class="code-built_in">Object</span>.create(<span class="code-literal">null</span></span>));<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">intentStates</span>.<span class="code-params">oplist</span>;<span class="code-params">let</span> <span class="code-params">t</span>;<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">opListReadCapability</span>||(<span class="code-params">t={},t.operatorListChanged=<span class="code-keyword">function</span>(</span>){<span class="code-params">if</span>(<span class="code-params">e.operatorList.lastChunk</span>){<span class="code-params">e</span>.<span class="code-params">opListReadCapability</span>.<span class="code-params">resolve</span>(<span class="code-params">e.operatorList</span>);<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">renderTasks</span>.<span class="code-params">indexOf</span>(<span class="code-params">t</span>);<span class="code-params">r</span>&gt;=0&amp;&amp;<span class="code-params">e</span>.<span class="code-params">renderTasks</span>.<span class="code-params">splice</span>(<span class="code-params">r,<span class="code-number">1</span></span>)}},<span class="code-params">e</span>.<span class="code-params">opListReadCapability</span>=(<span class="code-params"><span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">e</span>.<span class="code-params">renderTasks</span>=[],<span class="code-params">e</span>.<span class="code-params">renderTasks</span>.<span class="code-params">push</span>(<span class="code-params">t</span>),<span class="code-params">e</span>.<span class="code-params">operatorList</span>={<span class="code-params">fnArray</span>:[],<span class="code-params">argsArray</span>:[],<span class="code-params">lastChunk</span>:!1},<span class="code-params">this</span>.<span class="code-params">_stats</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_stats</span>.<span class="code-params">time</span>(<span class="code-params"><span class="code-string">"Page Request"</span></span>),<span class="code-params">this</span>.<span class="code-params">_pumpOperatorList</span>(<span class="code-params">{pageIndex:<span class="code-keyword">this</span>._pageIndex,intent:<span class="code-string">"oplist"</span>}</span>)),<span class="code-params">e</span>.<span class="code-params">opListReadCapability</span>.<span class="code-params">promise</span>}<span class="code-params">streamTextContent</span>(<span class="code-params">{normalizeWhitespace:e=!<span class="code-number">1</span>,disableCombineTextItems:t=!<span class="code-number">1</span>}={}</span>){<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithStream</span>(<span class="code-params"><span class="code-string">"GetTextContent"</span>,{pageIndex:<span class="code-keyword">this</span>._pageIndex,normalizeWhitespace:!<span class="code-number">0</span>===e,combineTextItems:!<span class="code-number">0</span>!==t},{highWaterMark:<span class="code-number">100</span>,size:e=&gt;e.items.length}</span>)}<span class="code-params">getTextContent</span>(<span class="code-params">e={}</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">streamTextContent</span>(<span class="code-params">e</span>);<span class="code-params">return</span> <span class="code-params">new</span> <span class="code-params">Promise</span>(<span class="code-params">(<span class="code-keyword">function</span>(e,r</span>){<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">t</span>.<span class="code-params">getReader</span><span class="code-params">()</span>,<span class="code-params">n</span>={<span class="code-params">items</span>:[],<span class="code-params">styles</span>:<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>)};!<span class="code-params">function</span> <span class="code-params">t</span><span class="code-params">()</span>{<span class="code-params">s</span>.<span class="code-params">read</span><span class="code-params">()</span>.<span class="code-params">then</span>(<span class="code-params">(<span class="code-keyword">function</span>({value:r,done:s}</span>){<span class="code-params">s</span>?<span class="code-params">e</span>(<span class="code-params">n</span>):(<span class="code-params"><span class="code-built_in">Object</span>.assign(n.styles,r.styles</span>),<span class="code-params">n</span>.<span class="code-params">items</span>.<span class="code-params">push</span>(<span class="code-params">...r.items</span>),<span class="code-params">t</span><span class="code-params">()</span>)}),<span class="code-params">r</span>)}<span class="code-params">()</span>}))}<span class="code-params">_destroy</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">destroyed</span>=!0,<span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">pageCache</span>[<span class="code-params">this</span>.<span class="code-params">_pageIndex</span>]=<span class="code-params">null</span>;<span class="code-params">const</span> <span class="code-params">e</span>=[];<span class="code-params">return</span> <span class="code-params">Object</span>.<span class="code-params">keys</span>(<span class="code-params"><span class="code-keyword">this</span>.intentStates</span>).<span class="code-params">forEach</span>(<span class="code-params">t=&gt;{<span class="code-keyword">const</span> r=<span class="code-keyword">this</span>.intentStates[t];<span class="code-keyword">this</span>._abortOperatorList({intentState:r,reason:<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Page was destroyed."</span></span>),<span class="code-params">force</span>:!0}),"<span class="code-params">oplist</span>"!==<span class="code-params">t</span>&amp;&amp;<span class="code-params">r</span>.<span class="code-params">renderTasks</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">t</span>.<span class="code-params">capability</span>.<span class="code-params">promise</span>.<span class="code-params">catch</span>(<span class="code-params">(<span class="code-keyword">function</span>(</span>){}));<span class="code-params">e</span>.<span class="code-params">push</span>(<span class="code-params">r</span>),<span class="code-params">t</span>.<span class="code-params">cancel</span><span class="code-params">()</span>}))}),<span class="code-params">this</span>.<span class="code-params">objs</span>.<span class="code-params">clear</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">annotationsPromise</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">pendingCleanup</span>=!1,<span class="code-params">Promise</span>.<span class="code-params">all</span>(<span class="code-params">e</span>)}<span class="code-params">cleanup</span>(<span class="code-params">e=!<span class="code-number">1</span></span>){<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">pendingCleanup</span>=!0,<span class="code-params">this</span>.<span class="code-params">_tryCleanup</span>(<span class="code-params">e</span>)}<span class="code-params">_tryCleanup</span>(<span class="code-params">e=!<span class="code-number">1</span></span>){<span class="code-params">return</span>!(<span class="code-params">!<span class="code-keyword">this</span>.pendingCleanup||<span class="code-built_in">Object</span>.keys(<span class="code-keyword">this</span>.intentStates</span>).<span class="code-params">some</span>(<span class="code-params">e=&gt;{<span class="code-keyword">const</span> t=<span class="code-keyword">this</span>.intentStates[e];<span class="code-keyword">return</span> <span class="code-number">0</span>!==t.renderTasks.length||!t.operatorList.lastChunk}</span>))&amp;&amp;(<span class="code-params"><span class="code-built_in">Object</span>.keys(<span class="code-keyword">this</span>.intentStates</span>).<span class="code-params">forEach</span>(<span class="code-params">e=&gt;{<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.intentStates[e]}</span>),<span class="code-params">this</span>.<span class="code-params">objs</span>.<span class="code-params">clear</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">annotationsPromise</span>=<span class="code-params">null</span>,<span class="code-params">e</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_stats</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>._stats=<span class="code-keyword">new</span> _display_utils.StatTimer</span>),<span class="code-params">this</span>.<span class="code-params">pendingCleanup</span>=!1,!0)}<span class="code-params">_startRenderPage</span>(<span class="code-params">e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">intentStates</span>[<span class="code-params">t</span>];<span class="code-params">r</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>._stats&amp;&amp;<span class="code-keyword">this</span>._stats.timeEnd(<span class="code-string">"Page Request"</span></span>),<span class="code-params">r</span>.<span class="code-params">displayReadyCapability</span>&amp;&amp;<span class="code-params">r</span>.<span class="code-params">displayReadyCapability</span>.<span class="code-params">resolve</span>(<span class="code-params">e</span>))}<span class="code-params">_renderPageChunk</span>(<span class="code-params">e,t</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> r=<span class="code-number">0</span>,s=e.length;r&lt;s;r++</span>)<span class="code-params">t</span>.<span class="code-params">operatorList</span>.<span class="code-params">fnArray</span>.<span class="code-params">push</span>(<span class="code-params">e.fnArray[r]</span>),<span class="code-params">t</span>.<span class="code-params">operatorList</span>.<span class="code-params">argsArray</span>.<span class="code-params">push</span>(<span class="code-params">e.argsArray[r]</span>);<span class="code-params">t</span>.<span class="code-params">operatorList</span>.<span class="code-params">lastChunk</span>=<span class="code-params">e</span>.<span class="code-params">lastChunk</span>;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> e=<span class="code-number">0</span>;e&lt;t.renderTasks.length;e++</span>)<span class="code-params">t</span>.<span class="code-params">renderTasks</span>[<span class="code-params">e</span>].<span class="code-params">operatorListChanged</span><span class="code-params">()</span>;<span class="code-params">e</span>.<span class="code-params">lastChunk</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_tryCleanup</span><span class="code-params">()</span>}<span class="code-params">_pumpOperatorList</span>(<span class="code-params">e</span>){(<span class="code-params"><span class="code-number">0</span>,_util.assert</span>)(<span class="code-params">e.intent,<span class="code-string">'PDFPageProxy._pumpOperatorList: Expected "intent" argument.'</span></span>);<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">_transport</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithStream</span>(<span class="code-params"><span class="code-string">"GetOperatorList"</span>,e</span>).<span class="code-params">getReader</span><span class="code-params">()</span>,<span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">intentStates</span>[<span class="code-params">e</span>.<span class="code-params">intent</span>];<span class="code-params">r</span>.<span class="code-params">streamReader</span>=<span class="code-params">t</span>;<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">()</span>=&gt;</span>{t.read().then(<span class="code-function">(<span class="code-params">{value:e,done:t}</span>)=&gt;</span>{t?r.streamReader=<span class="code-literal">null</span>:<span class="code-keyword">this</span>._transport.destroyed||<span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>._renderPageChunk(e,r</span>),<span class="code-params">s</span><span class="code-params">()</span>)},<span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">if</span>(r.streamReader=<span class="code-literal">null</span>,!<span class="code-keyword">this</span>._transport.destroyed){<span class="code-keyword">if</span>(r.operatorList){r.operatorList.lastChunk=!<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">let</span> e=<span class="code-number">0</span>;e&lt;r.renderTasks.length;e++)r.renderTasks[e].operatorListChanged();<span class="code-keyword">this</span>._tryCleanup()}<span class="code-keyword">if</span>(r.displayReadyCapability)r.displayReadyCapability.reject(e);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(!r.opListReadCapability)<span class="code-keyword">throw</span> e;r.opListReadCapability.reject(e)}}})};s()}_abortOperatorList({<span class="code-attr">intentState</span>:e,<span class="code-attr">reason</span>:t,<span class="code-attr">force</span>:r=!<span class="code-number">1</span>}){<span class="code-keyword">if</span>(<span class="code-function">(<span class="code-params"><span class="code-number">0</span>,_util.assert</span>)(<span class="code-params">t <span class="code-keyword">instanceof</span> <span class="code-built_in">Error</span>||<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> t&amp;&amp;<span class="code-literal">null</span>!==t,<span class="code-string">'PDFPageProxy._abortOperatorList: Expected "reason" argument.'</span></span>),<span class="code-params">e</span>.<span class="code-params">streamReader</span>){<span class="code-params">if</span>(<span class="code-params">!r</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-number">0</span>!==e.renderTasks.length</span>)<span class="code-params">return</span>;<span class="code-params">if</span>(<span class="code-params">t <span class="code-keyword">instanceof</span> _display_utils.RenderingCancelledException</span>)<span class="code-params">return</span> <span class="code-params">void</span>(<span class="code-params">e.streamReaderCancelTimeout=setTimeout((</span>)=&gt;</span>{<span class="code-keyword">this</span>._abortOperatorList({<span class="code-attr">intentState</span>:e,<span class="code-attr">reason</span>:t,<span class="code-attr">force</span>:!<span class="code-number">0</span>}),e.streamReaderCancelTimeout=<span class="code-literal">null</span>},RENDERING_CANCELLED_TIMEOUT))}e.streamReader.cancel(<span class="code-keyword">new</span> _util.AbortException(t&amp;&amp;t.message)),e.streamReader=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._transport.destroyed||<span class="code-function">(<span class="code-params"><span class="code-built_in">Object</span>.keys(<span class="code-keyword">this</span>.intentStates</span>).<span class="code-params">some</span>(<span class="code-params">t=&gt;<span class="code-keyword">this</span>.intentStates[t]===e&amp;&amp;(<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.intentStates[t],!<span class="code-number">0</span></span>)),<span class="code-params">this</span>.<span class="code-params">cleanup</span><span class="code-params">()</span>)}}<span class="code-params">get</span> <span class="code-params">stats</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_stats</span>}}<span class="code-params">exports</span>.<span class="code-params">PDFPageProxy</span>=<span class="code-params">PDFPageProxy</span>;<span class="code-params">class</span> <span class="code-params">LoopbackPort</span>{<span class="code-params">constructor</span>(<span class="code-params">e=!<span class="code-number">0</span></span>){<span class="code-params">this</span>.<span class="code-params">_listeners</span>=[],<span class="code-params">this</span>.<span class="code-params">_defer</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">_deferred</span>=<span class="code-params">Promise</span>.<span class="code-params">resolve</span>(<span class="code-params"><span class="code-keyword">void</span> <span class="code-number">0</span></span>)}<span class="code-params">postMessage</span>(<span class="code-params">e,t</span>){<span class="code-params">if</span>(<span class="code-params">!<span class="code-keyword">this</span>._defer</span>)<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">_listeners</span>.<span class="code-params">forEach</span>(<span class="code-params">t=&gt;{t.call(<span class="code-keyword">this</span>,{data:e}</span>)});<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">new</span> <span class="code-params">WeakMap</span>,<span class="code-params">s</span>={<span class="code-params">data</span>:<span class="code-params">function</span> <span class="code-params">e</span>(<span class="code-params">s</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> s||<span class="code-literal">null</span>===s</span>)<span class="code-params">return</span> <span class="code-params">s</span>;<span class="code-params">if</span>(<span class="code-params">r.has(s</span>))<span class="code-params">return</span> <span class="code-params">r</span>.<span class="code-params">get</span>(<span class="code-params">s</span>);<span class="code-params">let</span> <span class="code-params">n</span>,<span class="code-params">i</span>;<span class="code-params">if</span>(<span class="code-params">(n=s.buffer</span>)&amp;&amp;(<span class="code-params"><span class="code-number">0</span>,_util.isArrayBuffer</span>)(<span class="code-params">n</span>)){<span class="code-params">return</span> <span class="code-params">i</span>=<span class="code-params">t</span>&amp;&amp;<span class="code-params">t</span>.<span class="code-params">includes</span>(<span class="code-params">n</span>)?<span class="code-params">new</span> <span class="code-params">s</span>.<span class="code-params">constructor</span>(<span class="code-params">n,s.byteOffset,s.byteLength</span>):<span class="code-params">new</span> <span class="code-params">s</span>.<span class="code-params">constructor</span>(<span class="code-params">s</span>),<span class="code-params">r</span>.<span class="code-params">set</span>(<span class="code-params">s,i</span>),<span class="code-params">i</span>}<span class="code-params">i</span>=<span class="code-params">Array</span>.<span class="code-params">isArray</span>(<span class="code-params">s</span>)?[]:{},<span class="code-params">r</span>.<span class="code-params">set</span>(<span class="code-params">s,i</span>);<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> t <span class="code-keyword">in</span> s</span>){<span class="code-params">let</span> <span class="code-params">r</span>,<span class="code-params">n</span>=<span class="code-params">s</span>;<span class="code-params">for</span>(<span class="code-params">;!(r=<span class="code-built_in">Object</span>.getOwnPropertyDescriptor(n,t</span>));)<span class="code-params">n</span>=<span class="code-params">Object</span>.<span class="code-params">getPrototypeOf</span>(<span class="code-params">n</span>);<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">void</span> <span class="code-number">0</span>!==r.value</span>)<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"function"</span>!=<span class="code-keyword">typeof</span> r.value</span>)<span class="code-params">i</span>[<span class="code-params">t</span>]=<span class="code-params">e</span>(<span class="code-params">r.value</span>);<span class="code-params">else</span> <span class="code-params">if</span>(<span class="code-params">s.hasOwnProperty&amp;&amp;s.hasOwnProperty(t</span>))<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"LoopbackPort.postMessage - cannot clone: "</span>+s[t]</span>)}<span class="code-params">return</span> <span class="code-params">i</span>}(<span class="code-params">e</span>)};<span class="code-params">this</span>.<span class="code-params">_deferred</span>.<span class="code-params">then</span>(<span class="code-params">(</span>)=&gt;</span>{<span class="code-keyword">this</span>._listeners.forEach(<span class="code-function"><span class="code-params">e</span>=&gt;</span>{e.call(<span class="code-keyword">this</span>,s)})})}addEventListener(e,t){<span class="code-keyword">this</span>._listeners.push(t)}removeEventListener(e,t){<span class="code-keyword">const</span> r=<span class="code-keyword">this</span>._listeners.indexOf(t);<span class="code-keyword">this</span>._listeners.splice(r,<span class="code-number">1</span>)}terminate(){<span class="code-keyword">this</span>._listeners.length=<span class="code-number">0</span>}}exports.LoopbackPort=LoopbackPort;<span class="code-keyword">const</span> PDFWorker=<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">PDFWorkerClosure</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">const</span> pdfWorkerPorts=<span class="code-keyword">new</span> <span class="code-built_in">WeakMap</span>;<span class="code-keyword">let</span> isWorkerDisabled=!<span class="code-number">1</span>,fallbackWorkerSrc,nextFakeWorkerId=<span class="code-number">0</span>,fakeWorkerCapability;<span class="code-keyword">if</span>(_is_node.isNodeJS&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">require</span>)isWorkerDisabled=!<span class="code-number">0</span>,fallbackWorkerSrc=<span class="code-string">"./pdf.worker.js"</span>;<span class="code-keyword">else</span> <span class="code-keyword">if</span>(<span class="code-string">"object"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">document</span>&amp;&amp;<span class="code-string">"currentScript"</span><span class="code-keyword">in</span> <span class="code-built_in">document</span>){<span class="code-keyword">const</span> e=<span class="code-built_in">document</span>.currentScript&amp;&amp;<span class="code-built_in">document</span>.currentScript.src;e&amp;&amp;<span class="code-function">(<span class="code-params">fallbackWorkerSrc=e.replace(<span class="code-regexp">/(\.(?:min\.)?js)(\?.*)?$/i</span>,<span class="code-string">".worker$1$2"</span></span>))}<span class="code-params">function</span> <span class="code-params">getWorkerSrc</span><span class="code-params">()</span>{<span class="code-params">if</span>(<span class="code-params">_worker_options.GlobalWorkerOptions.workerSrc</span>)<span class="code-params">return</span> <span class="code-params">_worker_options</span>.<span class="code-params">GlobalWorkerOptions</span>.<span class="code-params">workerSrc</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">void</span> <span class="code-number">0</span>!==fallbackWorkerSrc</span>)<span class="code-params">return</span> <span class="code-params">_is_node</span>.<span class="code-params">isNodeJS</span>||(<span class="code-params"><span class="code-number">0</span>,_display_utils.deprecated</span>)(<span class="code-params"><span class="code-string">'No "GlobalWorkerOptions.workerSrc" specified.'</span></span>),<span class="code-params">fallbackWorkerSrc</span>;<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">'No "GlobalWorkerOptions.workerSrc" specified.'</span></span>)}<span class="code-params">function</span> <span class="code-params">getMainThreadWorkerMessageHandler</span><span class="code-params">()</span>{<span class="code-params">let</span> <span class="code-params">e</span>;<span class="code-params">try</span>{<span class="code-params">e</span>=<span class="code-params">globalThis</span>.<span class="code-params">pdfjsWorker</span>&amp;&amp;<span class="code-params">globalThis</span>.<span class="code-params">pdfjsWorker</span>.<span class="code-params">WorkerMessageHandler</span>}<span class="code-params">catch</span>(<span class="code-params">e</span>){}<span class="code-params">return</span> <span class="code-params">e</span>||<span class="code-params">null</span>}<span class="code-params">function</span> <span class="code-params">setupFakeWorkerGlobal</span><span class="code-params">()</span>{<span class="code-params">if</span>(<span class="code-params">fakeWorkerCapability</span>)<span class="code-params">return</span> <span class="code-params">fakeWorkerCapability</span>.<span class="code-params">promise</span>;<span class="code-params">fakeWorkerCapability</span>=(<span class="code-params"><span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>;<span class="code-params">const</span> <span class="code-params">loader</span>=<span class="code-params">async</span> <span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">mainWorkerMessageHandler</span>=<span class="code-params">getMainThreadWorkerMessageHandler</span><span class="code-params">()</span>;<span class="code-params">if</span>(<span class="code-params">mainWorkerMessageHandler</span>)<span class="code-params">return</span> <span class="code-params">mainWorkerMessageHandler</span>;<span class="code-params">if</span>(<span class="code-params">_is_node.isNodeJS&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> <span class="code-built_in">require</span></span>){<span class="code-params">const</span> <span class="code-params">worker</span>=<span class="code-params">eval</span>(<span class="code-params"><span class="code-string">"require"</span></span>)(<span class="code-params">getWorkerSrc(</span>));<span class="code-params">return</span> <span class="code-params">worker</span>.<span class="code-params">WorkerMessageHandler</span>}<span class="code-params">return</span> <span class="code-params">await</span>(<span class="code-params"><span class="code-number">0</span>,_display_utils.loadScript</span>)(<span class="code-params">getWorkerSrc(</span>)),<span class="code-params">window</span>.<span class="code-params">pdfjsWorker</span>.<span class="code-params">WorkerMessageHandler</span>};<span class="code-params">return</span> <span class="code-params">loader</span><span class="code-params">()</span>.<span class="code-params">then</span>(<span class="code-params">fakeWorkerCapability.resolve,fakeWorkerCapability.reject</span>),<span class="code-params">fakeWorkerCapability</span>.<span class="code-params">promise</span>}<span class="code-params">function</span> <span class="code-params">createCDNWrapper</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>="<span class="code-params">importScripts</span>(<span class="code-params"><span class="code-string">'"+e+"'</span></span>);";<span class="code-params">return</span> <span class="code-params">URL</span>.<span class="code-params">createObjectURL</span>(<span class="code-params"><span class="code-keyword">new</span> Blob([t]</span>))}<span class="code-params">class</span> <span class="code-params">PDFWorker</span>{<span class="code-params">constructor</span>(<span class="code-params">{name:e=<span class="code-literal">null</span>,port:t=<span class="code-literal">null</span>,verbosity:r=(<span class="code-number">0</span>,_util.getVerbosityLevel</span>)<span class="code-params">()</span>}={}){<span class="code-params">if</span>(<span class="code-params">t&amp;&amp;pdfWorkerPorts.has(t</span>))<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Cannot use more than one PDFWorker per port"</span></span>);<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>.name=e,<span class="code-keyword">this</span>.destroyed=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.postMessageTransfers=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.verbosity=r,<span class="code-keyword">this</span>._readyCapability=(<span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">_port</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_webWorker</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_messageHandler</span>=<span class="code-params">null</span>,<span class="code-params">t</span>)<span class="code-params">return</span> <span class="code-params">pdfWorkerPorts</span>.<span class="code-params">set</span>(<span class="code-params">t,<span class="code-keyword">this</span></span>),<span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">_initializeFromPort</span>(<span class="code-params">t</span>);<span class="code-params">this</span>.<span class="code-params">_initialize</span><span class="code-params">()</span>}<span class="code-params">get</span> <span class="code-params">promise</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_readyCapability</span>.<span class="code-params">promise</span>}<span class="code-params">get</span> <span class="code-params">port</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_port</span>}<span class="code-params">get</span> <span class="code-params">messageHandler</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_messageHandler</span>}<span class="code-params">_initializeFromPort</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_port</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">_messageHandler</span>=<span class="code-params">new</span> <span class="code-params">_message_handler</span>.<span class="code-params">MessageHandler</span>(<span class="code-params"><span class="code-string">"main"</span>,<span class="code-string">"worker"</span>,e</span>),<span class="code-params">this</span>.<span class="code-params">_messageHandler</span>.<span class="code-params">on</span>(<span class="code-params"><span class="code-string">"ready"</span>,(<span class="code-keyword">function</span>(</span>){})),<span class="code-params">this</span>.<span class="code-params">_readyCapability</span>.<span class="code-params">resolve</span><span class="code-params">()</span>}<span class="code-params">_initialize</span><span class="code-params">()</span>{<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> Worker&amp;&amp;!isWorkerDisabled&amp;&amp;!getMainThreadWorkerMessageHandler(</span>)){<span class="code-params">let</span> <span class="code-params">e</span>=<span class="code-params">getWorkerSrc</span><span class="code-params">()</span>;<span class="code-params">try</span>{(<span class="code-params"><span class="code-number">0</span>,_util.isSameOrigin</span>)(<span class="code-params"><span class="code-built_in">window</span>.location.href,e</span>)||(<span class="code-params">e=createCDNWrapper(<span class="code-keyword">new</span> URL(e,<span class="code-built_in">window</span>.location</span>).<span class="code-params">href</span>));<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">new</span> <span class="code-params">Worker</span>(<span class="code-params">e</span>),<span class="code-params">r</span>=<span class="code-params">new</span> <span class="code-params">_message_handler</span>.<span class="code-params">MessageHandler</span>(<span class="code-params"><span class="code-string">"main"</span>,<span class="code-string">"worker"</span>,t</span>),<span class="code-params">s</span>=<span class="code-params">()</span>=&gt;</span>{t.removeEventListener(<span class="code-string">"error"</span>,n),r.destroy(),t.terminate(),<span class="code-keyword">this</span>.destroyed?<span class="code-keyword">this</span>._readyCapability.reject(<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Worker was destroyed"</span>)):<span class="code-keyword">this</span>._setupFakeWorker()},n=<span class="code-function"><span class="code-params">()</span>=&gt;</span>{<span class="code-keyword">this</span>._webWorker||s()};t.addEventListener(<span class="code-string">"error"</span>,n),r.on(<span class="code-string">"test"</span>,e=&gt;{t.removeEventListener(<span class="code-string">"error"</span>,n),<span class="code-keyword">this</span>.destroyed?s():e?<span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>._messageHandler=r,<span class="code-keyword">this</span>._port=t,<span class="code-keyword">this</span>._webWorker=t,e.supportTransfers||(<span class="code-keyword">this</span>.postMessageTransfers=!<span class="code-number">1</span></span>),<span class="code-params">this</span>.<span class="code-params">_readyCapability</span>.<span class="code-params">resolve</span><span class="code-params">()</span>,<span class="code-params">r</span>.<span class="code-params">send</span>(<span class="code-params"><span class="code-string">"configure"</span>,{verbosity:<span class="code-keyword">this</span>.verbosity}</span>)):(<span class="code-params"><span class="code-keyword">this</span>._setupFakeWorker(</span>),<span class="code-params">r</span>.<span class="code-params">destroy</span><span class="code-params">()</span>,<span class="code-params">t</span>.<span class="code-params">terminate</span><span class="code-params">()</span>)}),<span class="code-params">r</span>.<span class="code-params">on</span>(<span class="code-params"><span class="code-string">"ready"</span>,e=&gt;{<span class="code-keyword">if</span>(t.removeEventListener(<span class="code-string">"error"</span>,n</span>),<span class="code-params">this</span>.<span class="code-params">destroyed</span>)<span class="code-params">s</span><span class="code-params">()</span>;<span class="code-params">else</span> <span class="code-params">try</span>{<span class="code-params">i</span><span class="code-params">()</span>}<span class="code-params">catch</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_setupFakeWorker</span><span class="code-params">()</span>}});<span class="code-params">const</span> <span class="code-params">i</span>=<span class="code-params">()</span>=&gt;</span>{<span class="code-keyword">const</span> e=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>([<span class="code-keyword">this</span>.postMessageTransfers?<span class="code-number">255</span>:<span class="code-number">0</span>]);<span class="code-keyword">try</span>{r.send(<span class="code-string">"test"</span>,e,[e.buffer])}<span class="code-keyword">catch</span>(t){(<span class="code-number">0</span>,_util.warn)(<span class="code-string">"Cannot use postMessage transfers."</span>),e[<span class="code-number">0</span>]=<span class="code-number">0</span>,r.send(<span class="code-string">"test"</span>,e)}};<span class="code-keyword">return</span> <span class="code-keyword">void</span> i()}<span class="code-keyword">catch</span>(e){(<span class="code-number">0</span>,_util.info)(<span class="code-string">"The worker has been disabled."</span>)}}<span class="code-keyword">this</span>._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||<span class="code-function">(<span class="code-params">(<span class="code-number">0</span>,_util.warn</span>)(<span class="code-params"><span class="code-string">"Setting up fake worker."</span></span>),<span class="code-params">isWorkerDisabled</span>=!0),<span class="code-params">setupFakeWorkerGlobal</span><span class="code-params">()</span>.<span class="code-params">then</span>(<span class="code-params">e=&gt;{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.destroyed</span>)<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">_readyCapability</span>.<span class="code-params">reject</span>(<span class="code-params"><span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Worker was destroyed"</span></span>));<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">new</span> <span class="code-params">LoopbackPort</span>;<span class="code-params">this</span>.<span class="code-params">_port</span>=<span class="code-params">t</span>;<span class="code-params">const</span> <span class="code-params">r</span>="<span class="code-params">fake</span>"+<span class="code-params">nextFakeWorkerId</span>++,<span class="code-params">s</span>=<span class="code-params">new</span> <span class="code-params">_message_handler</span>.<span class="code-params">MessageHandler</span>(<span class="code-params">r+<span class="code-string">"_worker"</span>,r,t</span>);<span class="code-params">e</span>.<span class="code-params">setup</span>(<span class="code-params">s,t</span>);<span class="code-params">const</span> <span class="code-params">n</span>=<span class="code-params">new</span> <span class="code-params">_message_handler</span>.<span class="code-params">MessageHandler</span>(<span class="code-params">r,r+<span class="code-string">"_worker"</span>,t</span>);<span class="code-params">this</span>.<span class="code-params">_messageHandler</span>=<span class="code-params">n</span>,<span class="code-params">this</span>.<span class="code-params">_readyCapability</span>.<span class="code-params">resolve</span><span class="code-params">()</span>,<span class="code-params">n</span>.<span class="code-params">send</span>(<span class="code-params"><span class="code-string">"configure"</span>,{verbosity:<span class="code-keyword">this</span>.verbosity}</span>)}).<span class="code-params">catch</span>(<span class="code-params">e=&gt;{<span class="code-keyword">this</span>._readyCapability.reject(<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">`Setting up fake worker failed: "<span class="code-subst">${e.message}</span>".`</span></span>))})}<span class="code-params">destroy</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">destroyed</span>=!0,<span class="code-params">this</span>.<span class="code-params">_webWorker</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>._webWorker.terminate(</span>),<span class="code-params">this</span>.<span class="code-params">_webWorker</span>=<span class="code-params">null</span>),<span class="code-params">pdfWorkerPorts</span>.<span class="code-params">delete</span>(<span class="code-params"><span class="code-keyword">this</span>._port</span>),<span class="code-params">this</span>.<span class="code-params">_port</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_messageHandler</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>._messageHandler.destroy(</span>),<span class="code-params">this</span>.<span class="code-params">_messageHandler</span>=<span class="code-params">null</span>)}<span class="code-params">static</span> <span class="code-params">fromPort</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params">!e||!e.port</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"PDFWorker.fromPort - invalid method signature."</span></span>);<span class="code-params">return</span> <span class="code-params">pdfWorkerPorts</span>.<span class="code-params">has</span>(<span class="code-params">e.port</span>)?<span class="code-params">pdfWorkerPorts</span>.<span class="code-params">get</span>(<span class="code-params">e.port</span>):<span class="code-params">new</span> <span class="code-params">PDFWorker</span>(<span class="code-params">e</span>)}<span class="code-params">static</span> <span class="code-params">getWorkerSrc</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">getWorkerSrc</span><span class="code-params">()</span>}}<span class="code-params">return</span> <span class="code-params">PDFWorker</span>}<span class="code-params">()</span>;<span class="code-params">exports</span>.<span class="code-params">PDFWorker</span>=<span class="code-params">PDFWorker</span>;<span class="code-params">class</span> <span class="code-params">WorkerTransport</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t,r,s</span>){<span class="code-params">this</span>.<span class="code-params">messageHandler</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">loadingTask</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">commonObjs</span>=<span class="code-params">new</span> <span class="code-params">PDFObjects</span>,<span class="code-params">this</span>.<span class="code-params">fontLoader</span>=<span class="code-params">new</span> <span class="code-params">_font_loader</span>.<span class="code-params">FontLoader</span>(<span class="code-params">{docId:t.docId,onUnsupportedFeature:<span class="code-keyword">this</span>._onUnsupportedFeature.bind(<span class="code-keyword">this</span></span>)}),<span class="code-params">this</span>.<span class="code-params">_params</span>=<span class="code-params">s</span>,<span class="code-params">this</span>.<span class="code-params">CMapReaderFactory</span>=<span class="code-params">new</span> <span class="code-params">s</span>.<span class="code-params">CMapReaderFactory</span>(<span class="code-params">{baseUrl:s.cMapUrl,isCompressed:s.cMapPacked}</span>),<span class="code-params">this</span>.<span class="code-params">destroyed</span>=!1,<span class="code-params">this</span>.<span class="code-params">destroyCapability</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_passwordCapability</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_networkStream</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">_fullReader</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_lastProgress</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">pageCache</span>=[],<span class="code-params">this</span>.<span class="code-params">pagePromises</span>=[],<span class="code-params">this</span>.<span class="code-params">downloadInfoCapability</span>=(<span class="code-params"><span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">setupMessageHandler</span><span class="code-params">()</span>}<span class="code-params">destroy</span><span class="code-params">()</span>{<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>.destroyCapability</span>)<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">destroyCapability</span>.<span class="code-params">promise</span>;<span class="code-params">this</span>.<span class="code-params">destroyed</span>=!0,<span class="code-params">this</span>.<span class="code-params">destroyCapability</span>=(<span class="code-params"><span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">_passwordCapability</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_passwordCapability</span>.<span class="code-params">reject</span>(<span class="code-params"><span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Worker was destroyed during onPassword callback"</span></span>));<span class="code-params">const</span> <span class="code-params">e</span>=[];<span class="code-params">this</span>.<span class="code-params">pageCache</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(t</span>){<span class="code-params">t</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">push</span>(<span class="code-params">t._destroy(</span>))})),<span class="code-params">this</span>.<span class="code-params">pageCache</span>.<span class="code-params">length</span>=0,<span class="code-params">this</span>.<span class="code-params">pagePromises</span>.<span class="code-params">length</span>=0;<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"Terminate"</span>,<span class="code-literal">null</span></span>);<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">push</span>(<span class="code-params">t</span>),<span class="code-params">Promise</span>.<span class="code-params">all</span>(<span class="code-params">e</span>).<span class="code-params">then</span>(<span class="code-params">(</span>)=&gt;</span>{<span class="code-keyword">this</span>.fontLoader.clear(),<span class="code-keyword">this</span>._networkStream&amp;&amp;<span class="code-keyword">this</span>._networkStream.cancelAllRequests(<span class="code-keyword">new</span> _util.AbortException(<span class="code-string">"Worker was terminated."</span>)),<span class="code-keyword">this</span>.messageHandler&amp;&amp;<span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>.messageHandler.destroy(</span>),<span class="code-params">this</span>.<span class="code-params">messageHandler</span>=<span class="code-params">null</span>),<span class="code-params">this</span>.<span class="code-params">destroyCapability</span>.<span class="code-params">resolve</span><span class="code-params">()</span>},<span class="code-params">this</span>.<span class="code-params">destroyCapability</span>.<span class="code-params">reject</span>),<span class="code-params">this</span>.<span class="code-params">destroyCapability</span>.<span class="code-params">promise</span>}<span class="code-params">setupMessageHandler</span><span class="code-params">()</span>{<span class="code-params">const</span>{<span class="code-params">messageHandler</span>:<span class="code-params">e</span>,<span class="code-params">loadingTask</span>:<span class="code-params">t</span>}=<span class="code-params">this</span>;<span class="code-params">e</span>.<span class="code-params">on</span>(<span class="code-params"><span class="code-string">"GetReader"</span>,(e,t</span>)=&gt;</span>{(<span class="code-number">0</span>,_util.assert)(<span class="code-keyword">this</span>._networkStream,<span class="code-string">"GetReader - no `IPDFStream` instance available."</span>),<span class="code-keyword">this</span>._fullReader=<span class="code-keyword">this</span>._networkStream.getFullReader(),<span class="code-keyword">this</span>._fullReader.onProgress=<span class="code-function"><span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">this</span>._lastProgress={<span class="code-attr">loaded</span>:e.loaded,<span class="code-attr">total</span>:e.total}},t.onPull=<span class="code-function"><span class="code-params">()</span>=&gt;</span>{<span class="code-keyword">this</span>._fullReader.read().then(<span class="code-function">(<span class="code-params"><span class="code-keyword">function</span>({value:e,done:r}</span>){<span class="code-params">r</span>?<span class="code-params">t</span>.<span class="code-params">close</span><span class="code-params">()</span>:(<span class="code-params">(<span class="code-number">0</span>,_util.assert</span>)(<span class="code-params">(<span class="code-number">0</span>,_util.isArrayBuffer</span>)(<span class="code-params">e</span>),"<span class="code-params">GetReader</span> - <span class="code-params">expected</span> <span class="code-params">an</span> <span class="code-params">ArrayBuffer</span>."),<span class="code-params">t</span>.<span class="code-params">enqueue</span>(<span class="code-params"><span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e</span>),1,[<span class="code-params">e</span>]))})).<span class="code-params">catch</span>(<span class="code-params">e=&gt;{t.error(e</span>)})},<span class="code-params">t</span>.<span class="code-params">onCancel</span>=<span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">this</span>._fullReader.cancel(e)}}),e.on(<span class="code-string">"ReaderHeadersReady"</span>,e=&gt;{<span class="code-keyword">const</span> r=<span class="code-function">(<span class="code-params"><span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">s</span>=<span class="code-params">this</span>.<span class="code-params">_fullReader</span>;<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">headersReady</span>.<span class="code-params">then</span>(<span class="code-params">(</span>)=&gt;</span>{s.isStreamingSupported&amp;&amp;s.isRangeSupported||<span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>._lastProgress&amp;&amp;t.onProgress&amp;&amp;t.onProgress(<span class="code-keyword">this</span>._lastProgress</span>),<span class="code-params">s</span>.<span class="code-params">onProgress</span>=<span class="code-params">e</span>=&gt;</span>{t.onProgress&amp;&amp;t.onProgress({<span class="code-attr">loaded</span>:e.loaded,<span class="code-attr">total</span>:e.total})}),r.resolve({<span class="code-attr">isStreamingSupported</span>:s.isStreamingSupported,<span class="code-attr">isRangeSupported</span>:s.isRangeSupported,<span class="code-attr">contentLength</span>:s.contentLength})},r.reject),r.promise}),e.on(<span class="code-string">"GetRangeReader"</span>,(e,t)=&gt;{(<span class="code-number">0</span>,_util.assert)(<span class="code-keyword">this</span>._networkStream,<span class="code-string">"GetRangeReader - no `IPDFStream` instance available."</span>);<span class="code-keyword">const</span> r=<span class="code-keyword">this</span>._networkStream.getRangeReader(e.begin,e.end);r?<span class="code-function">(<span class="code-params">t.onPull=(</span>)=&gt;</span>{r.read().then(<span class="code-function">(<span class="code-params"><span class="code-keyword">function</span>({value:e,done:r}</span>){<span class="code-params">r</span>?<span class="code-params">t</span>.<span class="code-params">close</span><span class="code-params">()</span>:(<span class="code-params">(<span class="code-number">0</span>,_util.assert</span>)(<span class="code-params">(<span class="code-number">0</span>,_util.isArrayBuffer</span>)(<span class="code-params">e</span>),"<span class="code-params">GetRangeReader</span> - <span class="code-params">expected</span> <span class="code-params">an</span> <span class="code-params">ArrayBuffer</span>."),<span class="code-params">t</span>.<span class="code-params">enqueue</span>(<span class="code-params"><span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e</span>),1,[<span class="code-params">e</span>]))})).<span class="code-params">catch</span>(<span class="code-params">e=&gt;{t.error(e</span>)})},<span class="code-params">t</span>.<span class="code-params">onCancel</span>=<span class="code-params">e</span>=&gt;</span>{r.cancel(e)}):t.close()}),e.on(<span class="code-string">"GetDoc"</span>,({<span class="code-attr">pdfInfo</span>:e})=&gt;{<span class="code-keyword">this</span>._numPages=e.numPages,t._capability.resolve(<span class="code-keyword">new</span> PDFDocumentProxy(e,<span class="code-keyword">this</span>))}),e.on(<span class="code-string">"DocException"</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">let</span> r;<span class="code-keyword">switch</span>(e.name){<span class="code-keyword">case</span><span class="code-string">"PasswordException"</span>:r=<span class="code-keyword">new</span> _util.PasswordException(e.message,e.code);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"InvalidPDFException"</span>:r=<span class="code-keyword">new</span> _util.InvalidPDFException(e.message);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"MissingPDFException"</span>:r=<span class="code-keyword">new</span> _util.MissingPDFException(e.message);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"UnexpectedResponseException"</span>:r=<span class="code-keyword">new</span> _util.UnexpectedResponseException(e.message,e.status);<span class="code-keyword">break</span>;<span class="code-keyword">case</span><span class="code-string">"UnknownErrorException"</span>:r=<span class="code-keyword">new</span> _util.UnknownErrorException(e.message,e.details)}t._capability.reject(r)})),e.on(<span class="code-string">"PasswordRequest"</span>,e=&gt;{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._passwordCapability=<span class="code-function">(<span class="code-params"><span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">t</span>.<span class="code-params">onPassword</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">this</span>._passwordCapability.resolve({<span class="code-attr">password</span>:e})};<span class="code-keyword">try</span>{t.onPassword(r,e.code)}<span class="code-keyword">catch</span>(e){<span class="code-keyword">this</span>._passwordCapability.reject(e)}}<span class="code-keyword">else</span> <span class="code-keyword">this</span>._passwordCapability.reject(<span class="code-keyword">new</span> _util.PasswordException(e.message,e.code));<span class="code-keyword">return</span> <span class="code-keyword">this</span>._passwordCapability.promise}),e.on(<span class="code-string">"DataLoaded"</span>,e=&gt;{t.onProgress&amp;&amp;t.onProgress({<span class="code-attr">loaded</span>:e.length,<span class="code-attr">total</span>:e.length}),<span class="code-keyword">this</span>.downloadInfoCapability.resolve(e)}),e.on(<span class="code-string">"StartRenderPage"</span>,e=&gt;{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.destroyed)<span class="code-keyword">return</span>;<span class="code-keyword">this</span>.pageCache[e.pageIndex]._startRenderPage(e.transparency,e.intent)}),e.on(<span class="code-string">"commonobj"</span>,t=&gt;{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.destroyed)<span class="code-keyword">return</span>;<span class="code-keyword">const</span>[r,s,n]=t;<span class="code-keyword">if</span>(!<span class="code-keyword">this</span>.commonObjs.has(r))<span class="code-keyword">switch</span>(s){<span class="code-keyword">case</span><span class="code-string">"Font"</span>:<span class="code-keyword">const</span> t=<span class="code-keyword">this</span>._params;<span class="code-keyword">if</span>(<span class="code-string">"error"</span><span class="code-keyword">in</span> n){<span class="code-keyword">const</span> e=n.error;<span class="code-function">(<span class="code-params"><span class="code-number">0</span>,_util.warn</span>)(<span class="code-params"><span class="code-string">"Error during font loading: "</span>+e</span>),<span class="code-params">this</span>.<span class="code-params">commonObjs</span>.<span class="code-params">resolve</span>(<span class="code-params">r,e</span>);<span class="code-params">break</span>}<span class="code-params">let</span> <span class="code-params">i</span>=<span class="code-params">null</span>;<span class="code-params">t</span>.<span class="code-params">pdfBug</span>&amp;&amp;<span class="code-params">globalThis</span>.<span class="code-params">FontInspector</span>&amp;&amp;<span class="code-params">globalThis</span>.<span class="code-params">FontInspector</span>.<span class="code-params">enabled</span>&amp;&amp;(<span class="code-params">i={registerFont(e,t</span>){<span class="code-params">globalThis</span>.<span class="code-params">FontInspector</span>.<span class="code-params">fontAdded</span>(<span class="code-params">e,t</span>)}});<span class="code-params">const</span> <span class="code-params">a</span>=<span class="code-params">new</span> <span class="code-params">_font_loader</span>.<span class="code-params">FontFaceObject</span>(<span class="code-params">n,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,onUnsupportedFeature:<span class="code-keyword">this</span>._onUnsupportedFeature.bind(<span class="code-keyword">this</span></span>),<span class="code-params">fontRegistry</span>:<span class="code-params">i</span>});<span class="code-params">this</span>.<span class="code-params">fontLoader</span>.<span class="code-params">bind</span>(<span class="code-params">a</span>).<span class="code-params">catch</span>(<span class="code-params">t=&gt;e.sendWithPromise(<span class="code-string">"FontFallback"</span>,{id:r}</span>)).<span class="code-params">finally</span>(<span class="code-params">(</span>)=&gt;</span>{!t.fontExtraProperties&amp;&amp;a.data&amp;&amp;<span class="code-function">(<span class="code-params">a.data=<span class="code-literal">null</span></span>),<span class="code-params">this</span>.<span class="code-params">commonObjs</span>.<span class="code-params">resolve</span>(<span class="code-params">r,a</span>)});<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">FontPath</span>":<span class="code-params">case</span>"<span class="code-params">FontType3Res</span>":<span class="code-params">case</span>"<span class="code-params">Image</span>":<span class="code-params">this</span>.<span class="code-params">commonObjs</span>.<span class="code-params">resolve</span>(<span class="code-params">r,n</span>);<span class="code-params">break</span>;<span class="code-params">default</span>:<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Got unknown common object type "</span>+s</span>)}}),<span class="code-params">e</span>.<span class="code-params">on</span>(<span class="code-params"><span class="code-string">"obj"</span>,e=&gt;{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.destroyed</span>)<span class="code-params">return</span>;<span class="code-params">const</span>[<span class="code-params">t</span>,<span class="code-params">r</span>,<span class="code-params">s</span>,<span class="code-params">n</span>]=<span class="code-params">e</span>,<span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">pageCache</span>[<span class="code-params">r</span>];<span class="code-params">if</span>(<span class="code-params">!i.objs.has(t</span>))<span class="code-params">switch</span>(<span class="code-params">s</span>){<span class="code-params">case</span>"<span class="code-params">Image</span>":<span class="code-params">i</span>.<span class="code-params">objs</span>.<span class="code-params">resolve</span>(<span class="code-params">t,n</span>);<span class="code-params">const</span> <span class="code-params">e</span>=8<span class="code-params">e6</span>;<span class="code-params">n</span>&amp;&amp;"<span class="code-params">data</span>"<span class="code-params">in</span> <span class="code-params">n</span>&amp;&amp;<span class="code-params">n</span>.<span class="code-params">data</span>.<span class="code-params">length</span>&gt;<span class="code-params">e</span>&amp;&amp;(<span class="code-params">i.cleanupAfterRender=!<span class="code-number">0</span></span>);<span class="code-params">break</span>;<span class="code-params">default</span>:<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Got unknown object type "</span>+s</span>)}}),<span class="code-params">e</span>.<span class="code-params">on</span>(<span class="code-params"><span class="code-string">"DocProgress"</span>,e=&gt;{<span class="code-keyword">this</span>.destroyed||t.onProgress&amp;&amp;t.onProgress({loaded:e.loaded,total:e.total}</span>)}),<span class="code-params">e</span>.<span class="code-params">on</span>(<span class="code-params"><span class="code-string">"UnsupportedFeature"</span>,<span class="code-keyword">this</span>._onUnsupportedFeature.bind(<span class="code-keyword">this</span></span>)),<span class="code-params">e</span>.<span class="code-params">on</span>(<span class="code-params"><span class="code-string">"FetchBuiltInCMap"</span>,(e,t</span>)=&gt;</span>{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.destroyed)<span class="code-keyword">return</span> <span class="code-keyword">void</span> t.error(<span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Worker was destroyed"</span>));<span class="code-keyword">let</span> r=!<span class="code-number">1</span>;t.onPull=<span class="code-function"><span class="code-params">()</span>=&gt;</span>{r?t.close():<span class="code-function">(<span class="code-params">r=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.CMapReaderFactory.fetch(e</span>).<span class="code-params">then</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">t</span>.<span class="code-params">enqueue</span>(<span class="code-params">e,<span class="code-number">1</span>,[e.cMapData.buffer]</span>)})).<span class="code-params">catch</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">t</span>.<span class="code-params">error</span>(<span class="code-params">e</span>)})))}})}<span class="code-params">_onUnsupportedFeature</span>(<span class="code-params">{featureId:e}</span>){<span class="code-params">this</span>.<span class="code-params">destroyed</span>||<span class="code-params">this</span>.<span class="code-params">loadingTask</span>.<span class="code-params">onUnsupportedFeature</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">loadingTask</span>.<span class="code-params">onUnsupportedFeature</span>(<span class="code-params">e</span>)}<span class="code-params">getData</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetData"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getPage</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params">!<span class="code-built_in">Number</span>.isInteger(e</span>)||<span class="code-params">e</span>&lt;=0||<span class="code-params">e</span>&gt;<span class="code-params">this</span>.<span class="code-params">_numPages</span>)<span class="code-params">return</span> <span class="code-params">Promise</span>.<span class="code-params">reject</span>(<span class="code-params"><span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid page request"</span></span>));<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>-1;<span class="code-params">if</span>(<span class="code-params">t <span class="code-keyword">in</span> <span class="code-keyword">this</span>.pagePromises</span>)<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">pagePromises</span>[<span class="code-params">t</span>];<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetPage"</span>,{pageIndex:t}</span>).<span class="code-params">then</span>(<span class="code-params">e=&gt;{<span class="code-keyword">if</span>(<span class="code-keyword">this</span>.destroyed</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Transport destroyed"</span></span>);<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">new</span> <span class="code-params">PDFPageProxy</span>(<span class="code-params">t,e,<span class="code-keyword">this</span>,<span class="code-keyword">this</span>._params.pdfBug</span>);<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">pageCache</span>[<span class="code-params">t</span>]=<span class="code-params">r</span>,<span class="code-params">r</span>});<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">pagePromises</span>[<span class="code-params">t</span>]=<span class="code-params">r</span>,<span class="code-params">r</span>}<span class="code-params">getPageIndex</span>(<span class="code-params">e</span>){<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetPageIndex"</span>,{ref:e}</span>).<span class="code-params">catch</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">return</span> <span class="code-params">Promise</span>.<span class="code-params">reject</span>(<span class="code-params"><span class="code-keyword">new</span> <span class="code-built_in">Error</span>(e</span>))}))}<span class="code-params">getAnnotations</span>(<span class="code-params">e,t</span>){<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetAnnotations"</span>,{pageIndex:e,intent:t}</span>)}<span class="code-params">getDestinations</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetDestinations"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getDestination</span>(<span class="code-params">e</span>){<span class="code-params">return</span>"<span class="code-params">string</span>"!=<span class="code-params">typeof</span> <span class="code-params">e</span>?<span class="code-params">Promise</span>.<span class="code-params">reject</span>(<span class="code-params"><span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Invalid destination request."</span></span>)):<span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetDestination"</span>,{id:e}</span>)}<span class="code-params">getPageLabels</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetPageLabels"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getPageLayout</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetPageLayout"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getPageMode</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetPageMode"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getViewerPreferences</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetViewerPreferences"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getOpenAction</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetOpenAction"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getAttachments</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetAttachments"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getJavaScript</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetJavaScript"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getOutline</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetOutline"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getPermissions</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetPermissions"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">getMetadata</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetMetadata"</span>,<span class="code-literal">null</span></span>).<span class="code-params">then</span>(<span class="code-params">e=&gt;({info:e[<span class="code-number">0</span>],metadata:e[<span class="code-number">1</span>]?<span class="code-keyword">new</span> _metadata.Metadata(e[<span class="code-number">1</span>]</span>):<span class="code-params">null</span>,<span class="code-params">contentDispositionFilename</span>:<span class="code-params">this</span>.<span class="code-params">_fullReader</span>?<span class="code-params">this</span>.<span class="code-params">_fullReader</span>.<span class="code-params">filename</span>:<span class="code-params">null</span>}))}<span class="code-params">getStats</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"GetStats"</span>,<span class="code-literal">null</span></span>)}<span class="code-params">startCleanup</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">messageHandler</span>.<span class="code-params">sendWithPromise</span>(<span class="code-params"><span class="code-string">"Cleanup"</span>,<span class="code-literal">null</span></span>).<span class="code-params">then</span>(<span class="code-params">(</span>)=&gt;</span>{<span class="code-keyword">for</span>(<span class="code-keyword">let</span> e=<span class="code-number">0</span>,t=<span class="code-keyword">this</span>.pageCache.length;e&lt;t;e++){<span class="code-keyword">const</span> t=<span class="code-keyword">this</span>.pageCache[e];<span class="code-keyword">if</span>(t){<span class="code-keyword">if</span>(!t.cleanup())<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">`startCleanup: Page <span class="code-subst">${e+<span class="code-number">1</span>}</span> is currently rendering.`</span>)}}<span class="code-keyword">this</span>.commonObjs.clear(),<span class="code-keyword">this</span>.fontLoader.clear()})}<span class="code-keyword">get</span> loadingParams(){<span class="code-keyword">const</span> e=<span class="code-keyword">this</span>._params;<span class="code-keyword">return</span><span class="code-function">(<span class="code-params"><span class="code-number">0</span>,_util.shadow</span>)(<span class="code-params"><span class="code-keyword">this</span>,<span class="code-string">"loadingParams"</span>,{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace}</span>)}}<span class="code-params">class</span> <span class="code-params">PDFObjects</span>{<span class="code-params">constructor</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">_objs</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>)}<span class="code-params">_ensureObj</span>(<span class="code-params">e</span>){<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_objs</span>[<span class="code-params">e</span>]?<span class="code-params">this</span>.<span class="code-params">_objs</span>[<span class="code-params">e</span>]:<span class="code-params">this</span>.<span class="code-params">_objs</span>[<span class="code-params">e</span>]={<span class="code-params">capability</span>:(<span class="code-params"><span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">data</span>:<span class="code-params">null</span>,<span class="code-params">resolved</span>:!1}}<span class="code-params">get</span>(<span class="code-params">e,t=<span class="code-literal">null</span></span>){<span class="code-params">if</span>(<span class="code-params">t</span>)<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_ensureObj</span>(<span class="code-params">e</span>).<span class="code-params">capability</span>.<span class="code-params">promise</span>.<span class="code-params">then</span>(<span class="code-params">t</span>),<span class="code-params">null</span>;<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">_objs</span>[<span class="code-params">e</span>];<span class="code-params">if</span>(<span class="code-params">!r||!r.resolved</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">`Requesting object that isn't resolved yet <span class="code-subst">${e}</span>.`</span></span>);<span class="code-params">return</span> <span class="code-params">r</span>.<span class="code-params">data</span>}<span class="code-params">has</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">_objs</span>[<span class="code-params">e</span>];<span class="code-params">return</span>!!<span class="code-params">t</span>&amp;&amp;<span class="code-params">t</span>.<span class="code-params">resolved</span>}<span class="code-params">resolve</span>(<span class="code-params">e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">_ensureObj</span>(<span class="code-params">e</span>);<span class="code-params">r</span>.<span class="code-params">resolved</span>=!0,<span class="code-params">r</span>.<span class="code-params">data</span>=<span class="code-params">t</span>,<span class="code-params">r</span>.<span class="code-params">capability</span>.<span class="code-params">resolve</span>(<span class="code-params">t</span>)}<span class="code-params">clear</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">_objs</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>)}}<span class="code-params">class</span> <span class="code-params">RenderTask</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_internalRenderTask</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">onContinue</span>=<span class="code-params">null</span>}<span class="code-params">get</span> <span class="code-params">promise</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_internalRenderTask</span>.<span class="code-params">capability</span>.<span class="code-params">promise</span>}<span class="code-params">cancel</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">_internalRenderTask</span>.<span class="code-params">cancel</span><span class="code-params">()</span>}}<span class="code-params">const</span> <span class="code-params">InternalRenderTask</span>=<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">new</span> <span class="code-params">WeakSet</span>;<span class="code-params">return</span> <span class="code-params">class</span>{<span class="code-params">constructor</span>(<span class="code-params">{callback:e,params:t,objs:r,commonObjs:s,operatorList:n,pageIndex:i,canvasFactory:a,webGLContext:o,useRequestAnimationFrame:l=!<span class="code-number">1</span>,pdfBug:c=!<span class="code-number">1</span>}</span>){<span class="code-params">this</span>.<span class="code-params">callback</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">params</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">objs</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">commonObjs</span>=<span class="code-params">s</span>,<span class="code-params">this</span>.<span class="code-params">operatorListIdx</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">operatorList</span>=<span class="code-params">n</span>,<span class="code-params">this</span>.<span class="code-params">_pageIndex</span>=<span class="code-params">i</span>,<span class="code-params">this</span>.<span class="code-params">canvasFactory</span>=<span class="code-params">a</span>,<span class="code-params">this</span>.<span class="code-params">webGLContext</span>=<span class="code-params">o</span>,<span class="code-params">this</span>.<span class="code-params">_pdfBug</span>=<span class="code-params">c</span>,<span class="code-params">this</span>.<span class="code-params">running</span>=!1,<span class="code-params">this</span>.<span class="code-params">graphicsReadyCallback</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">graphicsReady</span>=!1,<span class="code-params">this</span>.<span class="code-params">_useRequestAnimationFrame</span>=!0===<span class="code-params">l</span>&amp;&amp;"<span class="code-params">undefined</span>"!=<span class="code-params">typeof</span> <span class="code-params">window</span>,<span class="code-params">this</span>.<span class="code-params">cancelled</span>=!1,<span class="code-params">this</span>.<span class="code-params">capability</span>=(<span class="code-params"><span class="code-number">0</span>,_util.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">task</span>=<span class="code-params">new</span> <span class="code-params">RenderTask</span>(<span class="code-params"><span class="code-keyword">this</span></span>),<span class="code-params">this</span>.<span class="code-params">_continueBound</span>=<span class="code-params">this</span>.<span class="code-params">_continue</span>.<span class="code-params">bind</span>(<span class="code-params"><span class="code-keyword">this</span></span>),<span class="code-params">this</span>.<span class="code-params">_scheduleNextBound</span>=<span class="code-params">this</span>.<span class="code-params">_scheduleNext</span>.<span class="code-params">bind</span>(<span class="code-params"><span class="code-keyword">this</span></span>),<span class="code-params">this</span>.<span class="code-params">_nextBound</span>=<span class="code-params">this</span>.<span class="code-params">_next</span>.<span class="code-params">bind</span>(<span class="code-params"><span class="code-keyword">this</span></span>),<span class="code-params">this</span>.<span class="code-params">_canvas</span>=<span class="code-params">t</span>.<span class="code-params">canvasContext</span>.<span class="code-params">canvas</span>}<span class="code-params">initializeGraphics</span>(<span class="code-params">t=!<span class="code-number">1</span></span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>.cancelled</span>)<span class="code-params">return</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>._canvas</span>){<span class="code-params">if</span>(<span class="code-params">e.has(<span class="code-keyword">this</span>._canvas</span>))<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed."</span></span>);<span class="code-params">e</span>.<span class="code-params">add</span>(<span class="code-params"><span class="code-keyword">this</span>._canvas</span>)}<span class="code-params">this</span>.<span class="code-params">_pdfBug</span>&amp;&amp;<span class="code-params">globalThis</span>.<span class="code-params">StepperManager</span>&amp;&amp;<span class="code-params">globalThis</span>.<span class="code-params">StepperManager</span>.<span class="code-params">enabled</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.stepper=globalThis.StepperManager.create(<span class="code-keyword">this</span>._pageIndex</span>),<span class="code-params">this</span>.<span class="code-params">stepper</span>.<span class="code-params">init</span>(<span class="code-params"><span class="code-keyword">this</span>.operatorList</span>),<span class="code-params">this</span>.<span class="code-params">stepper</span>.<span class="code-params">nextBreakPoint</span>=<span class="code-params">this</span>.<span class="code-params">stepper</span>.<span class="code-params">getNextBreakPoint</span><span class="code-params">()</span>);<span class="code-params">const</span>{<span class="code-params">canvasContext</span>:<span class="code-params">r</span>,<span class="code-params">viewport</span>:<span class="code-params">s</span>,<span class="code-params">transform</span>:<span class="code-params">n</span>,<span class="code-params">imageLayer</span>:<span class="code-params">i</span>,<span class="code-params">background</span>:<span class="code-params">a</span>}=<span class="code-params">this</span>.<span class="code-params">params</span>;<span class="code-params">this</span>.<span class="code-params">gfx</span>=<span class="code-params">new</span> <span class="code-params">_canvas</span>.<span class="code-params">CanvasGraphics</span>(<span class="code-params">r,<span class="code-keyword">this</span>.commonObjs,<span class="code-keyword">this</span>.objs,<span class="code-keyword">this</span>.canvasFactory,<span class="code-keyword">this</span>.webGLContext,i</span>),<span class="code-params">this</span>.<span class="code-params">gfx</span>.<span class="code-params">beginDrawing</span>(<span class="code-params">{transform:n,viewport:s,transparency:t,background:a}</span>),<span class="code-params">this</span>.<span class="code-params">operatorListIdx</span>=0,<span class="code-params">this</span>.<span class="code-params">graphicsReady</span>=!0,<span class="code-params">this</span>.<span class="code-params">graphicsReadyCallback</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">graphicsReadyCallback</span><span class="code-params">()</span>}<span class="code-params">cancel</span>(<span class="code-params">t=<span class="code-literal">null</span></span>){<span class="code-params">this</span>.<span class="code-params">running</span>=!1,<span class="code-params">this</span>.<span class="code-params">cancelled</span>=!0,<span class="code-params">this</span>.<span class="code-params">gfx</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">gfx</span>.<span class="code-params">endDrawing</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">_canvas</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">delete</span>(<span class="code-params"><span class="code-keyword">this</span>._canvas</span>),<span class="code-params">this</span>.<span class="code-params">callback</span>(<span class="code-params">t||<span class="code-keyword">new</span> _display_utils.RenderingCancelledException(<span class="code-string">"Rendering cancelled, page "</span>+(<span class="code-keyword">this</span>._pageIndex+<span class="code-number">1</span></span>),"<span class="code-params">canvas</span>"))}<span class="code-params">operatorListChanged</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">graphicsReady</span>?(<span class="code-params"><span class="code-keyword">this</span>.stepper&amp;&amp;<span class="code-keyword">this</span>.stepper.updateOperatorList(<span class="code-keyword">this</span>.operatorList</span>),<span class="code-params">this</span>.<span class="code-params">running</span>||<span class="code-params">this</span>.<span class="code-params">_continue</span><span class="code-params">()</span>):<span class="code-params">this</span>.<span class="code-params">graphicsReadyCallback</span>||(<span class="code-params"><span class="code-keyword">this</span>.graphicsReadyCallback=<span class="code-keyword">this</span>._continueBound</span>)}<span class="code-params">_continue</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">running</span>=!0,<span class="code-params">this</span>.<span class="code-params">cancelled</span>||(<span class="code-params"><span class="code-keyword">this</span>.task.onContinue?<span class="code-keyword">this</span>.task.onContinue(<span class="code-keyword">this</span>._scheduleNextBound</span>):<span class="code-params">this</span>.<span class="code-params">_scheduleNext</span><span class="code-params">()</span>)}<span class="code-params">_scheduleNext</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">_useRequestAnimationFrame</span>?<span class="code-params">window</span>.<span class="code-params">requestAnimationFrame</span>(<span class="code-params">(</span>)=&gt;</span>{<span class="code-keyword">this</span>._nextBound().catch(<span class="code-keyword">this</span>.cancel.bind(<span class="code-keyword">this</span>))}):<span class="code-built_in">Promise</span>.resolve().then(<span class="code-keyword">this</span>._nextBound).catch(<span class="code-keyword">this</span>.cancel.bind(<span class="code-keyword">this</span>))}<span class="code-keyword">async</span> _next(){<span class="code-keyword">this</span>.cancelled||<span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>.operatorListIdx=<span class="code-keyword">this</span>.gfx.executeOperatorList(<span class="code-keyword">this</span>.operatorList,<span class="code-keyword">this</span>.operatorListIdx,<span class="code-keyword">this</span>._continueBound,<span class="code-keyword">this</span>.stepper</span>),<span class="code-params">this</span>.<span class="code-params">operatorListIdx</span>===<span class="code-params">this</span>.<span class="code-params">operatorList</span>.<span class="code-params">argsArray</span>.<span class="code-params">length</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.running=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.operatorList.lastChunk&amp;&amp;(<span class="code-keyword">this</span>.gfx.endDrawing(</span>),<span class="code-params">this</span>.<span class="code-params">_canvas</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">delete</span>(<span class="code-params"><span class="code-keyword">this</span>._canvas</span>),<span class="code-params">this</span>.<span class="code-params">callback</span><span class="code-params">()</span>)))}}}<span class="code-params">()</span>,<span class="code-params">version</span>="2.5.207";<span class="code-params">exports</span>.<span class="code-params">version</span>=<span class="code-params">version</span>;<span class="code-params">const</span> <span class="code-params">build</span>="0974<span class="code-params">d605</span>";<span class="code-params">exports</span>.<span class="code-params">build</span>=<span class="code-params">build</span>},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">FontLoader</span>=<span class="code-params">t</span>.<span class="code-params">FontFaceObject</span>=<span class="code-params">void</span> 0;<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">2</span></span>);<span class="code-params">class</span> <span class="code-params">n</span>{<span class="code-params">constructor</span>(<span class="code-params">{docId:e,onUnsupportedFeature:t}</span>){<span class="code-params">this</span>.<span class="code-params">constructor</span>===<span class="code-params">n</span>&amp;&amp;(<span class="code-params"><span class="code-number">0</span>,s.unreachable</span>)(<span class="code-params"><span class="code-string">"Cannot initialize BaseFontLoader."</span></span>),<span class="code-params">this</span>.<span class="code-params">docId</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">_onUnsupportedFeature</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">nativeFontFaces</span>=[],<span class="code-params">this</span>.<span class="code-params">styleElement</span>=<span class="code-params">null</span>}<span class="code-params">addNativeFontFace</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">nativeFontFaces</span>.<span class="code-params">push</span>(<span class="code-params">e</span>),<span class="code-params">document</span>.<span class="code-params">fonts</span>.<span class="code-params">add</span>(<span class="code-params">e</span>)}<span class="code-params">insertRule</span>(<span class="code-params">e</span>){<span class="code-params">let</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">styleElement</span>;<span class="code-params">t</span>||(<span class="code-params">t=<span class="code-keyword">this</span>.styleElement=<span class="code-built_in">document</span>.createElement(<span class="code-string">"style"</span></span>),<span class="code-params">t</span>.<span class="code-params">id</span>="<span class="code-params">PDFJS_FONT_STYLE_TAG_</span>"+<span class="code-params">this</span>.<span class="code-params">docId</span>,<span class="code-params">document</span>.<span class="code-params">documentElement</span>.<span class="code-params">getElementsByTagName</span>(<span class="code-params"><span class="code-string">"head"</span></span>)[0].<span class="code-params">appendChild</span>(<span class="code-params">t</span>));<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">t</span>.<span class="code-params">sheet</span>;<span class="code-params">r</span>.<span class="code-params">insertRule</span>(<span class="code-params">e,r.cssRules.length</span>)}<span class="code-params">clear</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">nativeFontFaces</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">document</span>.<span class="code-params">fonts</span>.<span class="code-params">delete</span>(<span class="code-params">e</span>)})),<span class="code-params">this</span>.<span class="code-params">nativeFontFaces</span>.<span class="code-params">length</span>=0,<span class="code-params">this</span>.<span class="code-params">styleElement</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.styleElement.remove(</span>),<span class="code-params">this</span>.<span class="code-params">styleElement</span>=<span class="code-params">null</span>)}<span class="code-params">async</span> <span class="code-params">bind</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params">e.attached||e.missingFile</span>)<span class="code-params">return</span>;<span class="code-params">if</span>(<span class="code-params">e.attached=!<span class="code-number">0</span>,<span class="code-keyword">this</span>.isFontLoadingAPISupported</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">createNativeFontFace</span><span class="code-params">()</span>;<span class="code-params">if</span>(<span class="code-params">t</span>){<span class="code-params">this</span>.<span class="code-params">addNativeFontFace</span>(<span class="code-params">t</span>);<span class="code-params">try</span>{<span class="code-params">await</span> <span class="code-params">t</span>.<span class="code-params">loaded</span>}<span class="code-params">catch</span>(<span class="code-params">r</span>){<span class="code-params">throw</span> <span class="code-params">this</span>.<span class="code-params">_onUnsupportedFeature</span>(<span class="code-params">{featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}</span>),(<span class="code-params"><span class="code-number">0</span>,s.warn</span>)(<span class="code-params"><span class="code-string">`Failed to load font '<span class="code-subst">${t.family}</span>': '<span class="code-subst">${r}</span>'.`</span></span>),<span class="code-params">e</span>.<span class="code-params">disableFontFace</span>=!0,<span class="code-params">r</span>}}<span class="code-params">return</span>}<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">createFontFaceRule</span><span class="code-params">()</span>;<span class="code-params">if</span>(<span class="code-params">t</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>.insertRule(t</span>),<span class="code-params">this</span>.<span class="code-params">isSyncFontLoadingSupported</span>)<span class="code-params">return</span>;<span class="code-params">await</span> <span class="code-params">new</span> <span class="code-params">Promise</span>(<span class="code-params">r=&gt;{<span class="code-keyword">const</span> s=<span class="code-keyword">this</span>._queueLoadingCallback(r</span>);<span class="code-params">this</span>.<span class="code-params">_prepareFontLoadEvent</span>(<span class="code-params">[t],[e],s</span>)})}}<span class="code-params">_queueLoadingCallback</span>(<span class="code-params">e</span>){(<span class="code-params"><span class="code-number">0</span>,s.unreachable</span>)(<span class="code-params"><span class="code-string">"Abstract method `_queueLoadingCallback`."</span></span>)}<span class="code-params">get</span> <span class="code-params">isFontLoadingAPISupported</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>="<span class="code-params">undefined</span>"!=<span class="code-params">typeof</span> <span class="code-params">document</span>&amp;&amp;!!<span class="code-params">document</span>.<span class="code-params">fonts</span>;<span class="code-params">return</span>(<span class="code-params"><span class="code-number">0</span>,s.shadow</span>)(<span class="code-params"><span class="code-keyword">this</span>,<span class="code-string">"isFontLoadingAPISupported"</span>,e</span>)}<span class="code-params">get</span> <span class="code-params">isSyncFontLoadingSupported</span><span class="code-params">()</span>{(<span class="code-params"><span class="code-number">0</span>,s.unreachable</span>)(<span class="code-params"><span class="code-string">"Abstract method `isSyncFontLoadingSupported`."</span></span>)}<span class="code-params">get</span> <span class="code-params">_loadTestFont</span><span class="code-params">()</span>{(<span class="code-params"><span class="code-number">0</span>,s.unreachable</span>)(<span class="code-params"><span class="code-string">"Abstract method `_loadTestFont`."</span></span>)}<span class="code-params">_prepareFontLoadEvent</span>(<span class="code-params">e,t,r</span>){(<span class="code-params"><span class="code-number">0</span>,s.unreachable</span>)(<span class="code-params"><span class="code-string">"Abstract method `_prepareFontLoadEvent`."</span></span>)}}<span class="code-params">let</span> <span class="code-params">i</span>;<span class="code-params">t</span>.<span class="code-params">FontLoader</span>=<span class="code-params">i</span>,<span class="code-params">t</span>.<span class="code-params">FontLoader</span>=<span class="code-params">i</span>=<span class="code-params">class</span> <span class="code-params">extends</span> <span class="code-params">n</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">loadingContext</span>={<span class="code-params">requests</span>:[],<span class="code-params">nextRequestId</span>:0},<span class="code-params">this</span>.<span class="code-params">loadTestFontId</span>=0}<span class="code-params">get</span> <span class="code-params">isSyncFontLoadingSupported</span><span class="code-params">()</span>{<span class="code-params">let</span> <span class="code-params">e</span>=!1;<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"undefined"</span>==<span class="code-keyword">typeof</span> navigator</span>)<span class="code-params">e</span>=!0;<span class="code-params">else</span>{<span class="code-params">const</span> <span class="code-params">t</span>=/<span class="code-params">Mozilla</span>\/5.0.*?<span class="code-params">rv</span>:(<span class="code-params">\d+</span>).*? <span class="code-params">Gecko</span>/.<span class="code-params">exec</span>(<span class="code-params">navigator.userAgent</span>);<span class="code-params">t</span>&amp;&amp;<span class="code-params">t</span>[1]&gt;=14&amp;&amp;(<span class="code-params">e=!<span class="code-number">0</span></span>)}<span class="code-params">return</span>(<span class="code-params"><span class="code-number">0</span>,s.shadow</span>)(<span class="code-params"><span class="code-keyword">this</span>,<span class="code-string">"isSyncFontLoadingSupported"</span>,e</span>)}<span class="code-params">_queueLoadingCallback</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">loadingContext</span>,<span class="code-params">r</span>={<span class="code-params">id</span>:"<span class="code-params">pdfjs</span>-<span class="code-params">font</span>-<span class="code-params">loading</span>-"+<span class="code-params">t</span>.<span class="code-params">nextRequestId</span>++,<span class="code-params">done</span>:!1,<span class="code-params">complete</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">for</span>(<span class="code-params">(<span class="code-number">0</span>,s.assert</span>)(<span class="code-params">!r.done,<span class="code-string">"completeRequest() cannot be called twice."</span></span>),<span class="code-params">r</span>.<span class="code-params">done</span>=!0;<span class="code-params">t</span>.<span class="code-params">requests</span>.<span class="code-params">length</span>&gt;0&amp;&amp;<span class="code-params">t</span>.<span class="code-params">requests</span>[0].<span class="code-params">done</span>;){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">t</span>.<span class="code-params">requests</span>.<span class="code-params">shift</span><span class="code-params">()</span>;<span class="code-params">setTimeout</span>(<span class="code-params">e.callback,<span class="code-number">0</span></span>)}},<span class="code-params">callback</span>:<span class="code-params">e</span>};<span class="code-params">return</span> <span class="code-params">t</span>.<span class="code-params">requests</span>.<span class="code-params">push</span>(<span class="code-params">r</span>),<span class="code-params">r</span>}<span class="code-params">get</span> <span class="code-params">_loadTestFont</span><span class="code-params">()</span>{<span class="code-params">return</span>(<span class="code-params"><span class="code-number">0</span>,s.shadow</span>)(<span class="code-params"><span class="code-keyword">this</span>,<span class="code-string">"_loadTestFont"</span>,atob(<span class="code-string">"T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="</span></span>))}<span class="code-params">_prepareFontLoadEvent</span>(<span class="code-params">e,t,r</span>){<span class="code-params">function</span> <span class="code-params">n</span>(<span class="code-params">e,t</span>){<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params">t</span>)&lt;&lt;24|<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params">t+<span class="code-number">1</span></span>)&lt;&lt;16|<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params">t+<span class="code-number">2</span></span>)&lt;&lt;8|255&amp;<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params">t+<span class="code-number">3</span></span>)}<span class="code-params">function</span> <span class="code-params">i</span>(<span class="code-params">e,t,r,s</span>){<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">substring</span>(<span class="code-params"><span class="code-number">0</span>,t</span>)+<span class="code-params">s</span>+<span class="code-params">e</span>.<span class="code-params">substring</span>(<span class="code-params">t+r</span>)}<span class="code-params">let</span> <span class="code-params">a</span>,<span class="code-params">o</span>;<span class="code-params">const</span> <span class="code-params">l</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"canvas"</span></span>);<span class="code-params">l</span>.<span class="code-params">width</span>=1,<span class="code-params">l</span>.<span class="code-params">height</span>=1;<span class="code-params">const</span> <span class="code-params">c</span>=<span class="code-params">l</span>.<span class="code-params">getContext</span>(<span class="code-params"><span class="code-string">"2d"</span></span>);<span class="code-params">let</span> <span class="code-params">h</span>=0;<span class="code-params">const</span> <span class="code-params">d</span>=`<span class="code-params">lt$</span>{<span class="code-params">Date</span>.<span class="code-params">now</span><span class="code-params">()</span>}<span class="code-params">$</span>{<span class="code-params">this</span>.<span class="code-params">loadTestFontId</span>++}`;<span class="code-params">let</span> <span class="code-params">u</span>=<span class="code-params">this</span>.<span class="code-params">_loadTestFont</span>;<span class="code-params">u</span>=<span class="code-params">i</span>(<span class="code-params">u,<span class="code-number">976</span>,d.length,d</span>);<span class="code-params">let</span> <span class="code-params">p</span>=<span class="code-params">n</span>(<span class="code-params">u,<span class="code-number">16</span></span>);<span class="code-params">for</span>(<span class="code-params">a=<span class="code-number">0</span>,o=d.length<span class="code-number">-3</span>;a&lt;o;a+=<span class="code-number">4</span></span>)<span class="code-params">p</span>=<span class="code-params">p</span>-1482184792+<span class="code-params">n</span>(<span class="code-params">d,a</span>)|0;<span class="code-params">a</span>&lt;<span class="code-params">d</span>.<span class="code-params">length</span>&amp;&amp;(<span class="code-params">p=p<span class="code-number">-1482184792</span>+n(d+<span class="code-string">"XXX"</span>,a</span>)|0),<span class="code-params">u</span>=<span class="code-params">i</span>(<span class="code-params">u,<span class="code-number">16</span>,<span class="code-number">4</span>,(<span class="code-number">0</span>,s.string32</span>)(<span class="code-params">p</span>));<span class="code-params">const</span> <span class="code-params">g</span>=`@<span class="code-params">font</span>-<span class="code-params">face</span> {<span class="code-params">font</span>-<span class="code-params">family</span>:"<span class="code-params">$</span>{<span class="code-params">d</span>}";<span class="code-params">src</span>:<span class="code-params">$</span>{`<span class="code-params">url</span>(<span class="code-params">data:font<span class="code-regexp">/opentype;base64,${btoa(u)});`}}`;this.insertRule(g);const f=[];for(a=0,o=t.length;a&lt;o;a++)f.push(t[a].loadedName);f.push(d);const m=document.createElement("div");for(m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px",a=0,o=f.length;a&lt;o;++a){const e=document.createElement("span");e.textContent="Hi",e.style.fontFamily=f[a],m.appendChild(e)}document.body.appendChild(m),function e(t,r){if(h++,h&gt;30)return(0,s.warn)("Load test font never loaded."),void r();c.font="30px "+t,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]&gt;0?r():setTimeout(e.bind(null,t,r))}(d,(function(){document.body.removeChild(m),r.complete()}))}};t.FontFaceObject=class{constructor(e,{isEvalSupported:t=!0,disableFontFace:r=!1,ignoreErrors:s=!1,onUnsupportedFeature:n=null,fontRegistry:i=null}){this.compiledGlyphs=Object.create(null);for(const t in e)this[t]=e[t];this.isEvalSupported=!1!==t,this.disableFontFace=!0===r,this.ignoreErrors=!0===s,this._onUnsupportedFeature=n,this.fontRegistry=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;const e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&amp;&amp;this.fontRegistry.registerFont(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=(0,s.bytesToString)(new Uint8Array(this.data)),t=`url(data:${this.mimetype};base64,${btoa(e)});`,r=`@font-face {font-family:"${this.loadedName}";src:${t}}`;return this.fontRegistry&amp;&amp;this.fontRegistry.registerFont(this,t),r}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let r,n;try{r=e.get(this.loadedName+"_path_"+t)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature&amp;&amp;this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)(`getPathGenerator - ignoring character: "${e}".`),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&amp;&amp;s.IsEvalSupportedCached.value){let e,s="";for(let t=0,i=r.length;t&lt;i;t++)n=r[t],e=void 0!==n.args?n.args.join(","):"",s+="c."+n.cmd+"("+e+");\n";return this.compiledGlyphs[t]=new Function("c","size",s)}return this.compiledGlyphs[t]=function(e,t){for(let s=0,i=r.length;s&lt;i;s++)n=r[s],"scale"===n.cmd&amp;&amp;(n.args=[t,-t]),e[n.cmd].apply(e,n.args)}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var s=r(4);const n=Object.create(null);s.isNodeJS&amp;&amp;(n.disableFontFace=!0);const i=Object.freeze(n);t.apiCompatibilityParams=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var s=r(2),n=r(9);function i(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],r=e[1],s=e[2],n=e[3],i=e[4],a=e[5],o=t*n-r*s,l=r*s-t*n;return[n/o,r/l,s/l,t/o,(n*i-s*a)/l,(r*i-t*a)/o]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&amp;&amp;(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var r=this._transformMatrix;r[4]=r[0]*e+r[2]*t+r[4],r[5]=r[1]*e+r[3]*t+r[5],this._originalTranslate(e,t)},e.scale=function(e,t){var r=this._transformMatrix;r[0]=r[0]*e,r[1]=r[1]*e,r[2]=r[2]*t,r[3]=r[3]*t,this._originalScale(e,t)},e.transform=function(t,r,s,n,i,a){var o=this._transformMatrix;this._transformMatrix=[o[0]*t+o[2]*r,o[1]*t+o[3]*r,o[0]*s+o[2]*n,o[1]*s+o[3]*n,o[0]*i+o[2]*a+o[4],o[1]*i+o[3]*a+o[5]],e._originalTransform(t,r,s,n,i,a)},e.setTransform=function(t,r,s,n,i,a){this._transformMatrix=[t,r,s,n,i,a],e._originalSetTransform(t,r,s,n,i,a)},e.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*r,s[1]*t+s[3]*r,s[0]*-r+s[2]*t,s[1]*-r+s[3]*t,s[4],s[5]],this._originalRotate(e)})}var a=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,r,s){var n;return void 0!==this.cache[e]?(n=this.cache[e],this.canvasFactory.reset(n,t,r),n.context.setTransform(1,0,0,1,0,0)):(n=this.canvasFactory.create(t,r),this.cache[e]=n),s&amp;&amp;i(n.context),n},clear(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}();var o=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),l=function(){function e(e,t,r,s,n,l){this.ctx=e,this.current=new o,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=r,this.canvasFactory=s,this.webGLContext=n,this.imageLayer=l,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.cachedCanvases=new a(this.canvasFactory),e&amp;&amp;i(e),this._cachedGetSinglePixelWidth=null}function t(e,t){if("undefined"!=typeof ImageData&amp;&amp;t instanceof ImageData)e.putImageData(t,0,0);else{var r,n,i,a,o,l=t.height,c=t.width,h=l%16,d=(l-h)/</span><span class="code-number">16</span>,u=<span class="code-number">0</span>===h?d:d+<span class="code-number">1</span>,p=e.createImageData(c,<span class="code-number">16</span></span>),<span class="code-params">g</span>=0,<span class="code-params">f</span>=<span class="code-params">t</span>.<span class="code-params">data</span>,<span class="code-params">m</span>=<span class="code-params">p</span>.<span class="code-params">data</span>;<span class="code-params">if</span>(<span class="code-params">t.kind===s.ImageKind.GRAYSCALE_1BPP</span>){<span class="code-params">var</span> <span class="code-params">A</span>=<span class="code-params">f</span>.<span class="code-params">byteLength</span>,<span class="code-params">b</span>=<span class="code-params">new</span> <span class="code-params">Uint32Array</span>(<span class="code-params">m.buffer,<span class="code-number">0</span>,m.byteLength&gt;&gt;<span class="code-number">2</span></span>),<span class="code-params">_</span>=<span class="code-params">b</span>.<span class="code-params">length</span>,<span class="code-params">y</span>=<span class="code-params">c</span>+7&gt;&gt;3,<span class="code-params">v</span>=4294967295,<span class="code-params">S</span>=<span class="code-params">s</span>.<span class="code-params">IsLittleEndianCached</span>.<span class="code-params">value</span>?4278190080:255;<span class="code-params">for</span>(<span class="code-params">n=<span class="code-number">0</span>;n&lt;u;n++</span>){<span class="code-params">for</span>(<span class="code-params">a=n&lt;d?<span class="code-number">16</span>:h,r=<span class="code-number">0</span>,i=<span class="code-number">0</span>;i&lt;a;i++</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> x=A-g,C=<span class="code-number">0</span>,P=x&gt;y?c:<span class="code-number">8</span>*x<span class="code-number">-7</span>,k=<span class="code-number">-8</span>&amp;P,R=<span class="code-number">0</span>,w=<span class="code-number">0</span>;C&lt;k;C+=<span class="code-number">8</span></span>)<span class="code-params">w</span>=<span class="code-params">f</span>[<span class="code-params">g</span>++],<span class="code-params">b</span>[<span class="code-params">r</span>++]=128&amp;<span class="code-params">w</span>?<span class="code-params">v</span>:<span class="code-params">S</span>,<span class="code-params">b</span>[<span class="code-params">r</span>++]=64&amp;<span class="code-params">w</span>?<span class="code-params">v</span>:<span class="code-params">S</span>,<span class="code-params">b</span>[<span class="code-params">r</span>++]=32&amp;<span class="code-params">w</span>?<span class="code-params">v</span>:<span class="code-params">S</span>,<span class="code-params">b</span>[<span class="code-params">r</span>++]=16&amp;<span class="code-params">w</span>?<span class="code-params">v</span>:<span class="code-params">S</span>,<span class="code-params">b</span>[<span class="code-params">r</span>++]=8&amp;<span class="code-params">w</span>?<span class="code-params">v</span>:<span class="code-params">S</span>,<span class="code-params">b</span>[<span class="code-params">r</span>++]=4&amp;<span class="code-params">w</span>?<span class="code-params">v</span>:<span class="code-params">S</span>,<span class="code-params">b</span>[<span class="code-params">r</span>++]=2&amp;<span class="code-params">w</span>?<span class="code-params">v</span>:<span class="code-params">S</span>,<span class="code-params">b</span>[<span class="code-params">r</span>++]=1&amp;<span class="code-params">w</span>?<span class="code-params">v</span>:<span class="code-params">S</span>;<span class="code-params">for</span>(<span class="code-params">;C&lt;P;C++</span>)0===<span class="code-params">R</span>&amp;&amp;(<span class="code-params">w=f[g++],R=<span class="code-number">128</span></span>),<span class="code-params">b</span>[<span class="code-params">r</span>++]=<span class="code-params">w</span>&amp;<span class="code-params">R</span>?<span class="code-params">v</span>:<span class="code-params">S</span>,<span class="code-params">R</span>&gt;&gt;=1}<span class="code-params">for</span>(<span class="code-params">;r&lt;_;</span>)<span class="code-params">b</span>[<span class="code-params">r</span>++]=0;<span class="code-params">e</span>.<span class="code-params">putImageData</span>(<span class="code-params">p,<span class="code-number">0</span>,<span class="code-number">16</span>*n</span>)}}<span class="code-params">else</span> <span class="code-params">if</span>(<span class="code-params">t.kind===s.ImageKind.RGBA_32BPP</span>){<span class="code-params">for</span>(<span class="code-params">i=<span class="code-number">0</span>,o=<span class="code-number">16</span>*c*<span class="code-number">4</span>,n=<span class="code-number">0</span>;n&lt;d;n++</span>)<span class="code-params">m</span>.<span class="code-params">set</span>(<span class="code-params">f.subarray(g,g+o</span>)),<span class="code-params">g</span>+=<span class="code-params">o</span>,<span class="code-params">e</span>.<span class="code-params">putImageData</span>(<span class="code-params">p,<span class="code-number">0</span>,i</span>),<span class="code-params">i</span>+=16;<span class="code-params">n</span>&lt;<span class="code-params">u</span>&amp;&amp;(<span class="code-params">o=c*h*<span class="code-number">4</span>,m.set(f.subarray(g,g+o</span>)),<span class="code-params">e</span>.<span class="code-params">putImageData</span>(<span class="code-params">p,<span class="code-number">0</span>,i</span>))}<span class="code-params">else</span>{<span class="code-params">if</span>(<span class="code-params">t.kind!==s.ImageKind.RGB_24BPP</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"bad image kind: "</span>+t.kind</span>);<span class="code-params">for</span>(<span class="code-params">o=c*(a=<span class="code-number">16</span></span>),<span class="code-params">n</span>=0;<span class="code-params">n</span>&lt;<span class="code-params">u</span>;<span class="code-params">n</span>++){<span class="code-params">for</span>(<span class="code-params">n&gt;=d&amp;&amp;(o=c*(a=h</span>)),<span class="code-params">r</span>=0,<span class="code-params">i</span>=<span class="code-params">o</span>;<span class="code-params">i</span>--;)<span class="code-params">m</span>[<span class="code-params">r</span>++]=<span class="code-params">f</span>[<span class="code-params">g</span>++],<span class="code-params">m</span>[<span class="code-params">r</span>++]=<span class="code-params">f</span>[<span class="code-params">g</span>++],<span class="code-params">m</span>[<span class="code-params">r</span>++]=<span class="code-params">f</span>[<span class="code-params">g</span>++],<span class="code-params">m</span>[<span class="code-params">r</span>++]=255;<span class="code-params">e</span>.<span class="code-params">putImageData</span>(<span class="code-params">p,<span class="code-number">0</span>,<span class="code-number">16</span>*n</span>)}}}}<span class="code-params">function</span> <span class="code-params">r</span>(<span class="code-params">e,t</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> r=t.height,s=t.width,n=r%<span class="code-number">16</span>,i=(r-n</span>)/16,<span class="code-params">a</span>=0===<span class="code-params">n</span>?<span class="code-params">i</span>:<span class="code-params">i</span>+1,<span class="code-params">o</span>=<span class="code-params">e</span>.<span class="code-params">createImageData</span>(<span class="code-params">s,<span class="code-number">16</span></span>),<span class="code-params">l</span>=0,<span class="code-params">c</span>=<span class="code-params">t</span>.<span class="code-params">data</span>,<span class="code-params">h</span>=<span class="code-params">o</span>.<span class="code-params">data</span>,<span class="code-params">d</span>=0;<span class="code-params">d</span>&lt;<span class="code-params">a</span>;<span class="code-params">d</span>++){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> u=d&lt;i?<span class="code-number">16</span>:n,p=<span class="code-number">3</span>,g=<span class="code-number">0</span>;g&lt;u;g++</span>)<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> f=<span class="code-number">0</span>,m=<span class="code-number">0</span>;m&lt;s;m++</span>){<span class="code-params">if</span>(<span class="code-params">!f</span>){<span class="code-params">var</span> <span class="code-params">A</span>=<span class="code-params">c</span>[<span class="code-params">l</span>++];<span class="code-params">f</span>=128}<span class="code-params">h</span>[<span class="code-params">p</span>]=<span class="code-params">A</span>&amp;<span class="code-params">f</span>?0:255,<span class="code-params">p</span>+=4,<span class="code-params">f</span>&gt;&gt;=1}<span class="code-params">e</span>.<span class="code-params">putImageData</span>(<span class="code-params">o,<span class="code-number">0</span>,<span class="code-number">16</span>*d</span>)}}<span class="code-params">function</span> <span class="code-params">l</span>(<span class="code-params">e,t</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> r=[<span class="code-string">"strokeStyle"</span>,<span class="code-string">"fillStyle"</span>,<span class="code-string">"fillRule"</span>,<span class="code-string">"globalAlpha"</span>,<span class="code-string">"lineWidth"</span>,<span class="code-string">"lineCap"</span>,<span class="code-string">"lineJoin"</span>,<span class="code-string">"miterLimit"</span>,<span class="code-string">"globalCompositeOperation"</span>,<span class="code-string">"font"</span>],s=<span class="code-number">0</span>,n=r.length;s&lt;n;s++</span>){<span class="code-params">var</span> <span class="code-params">i</span>=<span class="code-params">r</span>[<span class="code-params">s</span>];<span class="code-params">void</span> 0!==<span class="code-params">e</span>[<span class="code-params">i</span>]&amp;&amp;(<span class="code-params">t[i]=e[i]</span>)}<span class="code-params">void</span> 0!==<span class="code-params">e</span>.<span class="code-params">setLineDash</span>&amp;&amp;(<span class="code-params">t.setLineDash(e.getLineDash(</span>)),<span class="code-params">t</span>.<span class="code-params">lineDashOffset</span>=<span class="code-params">e</span>.<span class="code-params">lineDashOffset</span>)}<span class="code-params">function</span> <span class="code-params">c</span>(<span class="code-params">e</span>){<span class="code-params">e</span>.<span class="code-params">strokeStyle</span>="#000000",<span class="code-params">e</span>.<span class="code-params">fillStyle</span>="#000000",<span class="code-params">e</span>.<span class="code-params">fillRule</span>="<span class="code-params">nonzero</span>",<span class="code-params">e</span>.<span class="code-params">globalAlpha</span>=1,<span class="code-params">e</span>.<span class="code-params">lineWidth</span>=1,<span class="code-params">e</span>.<span class="code-params">lineCap</span>="<span class="code-params">butt</span>",<span class="code-params">e</span>.<span class="code-params">lineJoin</span>="<span class="code-params">miter</span>",<span class="code-params">e</span>.<span class="code-params">miterLimit</span>=10,<span class="code-params">e</span>.<span class="code-params">globalCompositeOperation</span>="<span class="code-params">source</span>-<span class="code-params">over</span>",<span class="code-params">e</span>.<span class="code-params">font</span>="10<span class="code-params">px</span> <span class="code-params">sans</span>-<span class="code-params">serif</span>",<span class="code-params">void</span> 0!==<span class="code-params">e</span>.<span class="code-params">setLineDash</span>&amp;&amp;(<span class="code-params">e.setLineDash([]</span>),<span class="code-params">e</span>.<span class="code-params">lineDashOffset</span>=0)}<span class="code-params">function</span> <span class="code-params">h</span>(<span class="code-params">e,t,r,s</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> n=e.length,i=<span class="code-number">3</span>;i&lt;n;i+=<span class="code-number">4</span></span>){<span class="code-params">var</span> <span class="code-params">a</span>=<span class="code-params">e</span>[<span class="code-params">i</span>];<span class="code-params">if</span>(<span class="code-params"><span class="code-number">0</span>===a</span>)<span class="code-params">e</span>[<span class="code-params">i</span>-3]=<span class="code-params">t</span>,<span class="code-params">e</span>[<span class="code-params">i</span>-2]=<span class="code-params">r</span>,<span class="code-params">e</span>[<span class="code-params">i</span>-1]=<span class="code-params">s</span>;<span class="code-params">else</span> <span class="code-params">if</span>(<span class="code-params">a&lt;<span class="code-number">255</span></span>){<span class="code-params">var</span> <span class="code-params">o</span>=255-<span class="code-params">a</span>;<span class="code-params">e</span>[<span class="code-params">i</span>-3]=<span class="code-params">e</span>[<span class="code-params">i</span>-3]*<span class="code-params">a</span>+<span class="code-params">t</span>*<span class="code-params">o</span>&gt;&gt;8,<span class="code-params">e</span>[<span class="code-params">i</span>-2]=<span class="code-params">e</span>[<span class="code-params">i</span>-2]*<span class="code-params">a</span>+<span class="code-params">r</span>*<span class="code-params">o</span>&gt;&gt;8,<span class="code-params">e</span>[<span class="code-params">i</span>-1]=<span class="code-params">e</span>[<span class="code-params">i</span>-1]*<span class="code-params">a</span>+<span class="code-params">s</span>*<span class="code-params">o</span>&gt;&gt;8}}}<span class="code-params">function</span> <span class="code-params">d</span>(<span class="code-params">e,t,r</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> s=e.length,n=<span class="code-number">3</span>;n&lt;s;n+=<span class="code-number">4</span></span>){<span class="code-params">var</span> <span class="code-params">i</span>=<span class="code-params">r</span>?<span class="code-params">r</span>[<span class="code-params">e</span>[<span class="code-params">n</span>]]:<span class="code-params">e</span>[<span class="code-params">n</span>];<span class="code-params">t</span>[<span class="code-params">n</span>]=<span class="code-params">t</span>[<span class="code-params">n</span>]*<span class="code-params">i</span>*(<span class="code-params"><span class="code-number">1</span><span class="code-regexp">/255)|0}}function u(e,t,r){for(var s=e.length,n=3;n&lt;s;n+=4){var i=77*e[n-3]+152*e[n-2]+28*e[n-1];t[n]=r?t[n]*r[i&gt;&gt;8]&gt;&gt;8:t[n]*i&gt;&gt;16}}function p(e,t,r,s){var n=t.canvas,i=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var a=t.backdrop||null;if(!t.transferMap&amp;&amp;s.isEnabled){const i=s.composeSMask({layer:r.canvas,mask:n,properties:{subtype:t.subtype,backdrop:a}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(i,t.offsetX,t.offsetY)}!function(e,t,r,s,n,i,a){var o,l=!!i,c=l?i[0]:0,p=l?i[1]:0,g=l?i[2]:0;o="Luminosity"===n?u:d;for(var f=Math.min(s,Math.ceil(1048576/</span>r</span>)),<span class="code-params">m</span>=0;<span class="code-params">m</span>&lt;<span class="code-params">s</span>;<span class="code-params">m</span>+=<span class="code-params">f</span>){<span class="code-params">var</span> <span class="code-params">A</span>=<span class="code-params">Math</span>.<span class="code-params">min</span>(<span class="code-params">f,s-m</span>),<span class="code-params">b</span>=<span class="code-params">e</span>.<span class="code-params">getImageData</span>(<span class="code-params"><span class="code-number">0</span>,m,r,A</span>),<span class="code-params">_</span>=<span class="code-params">t</span>.<span class="code-params">getImageData</span>(<span class="code-params"><span class="code-number">0</span>,m,r,A</span>);<span class="code-params">l</span>&amp;&amp;<span class="code-params">h</span>(<span class="code-params">b.data,c,p,g</span>),<span class="code-params">o</span>(<span class="code-params">b.data,_.data,a</span>),<span class="code-params">e</span>.<span class="code-params">putImageData</span>(<span class="code-params">_,<span class="code-number">0</span>,m</span>)}}(<span class="code-params">i,r,n.width,n.height,t.subtype,a,t.transferMap</span>),<span class="code-params">e</span>.<span class="code-params">drawImage</span>(<span class="code-params">n,<span class="code-number">0</span>,<span class="code-number">0</span></span>)}<span class="code-params">var</span> <span class="code-params">g</span>=["<span class="code-params">butt</span>","<span class="code-params">round</span>","<span class="code-params">square</span>"],<span class="code-params">f</span>=["<span class="code-params">miter</span>","<span class="code-params">round</span>","<span class="code-params">bevel</span>"],<span class="code-params">m</span>={},<span class="code-params">A</span>={};<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> b <span class="code-keyword">in</span> e.prototype={beginDrawing({transform:e,viewport:t,transparency:r=!<span class="code-number">1</span>,background:s=<span class="code-literal">null</span>}</span>){<span class="code-params">var</span> <span class="code-params">n</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">canvas</span>.<span class="code-params">width</span>,<span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">canvas</span>.<span class="code-params">height</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx.save(</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">fillStyle</span>=<span class="code-params">s</span>||"<span class="code-params">rgb</span>(<span class="code-params"><span class="code-number">255</span>, <span class="code-number">255</span>, <span class="code-number">255</span></span>)",<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">fillRect</span>(<span class="code-params"><span class="code-number">0</span>,<span class="code-number">0</span>,n,i</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">r</span>){<span class="code-params">var</span> <span class="code-params">a</span>=<span class="code-params">this</span>.<span class="code-params">cachedCanvases</span>.<span class="code-params">getCanvas</span>(<span class="code-params"><span class="code-string">"transparent"</span>,n,i,!<span class="code-number">0</span></span>);<span class="code-params">this</span>.<span class="code-params">compositeCtx</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>,<span class="code-params">this</span>.<span class="code-params">transparentCanvas</span>=<span class="code-params">a</span>.<span class="code-params">canvas</span>,<span class="code-params">this</span>.<span class="code-params">ctx</span>=<span class="code-params">a</span>.<span class="code-params">context</span>,<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">save</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx,<span class="code-keyword">this</span>.compositeCtx.mozCurrentTransform</span>)}<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">save</span><span class="code-params">()</span>,<span class="code-params">c</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx</span>),<span class="code-params">e</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx,e</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx,t.transform</span>),<span class="code-params">this</span>.<span class="code-params">baseTransform</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">mozCurrentTransform</span>.<span class="code-params">slice</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">imageLayer</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">imageLayer</span>.<span class="code-params">beginLayout</span><span class="code-params">()</span>},<span class="code-params">executeOperatorList</span>:<span class="code-params">function</span>(<span class="code-params">e,t,r,n</span>){<span class="code-params">var</span> <span class="code-params">i</span>=<span class="code-params">e</span>.<span class="code-params">argsArray</span>,<span class="code-params">a</span>=<span class="code-params">e</span>.<span class="code-params">fnArray</span>,<span class="code-params">o</span>=<span class="code-params">t</span>||0,<span class="code-params">l</span>=<span class="code-params">i</span>.<span class="code-params">length</span>;<span class="code-params">if</span>(<span class="code-params">l===o</span>)<span class="code-params">return</span> <span class="code-params">o</span>;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> c,h=l-o&gt;<span class="code-number">10</span>&amp;&amp;<span class="code-string">"function"</span>==<span class="code-keyword">typeof</span> r,d=h?<span class="code-built_in">Date</span>.now(</span>)+15:0,<span class="code-params">u</span>=0,<span class="code-params">p</span>=<span class="code-params">this</span>.<span class="code-params">commonObjs</span>,<span class="code-params">g</span>=<span class="code-params">this</span>.<span class="code-params">objs</span>;;){<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">void</span> <span class="code-number">0</span>!==n&amp;&amp;o===n.nextBreakPoint</span>)<span class="code-params">return</span> <span class="code-params">n</span>.<span class="code-params">breakIt</span>(<span class="code-params">o,r</span>),<span class="code-params">o</span>;<span class="code-params">if</span>(<span class="code-params">(c=a[o]</span>)!==<span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">dependency</span>)<span class="code-params">this</span>[<span class="code-params">c</span>].<span class="code-params">apply</span>(<span class="code-params"><span class="code-keyword">this</span>,i[o]</span>);<span class="code-params">else</span> <span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> e <span class="code-keyword">of</span> i[o]</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">startsWith</span>(<span class="code-params"><span class="code-string">"g_"</span></span>)?<span class="code-params">p</span>:<span class="code-params">g</span>;<span class="code-params">if</span>(<span class="code-params">!t.has(e</span>))<span class="code-params">return</span> <span class="code-params">t</span>.<span class="code-params">get</span>(<span class="code-params">e,r</span>),<span class="code-params">o</span>}<span class="code-params">if</span>(<span class="code-params">++o===l</span>)<span class="code-params">return</span> <span class="code-params">o</span>;<span class="code-params">if</span>(<span class="code-params">h&amp;&amp;++u&gt;<span class="code-number">10</span></span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-built_in">Date</span>.now(</span>)&gt;<span class="code-params">d</span>)<span class="code-params">return</span> <span class="code-params">r</span><span class="code-params">()</span>,<span class="code-params">o</span>;<span class="code-params">u</span>=0}}},<span class="code-params">endDrawing</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">null</span>!==<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">activeSMask</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">endSMaskGroup</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">transparentCanvas</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.ctx=<span class="code-keyword">this</span>.compositeCtx,<span class="code-keyword">this</span>.ctx.save(</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">setTransform</span>(<span class="code-params"><span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span></span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">drawImage</span>(<span class="code-params"><span class="code-keyword">this</span>.transparentCanvas,<span class="code-number">0</span>,<span class="code-number">0</span></span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">transparentCanvas</span>=<span class="code-params">null</span>),<span class="code-params">this</span>.<span class="code-params">cachedCanvases</span>.<span class="code-params">clear</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">webGLContext</span>.<span class="code-params">clear</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">imageLayer</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">imageLayer</span>.<span class="code-params">endLayout</span><span class="code-params">()</span>},<span class="code-params">setLineWidth</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineWidth</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">lineWidth</span>=<span class="code-params">e</span>},<span class="code-params">setLineCap</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">lineCap</span>=<span class="code-params">g</span>[<span class="code-params">e</span>]},<span class="code-params">setLineJoin</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">lineJoin</span>=<span class="code-params">f</span>[<span class="code-params">e</span>]},<span class="code-params">setMiterLimit</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">miterLimit</span>=<span class="code-params">e</span>},<span class="code-params">setDash</span>:<span class="code-params">function</span>(<span class="code-params">e,t</span>){<span class="code-params">var</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>;<span class="code-params">void</span> 0!==<span class="code-params">r</span>.<span class="code-params">setLineDash</span>&amp;&amp;(<span class="code-params">r.setLineDash(e</span>),<span class="code-params">r</span>.<span class="code-params">lineDashOffset</span>=<span class="code-params">t</span>)},<span class="code-params">setRenderingIntent</span>(<span class="code-params">e</span>){},<span class="code-params">setFlatness</span>(<span class="code-params">e</span>){},<span class="code-params">setGState</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> t=<span class="code-number">0</span>,r=e.length;t&lt;r;t++</span>){<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">e</span>[<span class="code-params">t</span>],<span class="code-params">n</span>=<span class="code-params">s</span>[0],<span class="code-params">i</span>=<span class="code-params">s</span>[1];<span class="code-params">switch</span>(<span class="code-params">n</span>){<span class="code-params">case</span>"<span class="code-params">LW</span>":<span class="code-params">this</span>.<span class="code-params">setLineWidth</span>(<span class="code-params">i</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">LC</span>":<span class="code-params">this</span>.<span class="code-params">setLineCap</span>(<span class="code-params">i</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">LJ</span>":<span class="code-params">this</span>.<span class="code-params">setLineJoin</span>(<span class="code-params">i</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">ML</span>":<span class="code-params">this</span>.<span class="code-params">setMiterLimit</span>(<span class="code-params">i</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">D</span>":<span class="code-params">this</span>.<span class="code-params">setDash</span>(<span class="code-params">i[<span class="code-number">0</span>],i[<span class="code-number">1</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">RI</span>":<span class="code-params">this</span>.<span class="code-params">setRenderingIntent</span>(<span class="code-params">i</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">FL</span>":<span class="code-params">this</span>.<span class="code-params">setFlatness</span>(<span class="code-params">i</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">Font</span>":<span class="code-params">this</span>.<span class="code-params">setFont</span>(<span class="code-params">i[<span class="code-number">0</span>],i[<span class="code-number">1</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">CA</span>":<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">strokeAlpha</span>=<span class="code-params">s</span>[1];<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">ca</span>":<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillAlpha</span>=<span class="code-params">s</span>[1],<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">globalAlpha</span>=<span class="code-params">s</span>[1];<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">BM</span>":<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">globalCompositeOperation</span>=<span class="code-params">i</span>;<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">SMask</span>":<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">activeSMask</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.stateStack.length&gt;<span class="code-number">0</span>&amp;&amp;<span class="code-keyword">this</span>.stateStack[<span class="code-keyword">this</span>.stateStack.length<span class="code-number">-1</span>].activeSMask===<span class="code-keyword">this</span>.current.activeSMask?<span class="code-keyword">this</span>.suspendSMaskGroup(</span>):<span class="code-params">this</span>.<span class="code-params">endSMaskGroup</span><span class="code-params">()</span>),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">activeSMask</span>=<span class="code-params">i</span>?<span class="code-params">this</span>.<span class="code-params">tempSMask</span>:<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">activeSMask</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">beginSMaskGroup</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">tempSMask</span>=<span class="code-params">null</span>}}},<span class="code-params">beginSMaskGroup</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">var</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">activeSMask</span>,<span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">canvas</span>.<span class="code-params">width</span>,<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">canvas</span>.<span class="code-params">height</span>,<span class="code-params">s</span>="<span class="code-params">smaskGroupAt</span>"+<span class="code-params">this</span>.<span class="code-params">groupLevel</span>,<span class="code-params">n</span>=<span class="code-params">this</span>.<span class="code-params">cachedCanvases</span>.<span class="code-params">getCanvas</span>(<span class="code-params">s,t,r,!<span class="code-number">0</span></span>),<span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>,<span class="code-params">a</span>=<span class="code-params">i</span>.<span class="code-params">mozCurrentTransform</span>;<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">save</span><span class="code-params">()</span>;<span class="code-params">var</span> <span class="code-params">o</span>=<span class="code-params">n</span>.<span class="code-params">context</span>;<span class="code-params">o</span>.<span class="code-params">scale</span>(<span class="code-params"><span class="code-number">1</span><span class="code-regexp">/e.scaleX,1/</span>e.scaleY</span>),<span class="code-params">o</span>.<span class="code-params">translate</span>(<span class="code-params">-e.offsetX,-e.offsetY</span>),<span class="code-params">o</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params">o,a</span>),<span class="code-params">e</span>.<span class="code-params">startTransformInverse</span>=<span class="code-params">o</span>.<span class="code-params">mozCurrentTransformInverse</span>,<span class="code-params">l</span>(<span class="code-params">i,o</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>=<span class="code-params">o</span>,<span class="code-params">this</span>.<span class="code-params">setGState</span>(<span class="code-params">[[<span class="code-string">"BM"</span>,<span class="code-string">"source-over"</span>],[<span class="code-string">"ca"</span>,<span class="code-number">1</span>],[<span class="code-string">"CA"</span>,<span class="code-number">1</span>]]</span>),<span class="code-params">this</span>.<span class="code-params">groupStack</span>.<span class="code-params">push</span>(<span class="code-params">i</span>),<span class="code-params">this</span>.<span class="code-params">groupLevel</span>++},<span class="code-params">suspendSMaskGroup</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">var</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>;<span class="code-params">this</span>.<span class="code-params">groupLevel</span>--,<span class="code-params">this</span>.<span class="code-params">ctx</span>=<span class="code-params">this</span>.<span class="code-params">groupStack</span>.<span class="code-params">pop</span><span class="code-params">()</span>,<span class="code-params">p</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx,<span class="code-keyword">this</span>.current.activeSMask,e,<span class="code-keyword">this</span>.webGLContext</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">save</span><span class="code-params">()</span>,<span class="code-params">l</span>(<span class="code-params">e,<span class="code-keyword">this</span>.ctx</span>),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">resumeSMaskCtx</span>=<span class="code-params">e</span>;<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">transform</span>(<span class="code-params"><span class="code-keyword">this</span>.current.activeSMask.startTransformInverse,e.mozCurrentTransform</span>);<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx,t</span>),<span class="code-params">e</span>.<span class="code-params">save</span><span class="code-params">()</span>,<span class="code-params">e</span>.<span class="code-params">setTransform</span>(<span class="code-params"><span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span></span>),<span class="code-params">e</span>.<span class="code-params">clearRect</span>(<span class="code-params"><span class="code-number">0</span>,<span class="code-number">0</span>,e.canvas.width,e.canvas.height</span>),<span class="code-params">e</span>.<span class="code-params">restore</span><span class="code-params">()</span>},<span class="code-params">resumeSMaskGroup</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">var</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">resumeSMaskCtx</span>,<span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>;<span class="code-params">this</span>.<span class="code-params">ctx</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">groupStack</span>.<span class="code-params">push</span>(<span class="code-params">t</span>),<span class="code-params">this</span>.<span class="code-params">groupLevel</span>++},<span class="code-params">endSMaskGroup</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">var</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>;<span class="code-params">this</span>.<span class="code-params">groupLevel</span>--,<span class="code-params">this</span>.<span class="code-params">ctx</span>=<span class="code-params">this</span>.<span class="code-params">groupStack</span>.<span class="code-params">pop</span><span class="code-params">()</span>,<span class="code-params">p</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx,<span class="code-keyword">this</span>.current.activeSMask,e,<span class="code-keyword">this</span>.webGLContext</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">l</span>(<span class="code-params">e,<span class="code-keyword">this</span>.ctx</span>);<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">transform</span>(<span class="code-params"><span class="code-keyword">this</span>.current.activeSMask.startTransformInverse,e.mozCurrentTransform</span>);<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx,t</span>)},<span class="code-params">save</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">save</span><span class="code-params">()</span>;<span class="code-params">var</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">this</span>.<span class="code-params">stateStack</span>.<span class="code-params">push</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">current</span>=<span class="code-params">e</span>.<span class="code-params">clone</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">resumeSMaskCtx</span>=<span class="code-params">null</span>},<span class="code-params">restore</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">resumeSMaskCtx</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">resumeSMaskGroup</span><span class="code-params">()</span>,<span class="code-params">null</span>===<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">activeSMask</span>||0!==<span class="code-params">this</span>.<span class="code-params">stateStack</span>.<span class="code-params">length</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">stateStack</span>[<span class="code-params">this</span>.<span class="code-params">stateStack</span>.<span class="code-params">length</span>-1].<span class="code-params">activeSMask</span>===<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">activeSMask</span>||<span class="code-params">this</span>.<span class="code-params">endSMaskGroup</span><span class="code-params">()</span>,0!==<span class="code-params">this</span>.<span class="code-params">stateStack</span>.<span class="code-params">length</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.current=<span class="code-keyword">this</span>.stateStack.pop(</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">pendingClip</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_cachedGetSinglePixelWidth</span>=<span class="code-params">null</span>)},<span class="code-params">transform</span>:<span class="code-params">function</span>(<span class="code-params">e,t,r,s,n,i</span>){<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">transform</span>(<span class="code-params">e,t,r,s,n,i</span>),<span class="code-params">this</span>.<span class="code-params">_cachedGetSinglePixelWidth</span>=<span class="code-params">null</span>},<span class="code-params">constructPath</span>:<span class="code-params">function</span>(<span class="code-params">e,t</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> r=<span class="code-keyword">this</span>.ctx,n=<span class="code-keyword">this</span>.current,i=n.x,a=n.y,o=<span class="code-number">0</span>,l=<span class="code-number">0</span>,c=e.length;o&lt;c;o++</span>)<span class="code-params">switch</span>(<span class="code-params"><span class="code-number">0</span>|e[o]</span>){<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">rectangle</span>:<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">a</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++];<span class="code-params">var</span> <span class="code-params">h</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">d</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++];0===<span class="code-params">h</span>&amp;&amp;(<span class="code-params">h=<span class="code-keyword">this</span>.getSinglePixelWidth(</span>)),0===<span class="code-params">d</span>&amp;&amp;(<span class="code-params">d=<span class="code-keyword">this</span>.getSinglePixelWidth(</span>));<span class="code-params">var</span> <span class="code-params">u</span>=<span class="code-params">i</span>+<span class="code-params">h</span>,<span class="code-params">p</span>=<span class="code-params">a</span>+<span class="code-params">d</span>;<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">moveTo</span>(<span class="code-params">i,a</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">lineTo</span>(<span class="code-params">u,a</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">lineTo</span>(<span class="code-params">u,p</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">lineTo</span>(<span class="code-params">i,p</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">lineTo</span>(<span class="code-params">i,a</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">closePath</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">moveTo</span>:<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">a</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">r</span>.<span class="code-params">moveTo</span>(<span class="code-params">i,a</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">lineTo</span>:<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">a</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">r</span>.<span class="code-params">lineTo</span>(<span class="code-params">i,a</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">curveTo</span>:<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+4],<span class="code-params">a</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+5],<span class="code-params">r</span>.<span class="code-params">bezierCurveTo</span>(<span class="code-params">t[l],t[l+<span class="code-number">1</span>],t[l+<span class="code-number">2</span>],t[l+<span class="code-number">3</span>],i,a</span>),<span class="code-params">l</span>+=6;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">curveTo2</span>:<span class="code-params">r</span>.<span class="code-params">bezierCurveTo</span>(<span class="code-params">i,a,t[l],t[l+<span class="code-number">1</span>],t[l+<span class="code-number">2</span>],t[l+<span class="code-number">3</span>]</span>),<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+2],<span class="code-params">a</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+3],<span class="code-params">l</span>+=4;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">curveTo3</span>:<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+2],<span class="code-params">a</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+3],<span class="code-params">r</span>.<span class="code-params">bezierCurveTo</span>(<span class="code-params">t[l],t[l+<span class="code-number">1</span>],i,a,i,a</span>),<span class="code-params">l</span>+=4;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">closePath</span>:<span class="code-params">r</span>.<span class="code-params">closePath</span><span class="code-params">()</span>}<span class="code-params">n</span>.<span class="code-params">setCurrentPoint</span>(<span class="code-params">i,a</span>)},<span class="code-params">closePath</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">closePath</span><span class="code-params">()</span>},<span class="code-params">stroke</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">e</span>=<span class="code-params">void</span> 0===<span class="code-params">e</span>||<span class="code-params">e</span>;<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>,<span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">strokeColor</span>;<span class="code-params">if</span>(<span class="code-params">t.globalAlpha=<span class="code-keyword">this</span>.current.strokeAlpha,r&amp;&amp;r.hasOwnProperty(<span class="code-string">"type"</span></span>)&amp;&amp;"<span class="code-params">Pattern</span>"===<span class="code-params">r</span>.<span class="code-params">type</span>){<span class="code-params">t</span>.<span class="code-params">save</span><span class="code-params">()</span>;<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">t</span>.<span class="code-params">mozCurrentTransform</span>,<span class="code-params">n</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">singularValueDecompose2dScale</span>(<span class="code-params">e</span>)[0];<span class="code-params">t</span>.<span class="code-params">strokeStyle</span>=<span class="code-params">r</span>.<span class="code-params">getPattern</span>(<span class="code-params">t,<span class="code-keyword">this</span></span>),<span class="code-params">t</span>.<span class="code-params">lineWidth</span>=<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params"><span class="code-number">.65</span>*<span class="code-keyword">this</span>.getSinglePixelWidth(</span>),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineWidth</span>*<span class="code-params">n</span>),<span class="code-params">t</span>.<span class="code-params">stroke</span><span class="code-params">()</span>,<span class="code-params">t</span>.<span class="code-params">restore</span><span class="code-params">()</span>}<span class="code-params">else</span> <span class="code-params">t</span>.<span class="code-params">lineWidth</span>=<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params"><span class="code-number">.65</span>*<span class="code-keyword">this</span>.getSinglePixelWidth(</span>),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineWidth</span>),<span class="code-params">t</span>.<span class="code-params">stroke</span><span class="code-params">()</span>;<span class="code-params">e</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">consumePath</span><span class="code-params">()</span>,<span class="code-params">t</span>.<span class="code-params">globalAlpha</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillAlpha</span>},<span class="code-params">closeStroke</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">closePath</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">stroke</span><span class="code-params">()</span>},<span class="code-params">fill</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">e</span>=<span class="code-params">void</span> 0===<span class="code-params">e</span>||<span class="code-params">e</span>;<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>,<span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillColor</span>,<span class="code-params">s</span>=!1;<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">patternFill</span>&amp;&amp;(<span class="code-params">t.save(</span>),<span class="code-params">this</span>.<span class="code-params">baseTransform</span>&amp;&amp;<span class="code-params">t</span>.<span class="code-params">setTransform</span>.<span class="code-params">apply</span>(<span class="code-params">t,<span class="code-keyword">this</span>.baseTransform</span>),<span class="code-params">t</span>.<span class="code-params">fillStyle</span>=<span class="code-params">r</span>.<span class="code-params">getPattern</span>(<span class="code-params">t,<span class="code-keyword">this</span></span>),<span class="code-params">s</span>=!0),<span class="code-params">this</span>.<span class="code-params">pendingEOFill</span>?(<span class="code-params">t.fill(<span class="code-string">"evenodd"</span></span>),<span class="code-params">this</span>.<span class="code-params">pendingEOFill</span>=!1):<span class="code-params">t</span>.<span class="code-params">fill</span><span class="code-params">()</span>,<span class="code-params">s</span>&amp;&amp;<span class="code-params">t</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">e</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">consumePath</span><span class="code-params">()</span>},<span class="code-params">eoFill</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">pendingEOFill</span>=!0,<span class="code-params">this</span>.<span class="code-params">fill</span><span class="code-params">()</span>},<span class="code-params">fillStroke</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">fill</span>(<span class="code-params">!<span class="code-number">1</span></span>),<span class="code-params">this</span>.<span class="code-params">stroke</span>(<span class="code-params">!<span class="code-number">1</span></span>),<span class="code-params">this</span>.<span class="code-params">consumePath</span><span class="code-params">()</span>},<span class="code-params">eoFillStroke</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">pendingEOFill</span>=!0,<span class="code-params">this</span>.<span class="code-params">fillStroke</span><span class="code-params">()</span>},<span class="code-params">closeFillStroke</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">closePath</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">fillStroke</span><span class="code-params">()</span>},<span class="code-params">closeEOFillStroke</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">pendingEOFill</span>=!0,<span class="code-params">this</span>.<span class="code-params">closePath</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">fillStroke</span><span class="code-params">()</span>},<span class="code-params">endPath</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">consumePath</span><span class="code-params">()</span>},<span class="code-params">clip</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">pendingClip</span>=<span class="code-params">m</span>},<span class="code-params">eoClip</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">pendingClip</span>=<span class="code-params">A</span>},<span class="code-params">beginText</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">textMatrix</span>=<span class="code-params">s</span>.<span class="code-params">IDENTITY_MATRIX</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">textMatrixScale</span>=1,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">x</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineX</span>=0,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">y</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineY</span>=0},<span class="code-params">endText</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">var</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">pendingTextPaths</span>,<span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">void</span> <span class="code-number">0</span>!==e</span>){<span class="code-params">t</span>.<span class="code-params">save</span><span class="code-params">()</span>,<span class="code-params">t</span>.<span class="code-params">beginPath</span><span class="code-params">()</span>;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> r=<span class="code-number">0</span>;r&lt;e.length;r++</span>){<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">e</span>[<span class="code-params">r</span>];<span class="code-params">t</span>.<span class="code-params">setTransform</span>.<span class="code-params">apply</span>(<span class="code-params">t,s.transform</span>),<span class="code-params">t</span>.<span class="code-params">translate</span>(<span class="code-params">s.x,s.y</span>),<span class="code-params">s</span>.<span class="code-params">addToPath</span>(<span class="code-params">t,s.fontSize</span>)}<span class="code-params">t</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">t</span>.<span class="code-params">clip</span><span class="code-params">()</span>,<span class="code-params">t</span>.<span class="code-params">beginPath</span><span class="code-params">()</span>,<span class="code-params">delete</span> <span class="code-params">this</span>.<span class="code-params">pendingTextPaths</span>}<span class="code-params">else</span> <span class="code-params">t</span>.<span class="code-params">beginPath</span><span class="code-params">()</span>},<span class="code-params">setCharSpacing</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">charSpacing</span>=<span class="code-params">e</span>},<span class="code-params">setWordSpacing</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">wordSpacing</span>=<span class="code-params">e</span>},<span class="code-params">setHScale</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">textHScale</span>=<span class="code-params">e</span>/100},<span class="code-params">setLeading</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">leading</span>=-<span class="code-params">e</span>},<span class="code-params">setFont</span>:<span class="code-params">function</span>(<span class="code-params">e,t</span>){<span class="code-params">var</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">commonObjs</span>.<span class="code-params">get</span>(<span class="code-params">e</span>),<span class="code-params">n</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">if</span>(<span class="code-params">!r</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Can't find font for "</span>+e</span>);<span class="code-params">if</span>(<span class="code-params">n.fontMatrix=r.fontMatrix?r.fontMatrix:s.FONT_IDENTITY_MATRIX,<span class="code-number">0</span>!==n.fontMatrix[<span class="code-number">0</span>]&amp;&amp;<span class="code-number">0</span>!==n.fontMatrix[<span class="code-number">3</span>]||(<span class="code-number">0</span>,s.warn</span>)(<span class="code-params"><span class="code-string">"Invalid font matrix for font "</span>+e</span>),<span class="code-params">t</span>&lt;0?(<span class="code-params">t=-t,n.fontDirection=<span class="code-number">-1</span></span>):<span class="code-params">n</span>.<span class="code-params">fontDirection</span>=1,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">font</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fontSize</span>=<span class="code-params">t</span>,<span class="code-params">r</span>.<span class="code-params">isType3Font</span>)<span class="code-params">return</span>;<span class="code-params">var</span> <span class="code-params">i</span>=<span class="code-params">r</span>.<span class="code-params">loadedName</span>||"<span class="code-params">sans</span>-<span class="code-params">serif</span>";<span class="code-params">let</span> <span class="code-params">a</span>="<span class="code-params">normal</span>";<span class="code-params">r</span>.<span class="code-params">black</span>?<span class="code-params">a</span>="900":<span class="code-params">r</span>.<span class="code-params">bold</span>&amp;&amp;(<span class="code-params">a=<span class="code-string">"bold"</span></span>);<span class="code-params">var</span> <span class="code-params">o</span>=<span class="code-params">r</span>.<span class="code-params">italic</span>?"<span class="code-params">italic</span>":"<span class="code-params">normal</span>",<span class="code-params">l</span>=`"<span class="code-params">$</span>{<span class="code-params">i</span>}", <span class="code-params">$</span>{<span class="code-params">r</span>.<span class="code-params">fallbackName</span>}`;<span class="code-params">let</span> <span class="code-params">c</span>=<span class="code-params">t</span>;<span class="code-params">t</span>&lt;16?<span class="code-params">c</span>=16:<span class="code-params">t</span>&gt;100&amp;&amp;(<span class="code-params">c=<span class="code-number">100</span></span>),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fontSizeScale</span>=<span class="code-params">t</span>/<span class="code-params">c</span>,<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">font</span>=`<span class="code-params">$</span>{<span class="code-params">o</span>} <span class="code-params">$</span>{<span class="code-params">a</span>} <span class="code-params">$</span>{<span class="code-params">c</span>}<span class="code-params">px</span> <span class="code-params">$</span>{<span class="code-params">l</span>}`},<span class="code-params">setTextRenderingMode</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">textRenderingMode</span>=<span class="code-params">e</span>},<span class="code-params">setTextRise</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">textRise</span>=<span class="code-params">e</span>},<span class="code-params">moveText</span>:<span class="code-params">function</span>(<span class="code-params">e,t</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">x</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineX</span>+=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">y</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineY</span>+=<span class="code-params">t</span>},<span class="code-params">setLeadingMoveText</span>:<span class="code-params">function</span>(<span class="code-params">e,t</span>){<span class="code-params">this</span>.<span class="code-params">setLeading</span>(<span class="code-params">-t</span>),<span class="code-params">this</span>.<span class="code-params">moveText</span>(<span class="code-params">e,t</span>)},<span class="code-params">setTextMatrix</span>:<span class="code-params">function</span>(<span class="code-params">e,t,r,s,n,i</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">textMatrix</span>=[<span class="code-params">e</span>,<span class="code-params">t</span>,<span class="code-params">r</span>,<span class="code-params">s</span>,<span class="code-params">n</span>,<span class="code-params">i</span>],<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">textMatrixScale</span>=<span class="code-params">Math</span>.<span class="code-params">sqrt</span>(<span class="code-params">e*e+t*t</span>),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">x</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineX</span>=0,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">y</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineY</span>=0},<span class="code-params">nextLine</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">moveText</span>(<span class="code-params"><span class="code-number">0</span>,<span class="code-keyword">this</span>.current.leading</span>)},<span class="code-params">paintChar</span>(<span class="code-params">e,t,r,n</span>){<span class="code-params">var</span> <span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>,<span class="code-params">a</span>=<span class="code-params">this</span>.<span class="code-params">current</span>,<span class="code-params">o</span>=<span class="code-params">a</span>.<span class="code-params">font</span>,<span class="code-params">l</span>=<span class="code-params">a</span>.<span class="code-params">textRenderingMode</span>,<span class="code-params">c</span>=<span class="code-params">a</span>.<span class="code-params">fontSize</span>/<span class="code-params">a</span>.<span class="code-params">fontSizeScale</span>,<span class="code-params">h</span>=<span class="code-params">l</span>&amp;<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">FILL_STROKE_MASK</span>,<span class="code-params">d</span>=!!(<span class="code-params">l&amp;s.TextRenderingMode.ADD_TO_PATH_FLAG</span>);<span class="code-params">const</span> <span class="code-params">u</span>=<span class="code-params">a</span>.<span class="code-params">patternFill</span>&amp;&amp;!<span class="code-params">o</span>.<span class="code-params">missingFile</span>;<span class="code-params">var</span> <span class="code-params">p</span>;(<span class="code-params">(o.disableFontFace||d||u</span>)&amp;&amp;(<span class="code-params">p=o.getPathGenerator(<span class="code-keyword">this</span>.commonObjs,e</span>)),<span class="code-params">o</span>.<span class="code-params">disableFontFace</span>||<span class="code-params">u</span>?(<span class="code-params">i.save(</span>),<span class="code-params">i</span>.<span class="code-params">translate</span>(<span class="code-params">t,r</span>),<span class="code-params">i</span>.<span class="code-params">beginPath</span><span class="code-params">()</span>,<span class="code-params">p</span>(<span class="code-params">i,c</span>),<span class="code-params">n</span>&amp;&amp;<span class="code-params">i</span>.<span class="code-params">setTransform</span>.<span class="code-params">apply</span>(<span class="code-params">i,n</span>),<span class="code-params">h</span>!==<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">FILL</span>&amp;&amp;<span class="code-params">h</span>!==<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">FILL_STROKE</span>||<span class="code-params">i</span>.<span class="code-params">fill</span><span class="code-params">()</span>,<span class="code-params">h</span>!==<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">STROKE</span>&amp;&amp;<span class="code-params">h</span>!==<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">FILL_STROKE</span>||<span class="code-params">i</span>.<span class="code-params">stroke</span><span class="code-params">()</span>,<span class="code-params">i</span>.<span class="code-params">restore</span><span class="code-params">()</span>):(<span class="code-params">h!==s.TextRenderingMode.FILL&amp;&amp;h!==s.TextRenderingMode.FILL_STROKE||i.fillText(e,t,r</span>),<span class="code-params">h</span>!==<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">STROKE</span>&amp;&amp;<span class="code-params">h</span>!==<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">FILL_STROKE</span>||<span class="code-params">i</span>.<span class="code-params">strokeText</span>(<span class="code-params">e,t,r</span>)),<span class="code-params">d</span>)&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.pendingTextPaths||(<span class="code-keyword">this</span>.pendingTextPaths=[]</span>)).<span class="code-params">push</span>(<span class="code-params">{transform:i.mozCurrentTransform,x:t,y:r,fontSize:c,addToPath:p}</span>)},<span class="code-params">get</span> <span class="code-params">isFontSubpixelAAEnabled</span><span class="code-params">()</span>{<span class="code-params">const</span>{<span class="code-params">context</span>:<span class="code-params">e</span>}=<span class="code-params">this</span>.<span class="code-params">cachedCanvases</span>.<span class="code-params">getCanvas</span>(<span class="code-params"><span class="code-string">"isFontSubpixelAAEnabled"</span>,<span class="code-number">10</span>,<span class="code-number">10</span></span>);<span class="code-params">e</span>.<span class="code-params">scale</span>(<span class="code-params"><span class="code-number">1.5</span>,<span class="code-number">1</span></span>),<span class="code-params">e</span>.<span class="code-params">fillText</span>(<span class="code-params"><span class="code-string">"I"</span>,<span class="code-number">0</span>,<span class="code-number">10</span></span>);<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> t=e.getImageData(<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">10</span>,<span class="code-number">10</span></span>).<span class="code-params">data</span>,<span class="code-params">r</span>=!1,<span class="code-params">n</span>=3;<span class="code-params">n</span>&lt;<span class="code-params">t</span>.<span class="code-params">length</span>;<span class="code-params">n</span>+=4)<span class="code-params">if</span>(<span class="code-params">t[n]&gt;<span class="code-number">0</span>&amp;&amp;t[n]&lt;<span class="code-number">255</span></span>){<span class="code-params">r</span>=!0;<span class="code-params">break</span>}<span class="code-params">return</span>(<span class="code-params"><span class="code-number">0</span>,s.shadow</span>)(<span class="code-params"><span class="code-keyword">this</span>,<span class="code-string">"isFontSubpixelAAEnabled"</span>,r</span>)},<span class="code-params">showText</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">current</span>,<span class="code-params">r</span>=<span class="code-params">t</span>.<span class="code-params">font</span>;<span class="code-params">if</span>(<span class="code-params">r.isType3Font</span>)<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">showType3Text</span>(<span class="code-params">e</span>);<span class="code-params">var</span> <span class="code-params">n</span>=<span class="code-params">t</span>.<span class="code-params">fontSize</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-number">0</span>===n</span>)<span class="code-params">return</span>;<span class="code-params">var</span> <span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>,<span class="code-params">a</span>=<span class="code-params">t</span>.<span class="code-params">fontSizeScale</span>,<span class="code-params">o</span>=<span class="code-params">t</span>.<span class="code-params">charSpacing</span>,<span class="code-params">l</span>=<span class="code-params">t</span>.<span class="code-params">wordSpacing</span>,<span class="code-params">c</span>=<span class="code-params">t</span>.<span class="code-params">fontDirection</span>,<span class="code-params">h</span>=<span class="code-params">t</span>.<span class="code-params">textHScale</span>*<span class="code-params">c</span>,<span class="code-params">d</span>=<span class="code-params">e</span>.<span class="code-params">length</span>,<span class="code-params">u</span>=<span class="code-params">r</span>.<span class="code-params">vertical</span>,<span class="code-params">p</span>=<span class="code-params">u</span>?1:-1,<span class="code-params">g</span>=<span class="code-params">r</span>.<span class="code-params">defaultVMetrics</span>,<span class="code-params">f</span>=<span class="code-params">n</span>*<span class="code-params">t</span>.<span class="code-params">fontMatrix</span>[0],<span class="code-params">m</span>=<span class="code-params">t</span>.<span class="code-params">textRenderingMode</span>===<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">FILL</span>&amp;&amp;!<span class="code-params">r</span>.<span class="code-params">disableFontFace</span>&amp;&amp;!<span class="code-params">t</span>.<span class="code-params">patternFill</span>;<span class="code-params">let</span> <span class="code-params">A</span>;<span class="code-params">if</span>(<span class="code-params">i.save(</span>),<span class="code-params">t</span>.<span class="code-params">patternFill</span>){<span class="code-params">i</span>.<span class="code-params">save</span><span class="code-params">()</span>;<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">t</span>.<span class="code-params">fillColor</span>.<span class="code-params">getPattern</span>(<span class="code-params">i,<span class="code-keyword">this</span></span>);<span class="code-params">A</span>=<span class="code-params">i</span>.<span class="code-params">mozCurrentTransform</span>,<span class="code-params">i</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">i</span>.<span class="code-params">fillStyle</span>=<span class="code-params">e</span>}<span class="code-params">i</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params">i,t.textMatrix</span>),<span class="code-params">i</span>.<span class="code-params">translate</span>(<span class="code-params">t.x,t.y+t.textRise</span>),<span class="code-params">c</span>&gt;0?<span class="code-params">i</span>.<span class="code-params">scale</span>(<span class="code-params">h,<span class="code-number">-1</span></span>):<span class="code-params">i</span>.<span class="code-params">scale</span>(<span class="code-params">h,<span class="code-number">1</span></span>);<span class="code-params">var</span> <span class="code-params">b</span>=<span class="code-params">t</span>.<span class="code-params">lineWidth</span>,<span class="code-params">_</span>=<span class="code-params">t</span>.<span class="code-params">textMatrixScale</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-number">0</span>===_||<span class="code-number">0</span>===b</span>){<span class="code-params">var</span> <span class="code-params">y</span>=<span class="code-params">t</span>.<span class="code-params">textRenderingMode</span>&amp;<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">FILL_STROKE_MASK</span>;<span class="code-params">y</span>!==<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">STROKE</span>&amp;&amp;<span class="code-params">y</span>!==<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">FILL_STROKE</span>||(<span class="code-params"><span class="code-keyword">this</span>._cachedGetSinglePixelWidth=<span class="code-literal">null</span>,b=<span class="code-number">.65</span>*<span class="code-keyword">this</span>.getSinglePixelWidth(</span>))}<span class="code-params">else</span> <span class="code-params">b</span>/=<span class="code-params">_</span>;1!==<span class="code-params">a</span>&amp;&amp;(<span class="code-params">i.scale(a,a</span>),<span class="code-params">b</span>/=<span class="code-params">a</span>),<span class="code-params">i</span>.<span class="code-params">lineWidth</span>=<span class="code-params">b</span>;<span class="code-params">var</span> <span class="code-params">v</span>,<span class="code-params">S</span>=0;<span class="code-params">for</span>(<span class="code-params">v=<span class="code-number">0</span>;v&lt;d;++v</span>){<span class="code-params">var</span> <span class="code-params">x</span>=<span class="code-params">e</span>[<span class="code-params">v</span>];<span class="code-params">if</span>(<span class="code-params">(<span class="code-number">0</span>,s.isNum</span>)(<span class="code-params">x</span>))<span class="code-params">S</span>+=<span class="code-params">p</span>*<span class="code-params">x</span>*<span class="code-params">n</span>/1<span class="code-params">e3</span>;<span class="code-params">else</span>{<span class="code-params">var</span> <span class="code-params">C</span>,<span class="code-params">P</span>,<span class="code-params">k</span>,<span class="code-params">R</span>,<span class="code-params">w</span>,<span class="code-params">T</span>,<span class="code-params">E</span>,<span class="code-params">F</span>=!1,<span class="code-params">L</span>=(<span class="code-params">x.isSpace?l:<span class="code-number">0</span></span>)+<span class="code-params">o</span>,<span class="code-params">I</span>=<span class="code-params">x</span>.<span class="code-params">fontChar</span>,<span class="code-params">M</span>=<span class="code-params">x</span>.<span class="code-params">accent</span>,<span class="code-params">O</span>=<span class="code-params">x</span>.<span class="code-params">width</span>;<span class="code-params">if</span>(<span class="code-params">u</span>)<span class="code-params">w</span>=<span class="code-params">x</span>.<span class="code-params">vmetric</span>||<span class="code-params">g</span>,<span class="code-params">T</span>=-(<span class="code-params">T=x.vmetric?w[<span class="code-number">1</span>]:<span class="code-number">.5</span>*O</span>)*<span class="code-params">f</span>,<span class="code-params">E</span>=<span class="code-params">w</span>[2]*<span class="code-params">f</span>,<span class="code-params">O</span>=<span class="code-params">w</span>?-<span class="code-params">w</span>[0]:<span class="code-params">O</span>,<span class="code-params">C</span>=<span class="code-params">T</span>/<span class="code-params">a</span>,<span class="code-params">P</span>=(<span class="code-params">S+E</span>)/<span class="code-params">a</span>;<span class="code-params">else</span> <span class="code-params">C</span>=<span class="code-params">S</span>/<span class="code-params">a</span>,<span class="code-params">P</span>=0;<span class="code-params">if</span>(<span class="code-params">r.remeasure&amp;&amp;O&gt;<span class="code-number">0</span></span>){<span class="code-params">var</span> <span class="code-params">N</span>=1<span class="code-params">e3</span>*<span class="code-params">i</span>.<span class="code-params">measureText</span>(<span class="code-params">I</span>).<span class="code-params">width</span>/<span class="code-params">n</span>*<span class="code-params">a</span>;<span class="code-params">if</span>(<span class="code-params">O&lt;N&amp;&amp;<span class="code-keyword">this</span>.isFontSubpixelAAEnabled</span>){<span class="code-params">var</span> <span class="code-params">D</span>=<span class="code-params">O</span>/<span class="code-params">N</span>;<span class="code-params">F</span>=!0,<span class="code-params">i</span>.<span class="code-params">save</span><span class="code-params">()</span>,<span class="code-params">i</span>.<span class="code-params">scale</span>(<span class="code-params">D,<span class="code-number">1</span></span>),<span class="code-params">C</span>/=<span class="code-params">D</span>}<span class="code-params">else</span> <span class="code-params">O</span>!==<span class="code-params">N</span>&amp;&amp;(<span class="code-params">C+=(O-N</span>)/2<span class="code-params">e3</span>*<span class="code-params">n</span>/<span class="code-params">a</span>)}(<span class="code-params">x.isInFont||r.missingFile</span>)&amp;&amp;(<span class="code-params">m&amp;&amp;!M?i.fillText(I,C,P</span>):(<span class="code-params"><span class="code-keyword">this</span>.paintChar(I,C,P,A</span>),<span class="code-params">M</span>&amp;&amp;(<span class="code-params">k=C+M.offset.x<span class="code-regexp">/a,R=P-M.offset.y/</span>a,<span class="code-keyword">this</span>.paintChar(M.fontChar,k,R,A</span>)))),<span class="code-params">S</span>+=<span class="code-params">u</span>?<span class="code-params">O</span>*<span class="code-params">f</span>-<span class="code-params">L</span>*<span class="code-params">c</span>:<span class="code-params">O</span>*<span class="code-params">f</span>+<span class="code-params">L</span>*<span class="code-params">c</span>,<span class="code-params">F</span>&amp;&amp;<span class="code-params">i</span>.<span class="code-params">restore</span><span class="code-params">()</span>}}<span class="code-params">u</span>?<span class="code-params">t</span>.<span class="code-params">y</span>-=<span class="code-params">S</span>:<span class="code-params">t</span>.<span class="code-params">x</span>+=<span class="code-params">S</span>*<span class="code-params">h</span>,<span class="code-params">i</span>.<span class="code-params">restore</span><span class="code-params">()</span>},<span class="code-params">showType3Text</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">var</span> <span class="code-params">t</span>,<span class="code-params">r</span>,<span class="code-params">n</span>,<span class="code-params">i</span>,<span class="code-params">a</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>,<span class="code-params">o</span>=<span class="code-params">this</span>.<span class="code-params">current</span>,<span class="code-params">l</span>=<span class="code-params">o</span>.<span class="code-params">font</span>,<span class="code-params">c</span>=<span class="code-params">o</span>.<span class="code-params">fontSize</span>,<span class="code-params">h</span>=<span class="code-params">o</span>.<span class="code-params">fontDirection</span>,<span class="code-params">d</span>=<span class="code-params">l</span>.<span class="code-params">vertical</span>?1:-1,<span class="code-params">u</span>=<span class="code-params">o</span>.<span class="code-params">charSpacing</span>,<span class="code-params">p</span>=<span class="code-params">o</span>.<span class="code-params">wordSpacing</span>,<span class="code-params">g</span>=<span class="code-params">o</span>.<span class="code-params">textHScale</span>*<span class="code-params">h</span>,<span class="code-params">f</span>=<span class="code-params">o</span>.<span class="code-params">fontMatrix</span>||<span class="code-params">s</span>.<span class="code-params">FONT_IDENTITY_MATRIX</span>,<span class="code-params">m</span>=<span class="code-params">e</span>.<span class="code-params">length</span>;<span class="code-params">if</span>(<span class="code-params">!(o.textRenderingMode===s.TextRenderingMode.INVISIBLE</span>)&amp;&amp;0!==<span class="code-params">c</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">this</span>._cachedGetSinglePixelWidth=<span class="code-literal">null</span>,a.save(</span>),<span class="code-params">a</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params">a,o.textMatrix</span>),<span class="code-params">a</span>.<span class="code-params">translate</span>(<span class="code-params">o.x,o.y</span>),<span class="code-params">a</span>.<span class="code-params">scale</span>(<span class="code-params">g,h</span>),<span class="code-params">t</span>=0;<span class="code-params">t</span>&lt;<span class="code-params">m</span>;++<span class="code-params">t</span>)<span class="code-params">if</span>(<span class="code-params">r=e[t],(<span class="code-number">0</span>,s.isNum</span>)(<span class="code-params">r</span>))<span class="code-params">i</span>=<span class="code-params">d</span>*<span class="code-params">r</span>*<span class="code-params">c</span>/1<span class="code-params">e3</span>,<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">translate</span>(<span class="code-params">i,<span class="code-number">0</span></span>),<span class="code-params">o</span>.<span class="code-params">x</span>+=<span class="code-params">i</span>*<span class="code-params">g</span>;<span class="code-params">else</span>{<span class="code-params">var</span> <span class="code-params">A</span>=(<span class="code-params">r.isSpace?p:<span class="code-number">0</span></span>)+<span class="code-params">u</span>,<span class="code-params">b</span>=<span class="code-params">l</span>.<span class="code-params">charProcOperatorList</span>[<span class="code-params">r</span>.<span class="code-params">operatorListId</span>];<span class="code-params">if</span>(<span class="code-params">b</span>)<span class="code-params">this</span>.<span class="code-params">processingType3</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">save</span><span class="code-params">()</span>,<span class="code-params">a</span>.<span class="code-params">scale</span>(<span class="code-params">c,c</span>),<span class="code-params">a</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params">a,f</span>),<span class="code-params">this</span>.<span class="code-params">executeOperatorList</span>(<span class="code-params">b</span>),<span class="code-params">this</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">n</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[r.width,<span class="code-number">0</span>],f</span>)[0]*<span class="code-params">c</span>+<span class="code-params">A</span>,<span class="code-params">a</span>.<span class="code-params">translate</span>(<span class="code-params">n,<span class="code-number">0</span></span>),<span class="code-params">o</span>.<span class="code-params">x</span>+=<span class="code-params">n</span>*<span class="code-params">g</span>;<span class="code-params">else</span>(<span class="code-params"><span class="code-number">0</span>,s.warn</span>)(<span class="code-params"><span class="code-string">`Type3 character "<span class="code-subst">${r.operatorListId}</span>" is not available.`</span></span>)}<span class="code-params">a</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">processingType3</span>=<span class="code-params">null</span>}},<span class="code-params">setCharWidth</span>:<span class="code-params">function</span>(<span class="code-params">e,t</span>){},<span class="code-params">setCharWidthAndBounds</span>:<span class="code-params">function</span>(<span class="code-params">e,t,r,s,n,i</span>){<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">rect</span>(<span class="code-params">r,s,n-r,i-s</span>),<span class="code-params">this</span>.<span class="code-params">clip</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">endPath</span><span class="code-params">()</span>},<span class="code-params">getColorN_Pattern</span>:<span class="code-params">function</span>(<span class="code-params">t</span>){<span class="code-params">var</span> <span class="code-params">r</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"TilingPattern"</span>===t[<span class="code-number">0</span>]</span>){<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">t</span>[1],<span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">baseTransform</span>||<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">mozCurrentTransform</span>.<span class="code-params">slice</span><span class="code-params">()</span>,<span class="code-params">a</span>={<span class="code-params">createCanvasGraphics</span>:<span class="code-params">t</span>=&gt;</span><span class="code-keyword">new</span> e(t,<span class="code-keyword">this</span>.commonObjs,<span class="code-keyword">this</span>.objs,<span class="code-keyword">this</span>.canvasFactory,<span class="code-keyword">this</span>.webGLContext)};r=<span class="code-keyword">new</span> n.TilingPattern(t,s,<span class="code-keyword">this</span>.ctx,a,i)}<span class="code-keyword">else</span> r=<span class="code-function">(<span class="code-params"><span class="code-number">0</span>,n.getShadingPatternFromIR</span>)(<span class="code-params">t</span>);<span class="code-params">return</span> <span class="code-params">r</span>},<span class="code-params">setStrokeColorN</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">strokeColor</span>=<span class="code-params">this</span>.<span class="code-params">getColorN_Pattern</span>(<span class="code-params"><span class="code-built_in">arguments</span></span>)},<span class="code-params">setFillColorN</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillColor</span>=<span class="code-params">this</span>.<span class="code-params">getColorN_Pattern</span>(<span class="code-params"><span class="code-built_in">arguments</span></span>),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">patternFill</span>=!0},<span class="code-params">setStrokeRGBColor</span>:<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){<span class="code-params">var</span> <span class="code-params">n</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">makeCssRgb</span>(<span class="code-params">e,t,r</span>);<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">strokeStyle</span>=<span class="code-params">n</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">strokeColor</span>=<span class="code-params">n</span>},<span class="code-params">setFillRGBColor</span>:<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){<span class="code-params">var</span> <span class="code-params">n</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">makeCssRgb</span>(<span class="code-params">e,t,r</span>);<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">fillStyle</span>=<span class="code-params">n</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillColor</span>=<span class="code-params">n</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">patternFill</span>=!1},<span class="code-params">shadingFill</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>;<span class="code-params">this</span>.<span class="code-params">save</span><span class="code-params">()</span>;<span class="code-params">var</span> <span class="code-params">r</span>=(<span class="code-params"><span class="code-number">0</span>,n.getShadingPatternFromIR</span>)(<span class="code-params">e</span>);<span class="code-params">t</span>.<span class="code-params">fillStyle</span>=<span class="code-params">r</span>.<span class="code-params">getPattern</span>(<span class="code-params">t,<span class="code-keyword">this</span>,!<span class="code-number">0</span></span>);<span class="code-params">var</span> <span class="code-params">i</span>=<span class="code-params">t</span>.<span class="code-params">mozCurrentTransformInverse</span>;<span class="code-params">if</span>(<span class="code-params">i</span>){<span class="code-params">var</span> <span class="code-params">a</span>=<span class="code-params">t</span>.<span class="code-params">canvas</span>,<span class="code-params">o</span>=<span class="code-params">a</span>.<span class="code-params">width</span>,<span class="code-params">l</span>=<span class="code-params">a</span>.<span class="code-params">height</span>,<span class="code-params">c</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[<span class="code-number">0</span>,<span class="code-number">0</span>],i</span>),<span class="code-params">h</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[<span class="code-number">0</span>,l],i</span>),<span class="code-params">d</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[o,<span class="code-number">0</span>],i</span>),<span class="code-params">u</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[o,l],i</span>),<span class="code-params">p</span>=<span class="code-params">Math</span>.<span class="code-params">min</span>(<span class="code-params">c[<span class="code-number">0</span>],h[<span class="code-number">0</span>],d[<span class="code-number">0</span>],u[<span class="code-number">0</span>]</span>),<span class="code-params">g</span>=<span class="code-params">Math</span>.<span class="code-params">min</span>(<span class="code-params">c[<span class="code-number">1</span>],h[<span class="code-number">1</span>],d[<span class="code-number">1</span>],u[<span class="code-number">1</span>]</span>),<span class="code-params">f</span>=<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params">c[<span class="code-number">0</span>],h[<span class="code-number">0</span>],d[<span class="code-number">0</span>],u[<span class="code-number">0</span>]</span>),<span class="code-params">m</span>=<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params">c[<span class="code-number">1</span>],h[<span class="code-number">1</span>],d[<span class="code-number">1</span>],u[<span class="code-number">1</span>]</span>);<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">fillRect</span>(<span class="code-params">p,g,f-p,m-g</span>)}<span class="code-params">else</span> <span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">fillRect</span>(<span class="code-params"><span class="code-number">-1e10</span>,<span class="code-number">-1e10</span>,<span class="code-number">2e10</span>,<span class="code-number">2e10</span></span>);<span class="code-params">this</span>.<span class="code-params">restore</span><span class="code-params">()</span>},<span class="code-params">beginInlineImage</span>:<span class="code-params">function</span><span class="code-params">()</span>{(<span class="code-params"><span class="code-number">0</span>,s.unreachable</span>)(<span class="code-params"><span class="code-string">"Should not call beginInlineImage"</span></span>)},<span class="code-params">beginImageData</span>:<span class="code-params">function</span><span class="code-params">()</span>{(<span class="code-params"><span class="code-number">0</span>,s.unreachable</span>)(<span class="code-params"><span class="code-string">"Should not call beginImageData"</span></span>)},<span class="code-params">paintFormXObjectBegin</span>:<span class="code-params">function</span>(<span class="code-params">e,t</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>.save(</span>),<span class="code-params">this</span>.<span class="code-params">baseTransformStack</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-keyword">this</span>.baseTransform</span>),<span class="code-params">Array</span>.<span class="code-params">isArray</span>(<span class="code-params">e</span>)&amp;&amp;6===<span class="code-params">e</span>.<span class="code-params">length</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params"><span class="code-keyword">this</span>,e</span>),<span class="code-params">this</span>.<span class="code-params">baseTransform</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">mozCurrentTransform</span>,<span class="code-params">t</span>){<span class="code-params">var</span> <span class="code-params">r</span>=<span class="code-params">t</span>[2]-<span class="code-params">t</span>[0],<span class="code-params">s</span>=<span class="code-params">t</span>[3]-<span class="code-params">t</span>[1];<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">rect</span>(<span class="code-params">t[<span class="code-number">0</span>],t[<span class="code-number">1</span>],r,s</span>),<span class="code-params">this</span>.<span class="code-params">clip</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">endPath</span><span class="code-params">()</span>}},<span class="code-params">paintFormXObjectEnd</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">restore</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">baseTransform</span>=<span class="code-params">this</span>.<span class="code-params">baseTransformStack</span>.<span class="code-params">pop</span><span class="code-params">()</span>},<span class="code-params">beginGroup</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">save</span><span class="code-params">()</span>;<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>;<span class="code-params">e</span>.<span class="code-params">isolated</span>||(<span class="code-params"><span class="code-number">0</span>,s.info</span>)(<span class="code-params"><span class="code-string">"TODO: Support non-isolated groups."</span></span>),<span class="code-params">e</span>.<span class="code-params">knockout</span>&amp;&amp;(<span class="code-params"><span class="code-number">0</span>,s.warn</span>)(<span class="code-params"><span class="code-string">"Knockout groups not supported."</span></span>);<span class="code-params">var</span> <span class="code-params">r</span>=<span class="code-params">t</span>.<span class="code-params">mozCurrentTransform</span>;<span class="code-params">if</span>(<span class="code-params">e.matrix&amp;&amp;t.transform.apply(t,e.matrix</span>),!<span class="code-params">e</span>.<span class="code-params">bbox</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Bounding box is required."</span></span>);<span class="code-params">var</span> <span class="code-params">n</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">getAxialAlignedBoundingBox</span>(<span class="code-params">e.bbox,t.mozCurrentTransform</span>),<span class="code-params">i</span>=[0,0,<span class="code-params">t</span>.<span class="code-params">canvas</span>.<span class="code-params">width</span>,<span class="code-params">t</span>.<span class="code-params">canvas</span>.<span class="code-params">height</span>];<span class="code-params">n</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">intersect</span>(<span class="code-params">n,i</span>)||[0,0,0,0];<span class="code-params">var</span> <span class="code-params">a</span>=<span class="code-params">Math</span>.<span class="code-params">floor</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>),<span class="code-params">o</span>=<span class="code-params">Math</span>.<span class="code-params">floor</span>(<span class="code-params">n[<span class="code-number">1</span>]</span>),<span class="code-params">c</span>=<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params"><span class="code-built_in">Math</span>.ceil(n[<span class="code-number">2</span>]</span>)-<span class="code-params">a</span>,1),<span class="code-params">h</span>=<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params"><span class="code-built_in">Math</span>.ceil(n[<span class="code-number">3</span>]</span>)-<span class="code-params">o</span>,1),<span class="code-params">d</span>=1,<span class="code-params">u</span>=1;<span class="code-params">c</span>&gt;4096&amp;&amp;(<span class="code-params">d=c<span class="code-regexp">/4096,c=4096),h&gt;4096&amp;&amp;(u=h/</span><span class="code-number">4096</span>,h=<span class="code-number">4096</span></span>);<span class="code-params">var</span> <span class="code-params">p</span>="<span class="code-params">groupAt</span>"+<span class="code-params">this</span>.<span class="code-params">groupLevel</span>;<span class="code-params">e</span>.<span class="code-params">smask</span>&amp;&amp;(<span class="code-params">p+=<span class="code-string">"_smask_"</span>+<span class="code-keyword">this</span>.smaskCounter++%<span class="code-number">2</span></span>);<span class="code-params">var</span> <span class="code-params">g</span>=<span class="code-params">this</span>.<span class="code-params">cachedCanvases</span>.<span class="code-params">getCanvas</span>(<span class="code-params">p,c,h,!<span class="code-number">0</span></span>),<span class="code-params">f</span>=<span class="code-params">g</span>.<span class="code-params">context</span>;<span class="code-params">f</span>.<span class="code-params">scale</span>(<span class="code-params"><span class="code-number">1</span><span class="code-regexp">/d,1/u</span></span>),<span class="code-params">f</span>.<span class="code-params">translate</span>(<span class="code-params">-a,-o</span>),<span class="code-params">f</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params">f,r</span>),<span class="code-params">e</span>.<span class="code-params">smask</span>?<span class="code-params">this</span>.<span class="code-params">smaskStack</span>.<span class="code-params">push</span>(<span class="code-params">{canvas:g.canvas,context:f,offsetX:a,offsetY:o,scaleX:d,scaleY:u,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||<span class="code-literal">null</span>,startTransformInverse:<span class="code-literal">null</span>}</span>):(<span class="code-params">t.setTransform(<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span></span>),<span class="code-params">t</span>.<span class="code-params">translate</span>(<span class="code-params">a,o</span>),<span class="code-params">t</span>.<span class="code-params">scale</span>(<span class="code-params">d,u</span>)),<span class="code-params">l</span>(<span class="code-params">t,f</span>),<span class="code-params">this</span>.<span class="code-params">ctx</span>=<span class="code-params">f</span>,<span class="code-params">this</span>.<span class="code-params">setGState</span>(<span class="code-params">[[<span class="code-string">"BM"</span>,<span class="code-string">"source-over"</span>],[<span class="code-string">"ca"</span>,<span class="code-number">1</span>],[<span class="code-string">"CA"</span>,<span class="code-number">1</span>]]</span>),<span class="code-params">this</span>.<span class="code-params">groupStack</span>.<span class="code-params">push</span>(<span class="code-params">t</span>),<span class="code-params">this</span>.<span class="code-params">groupLevel</span>++,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">activeSMask</span>=<span class="code-params">null</span>},<span class="code-params">endGroup</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">groupLevel</span>--;<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>;<span class="code-params">this</span>.<span class="code-params">ctx</span>=<span class="code-params">this</span>.<span class="code-params">groupStack</span>.<span class="code-params">pop</span><span class="code-params">()</span>,<span class="code-params">void</span> 0!==<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">imageSmoothingEnabled</span>?<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">imageSmoothingEnabled</span>=!1:<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">mozImageSmoothingEnabled</span>=!1,<span class="code-params">e</span>.<span class="code-params">smask</span>?<span class="code-params">this</span>.<span class="code-params">tempSMask</span>=<span class="code-params">this</span>.<span class="code-params">smaskStack</span>.<span class="code-params">pop</span><span class="code-params">()</span>:<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">drawImage</span>(<span class="code-params">t.canvas,<span class="code-number">0</span>,<span class="code-number">0</span></span>),<span class="code-params">this</span>.<span class="code-params">restore</span><span class="code-params">()</span>},<span class="code-params">beginAnnotations</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">save</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">baseTransform</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">setTransform</span>.<span class="code-params">apply</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx,<span class="code-keyword">this</span>.baseTransform</span>)},<span class="code-params">endAnnotations</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">restore</span><span class="code-params">()</span>},<span class="code-params">beginAnnotation</span>:<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>.save(</span>),<span class="code-params">c</span>(<span class="code-params"><span class="code-keyword">this</span>.ctx</span>),<span class="code-params">this</span>.<span class="code-params">current</span>=<span class="code-params">new</span> <span class="code-params">o</span>,<span class="code-params">Array</span>.<span class="code-params">isArray</span>(<span class="code-params">e</span>)&amp;&amp;4===<span class="code-params">e</span>.<span class="code-params">length</span>){<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">e</span>[2]-<span class="code-params">e</span>[0],<span class="code-params">n</span>=<span class="code-params">e</span>[3]-<span class="code-params">e</span>[1];<span class="code-params">this</span>.<span class="code-params">ctx</span>.<span class="code-params">rect</span>(<span class="code-params">e[<span class="code-number">0</span>],e[<span class="code-number">1</span>],s,n</span>),<span class="code-params">this</span>.<span class="code-params">clip</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">endPath</span><span class="code-params">()</span>}<span class="code-params">this</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params"><span class="code-keyword">this</span>,t</span>),<span class="code-params">this</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params"><span class="code-keyword">this</span>,r</span>)},<span class="code-params">endAnnotation</span>:<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">restore</span><span class="code-params">()</span>},<span class="code-params">paintImageMaskXObject</span>:<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>,<span class="code-params">s</span>=<span class="code-params">e</span>.<span class="code-params">width</span>,<span class="code-params">n</span>=<span class="code-params">e</span>.<span class="code-params">height</span>,<span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillColor</span>,<span class="code-params">a</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">patternFill</span>,<span class="code-params">o</span>=<span class="code-params">this</span>.<span class="code-params">processingType3</span>;<span class="code-params">if</span>(<span class="code-params">o&amp;&amp;<span class="code-keyword">void</span> <span class="code-number">0</span>===o.compiled&amp;&amp;(o.compiled=s&lt;=<span class="code-number">1e3</span>&amp;&amp;n&lt;=<span class="code-number">1e3</span>?<span class="code-keyword">function</span>(e</span>){<span class="code-params">var</span> <span class="code-params">t</span>,<span class="code-params">r</span>,<span class="code-params">s</span>,<span class="code-params">n</span>,<span class="code-params">i</span>=<span class="code-params">e</span>.<span class="code-params">width</span>,<span class="code-params">a</span>=<span class="code-params">e</span>.<span class="code-params">height</span>,<span class="code-params">o</span>=<span class="code-params">i</span>+1,<span class="code-params">l</span>=<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">o*(a+<span class="code-number">1</span></span>)),<span class="code-params">c</span>=<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">[<span class="code-number">0</span>,<span class="code-number">2</span>,<span class="code-number">4</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">5</span>,<span class="code-number">4</span>,<span class="code-number">8</span>,<span class="code-number">10</span>,<span class="code-number">0</span>,<span class="code-number">8</span>,<span class="code-number">0</span>,<span class="code-number">2</span>,<span class="code-number">1</span>,<span class="code-number">0</span>]</span>),<span class="code-params">h</span>=<span class="code-params">i</span>+7&amp;-8,<span class="code-params">d</span>=<span class="code-params">e</span>.<span class="code-params">data</span>,<span class="code-params">u</span>=<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">h*a</span>),<span class="code-params">p</span>=0;<span class="code-params">for</span>(<span class="code-params">t=<span class="code-number">0</span>,n=d.length;t&lt;n;t++</span>)<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> g=<span class="code-number">128</span>,f=d[t];g&gt;<span class="code-number">0</span>;</span>)<span class="code-params">u</span>[<span class="code-params">p</span>++]=<span class="code-params">f</span>&amp;<span class="code-params">g</span>?0:255,<span class="code-params">g</span>&gt;&gt;=1;<span class="code-params">var</span> <span class="code-params">m</span>=0;<span class="code-params">for</span>(<span class="code-params"><span class="code-number">0</span>!==u[p=<span class="code-number">0</span>]&amp;&amp;(l[<span class="code-number">0</span>]=<span class="code-number">1</span>,++m</span>),<span class="code-params">r</span>=1;<span class="code-params">r</span>&lt;<span class="code-params">i</span>;<span class="code-params">r</span>++)<span class="code-params">u</span>[<span class="code-params">p</span>]!==<span class="code-params">u</span>[<span class="code-params">p</span>+1]&amp;&amp;(<span class="code-params">l[r]=u[p]?<span class="code-number">2</span>:<span class="code-number">1</span>,++m</span>),<span class="code-params">p</span>++;<span class="code-params">for</span>(<span class="code-params"><span class="code-number">0</span>!==u[p]&amp;&amp;(l[r]=<span class="code-number">2</span>,++m</span>),<span class="code-params">t</span>=1;<span class="code-params">t</span>&lt;<span class="code-params">a</span>;<span class="code-params">t</span>++){<span class="code-params">s</span>=<span class="code-params">t</span>*<span class="code-params">o</span>,<span class="code-params">u</span>[(<span class="code-params">p=t*h</span>)-<span class="code-params">h</span>]!==<span class="code-params">u</span>[<span class="code-params">p</span>]&amp;&amp;(<span class="code-params">l[s]=u[p]?<span class="code-number">1</span>:<span class="code-number">8</span>,++m</span>);<span class="code-params">var</span> <span class="code-params">A</span>=(<span class="code-params">u[p]?<span class="code-number">4</span>:<span class="code-number">0</span></span>)+(<span class="code-params">u[p-h]?<span class="code-number">8</span>:<span class="code-number">0</span></span>);<span class="code-params">for</span>(<span class="code-params">r=<span class="code-number">1</span>;r&lt;i;r++</span>)<span class="code-params">c</span>[<span class="code-params">A</span>=(<span class="code-params">A&gt;&gt;<span class="code-number">2</span></span>)+(<span class="code-params">u[p+<span class="code-number">1</span>]?<span class="code-number">4</span>:<span class="code-number">0</span></span>)+(<span class="code-params">u[p-h+<span class="code-number">1</span>]?<span class="code-number">8</span>:<span class="code-number">0</span></span>)]&amp;&amp;(<span class="code-params">l[s+r]=c[A],++m</span>),<span class="code-params">p</span>++;<span class="code-params">if</span>(<span class="code-params">u[p-h]!==u[p]&amp;&amp;(l[s+r]=u[p]?<span class="code-number">2</span>:<span class="code-number">4</span>,++m</span>),<span class="code-params">m</span>&gt;1<span class="code-params">e3</span>)<span class="code-params">return</span> <span class="code-params">null</span>}<span class="code-params">for</span>(<span class="code-params">s=t*o,<span class="code-number">0</span>!==u[p=h*(a<span class="code-number">-1</span></span>)]&amp;&amp;(<span class="code-params">l[s]=<span class="code-number">8</span>,++m</span>),<span class="code-params">r</span>=1;<span class="code-params">r</span>&lt;<span class="code-params">i</span>;<span class="code-params">r</span>++)<span class="code-params">u</span>[<span class="code-params">p</span>]!==<span class="code-params">u</span>[<span class="code-params">p</span>+1]&amp;&amp;(<span class="code-params">l[s+r]=u[p]?<span class="code-number">4</span>:<span class="code-number">8</span>,++m</span>),<span class="code-params">p</span>++;<span class="code-params">if</span>(<span class="code-params"><span class="code-number">0</span>!==u[p]&amp;&amp;(l[s+r]=<span class="code-number">4</span>,++m</span>),<span class="code-params">m</span>&gt;1<span class="code-params">e3</span>)<span class="code-params">return</span> <span class="code-params">null</span>;<span class="code-params">var</span> <span class="code-params">b</span>=<span class="code-params">new</span> <span class="code-params">Int32Array</span>(<span class="code-params">[<span class="code-number">0</span>,o,<span class="code-number">-1</span>,<span class="code-number">0</span>,-o,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>]</span>),<span class="code-params">_</span>=[];<span class="code-params">for</span>(<span class="code-params">t=<span class="code-number">0</span>;m&amp;&amp;t&lt;=a;t++</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> y=t*o,v=y+i;y&lt;v&amp;&amp;!l[y];</span>)<span class="code-params">y</span>++;<span class="code-params">if</span>(<span class="code-params">y!==v</span>){<span class="code-params">var</span> <span class="code-params">S</span>,<span class="code-params">x</span>=[<span class="code-params">y</span>%<span class="code-params">o</span>,<span class="code-params">t</span>],<span class="code-params">C</span>=<span class="code-params">l</span>[<span class="code-params">y</span>],<span class="code-params">P</span>=<span class="code-params">y</span>;<span class="code-params">do</span>{<span class="code-params">var</span> <span class="code-params">k</span>=<span class="code-params">b</span>[<span class="code-params">C</span>];<span class="code-params">do</span>{<span class="code-params">y</span>+=<span class="code-params">k</span>}<span class="code-params">while</span>(<span class="code-params">!l[y]</span>);5!==(<span class="code-params">S=l[y]</span>)&amp;&amp;10!==<span class="code-params">S</span>?(<span class="code-params">C=S,l[y]=<span class="code-number">0</span></span>):(<span class="code-params">C=S&amp;<span class="code-number">51</span>*C&gt;&gt;<span class="code-number">4</span>,l[y]&amp;=C&gt;&gt;<span class="code-number">2</span>|C&lt;&lt;<span class="code-number">2</span></span>),<span class="code-params">x</span>.<span class="code-params">push</span>(<span class="code-params">y%o</span>),<span class="code-params">x</span>.<span class="code-params">push</span>(<span class="code-params">y<span class="code-regexp">/o|0),l[y]||--m}while(P!==y);_.push(x),--t}}return function(e){e.save(),e.scale(1/i</span>,<span class="code-number">-1</span><span class="code-regexp">/a),e.translate(0,-a),e.beginPath();for(let r=0,s=_.length;r&lt;s;r++){var t=_[r];e.moveTo(t[0],t[1]);for(let r=2,s=t.length;r&lt;s;r+=2)e.lineTo(t[r],t[r+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:s,height:n}):null),o&amp;&amp;o.compiled)o.compiled(t);else{var l=this.cachedCanvases.getCanvas("maskCanvas",s,n),c=l.context;c.save(),r(c,e),c.globalCompositeOperation="source-in",c.fillStyle=a?i.getPattern(c,this):i,c.fillRect(0,0,s,n),c.restore(),this.paintInlineImageXObject(l.canvas)}},paintImageMaskXObjectRepeat:function(e,t,s,n){var i=e.width,a=e.height,o=this.current.fillColor,l=this.current.patternFill,c=this.cachedCanvases.getCanvas("maskCanvas",i,a),h=c.context;h.save(),r(h,e),h.globalCompositeOperation="source-in",h.fillStyle=l?o.getPattern(h,this):o,h.fillRect(0,0,i,a),h.restore();for(var d=this.ctx,u=0,p=n.length;u&lt;p;u+=2)d.save(),d.transform(t,0,0,s,n[u],n[u+1]),d.scale(1,-1),d.drawImage(c.canvas,0,0,i,a,0,-1,1,1),d.restore()},paintImageMaskXObjectGroup:function(e){for(var t=this.ctx,s=this.current.fillColor,n=this.current.patternFill,i=0,a=e.length;i&lt;a;i++){var o=e[i],l=o.width,c=o.height,h=this.cachedCanvases.getCanvas("maskCanvas",l,c),d=h.context;d.save(),r(d,o),d.globalCompositeOperation="source-in",d.fillStyle=n?s.getPattern(d,this):s,d.fillRect(0,0,l,c),d.restore(),t.save(),t.transform.apply(t,o.transform),t.scale(1,-1),t.drawImage(h.canvas,0,0,l,c,0,-1,1,1),t.restore()}},paintImageXObject:function(e){const t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,s.warn)("Dependent image isn't ready yet")},paintImageXObjectRepeat:function(e,t,r,n){const i=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(i){for(var a=i.width,o=i.height,l=[],c=0,h=n.length;c&lt;h;c+=2)l.push({transform:[t,0,0,r,n[c],n[c+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(i,l)}else(0,s.warn)("Dependent image isn't ready yet")},paintInlineImageXObject:function(e){var r=e.width,s=e.height,n=this.ctx;this.save(),n.scale(1/</span>r,<span class="code-number">-1</span><span class="code-regexp">/s);var i,a,o=n.mozCurrentTransformInverse,l=o[0],c=o[1],h=Math.max(Math.sqrt(l*l+c*c),1),d=o[2],u=o[3],p=Math.max(Math.sqrt(d*d+u*u),1);if("function"==typeof HTMLElement&amp;&amp;e instanceof HTMLElement||!e.data)i=e;else{var g=(a=this.cachedCanvases.getCanvas("inlineImage",r,s)).context;t(g,e),i=a.canvas}for(var f=r,m=s,A="prescale1";h&gt;2&amp;&amp;f&gt;1||p&gt;2&amp;&amp;m&gt;1;){var b=f,_=m;h&gt;2&amp;&amp;f&gt;1&amp;&amp;(h/</span>=f<span class="code-regexp">/(b=Math.ceil(f/</span><span class="code-number">2</span></span>))),<span class="code-params">p</span>&gt;2&amp;&amp;<span class="code-params">m</span>&gt;1&amp;&amp;(<span class="code-params">p<span class="code-regexp">/=m/</span>(_=<span class="code-built_in">Math</span>.ceil(m<span class="code-regexp">/2))),(g=(a=this.cachedCanvases.getCanvas(A,b,_)).context).clearRect(0,0,b,_),g.drawImage(i,0,0,f,m,0,0,b,_),i=a.canvas,f=b,m=_,A="prescale1"===A?"prescale2":"prescale1"}if(n.drawImage(i,0,0,f,m,0,-s,r,s),this.imageLayer){var y=this.getCanvasPosition(0,-s);this.imageLayer.appendImage({imgData:e,left:y[0],top:y[1],width:r/</span>o[<span class="code-number">0</span>],height:s<span class="code-regexp">/o[3]})}this.restore()},paintInlineImageXObjectGroup:function(e,r){var s=this.ctx,n=e.width,i=e.height,a=this.cachedCanvases.getCanvas("inlineImage",n,i);t(a.context,e);for(var o=0,l=r.length;o&lt;l;o++){var c=r[o];if(s.save(),s.transform.apply(s,c.transform),s.scale(1,-1),s.drawImage(a.canvas,c.x,c.y,c.w,c.h,0,-1,1,1),this.imageLayer){var h=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:e,left:h[0],top:h[1],width:n,height:i})}s.restore()}},paintSolidColorImageMask:function(){this.ctx.fillRect(0,0,1,1)},paintXObject:function(){(0,s.warn)("Unsupported 'paintXObject' command.")},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){},beginMarkedContentProps:function(e,t){},endMarkedContent:function(){},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&amp;&amp;(this.pendingClip===A?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth(e){if(null===this._cachedGetSinglePixelWidth){const e=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1],e[2]*e[2]+e[3]*e[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var r=this.ctx.mozCurrentTransform;return[r[0]*e+r[2]*t+r[4],r[1]*e+r[3]*t+r[5]]}},s.OPS)e.prototype[s.OPS[b]]=e.prototype[b];return e}();t.CanvasGraphics=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=n[e[0]];if(!t)throw new Error("Unknown IR type: "+e[0]);return t.fromIR(e)},t.TilingPattern=void 0;var s=r(2),n={};function i(e,t){if(!t||"undefined"==typeof Path2D)return;const r=t[2]-t[0],s=t[3]-t[1],n=new Path2D;n.rect(t[0],t[1],r,s),e.clip(n)}n.RadialAxial={fromIR:function(e){var t=e[1],r=e[2],s=e[3],n=e[4],a=e[5],o=e[6],l=e[7];return{type:"Pattern",getPattern:function(e){var c;i(e,r),"axial"===t?c=e.createLinearGradient(n[0],n[1],a[0],a[1]):"radial"===t&amp;&amp;(c=e.createRadialGradient(n[0],n[1],o,a[0],a[1],l));for(var h=0,d=s.length;h&lt;d;++h){var u=s[h];c.addColorStop(u[0],u[1])}return c}}}};var a=function(){function e(e,t,r,s,n,i,a,o){var l,c=t.coords,h=t.colors,d=e.data,u=4*e.width;c[r+1]&gt;c[s+1]&amp;&amp;(l=r,r=s,s=l,l=i,i=a,a=l),c[s+1]&gt;c[n+1]&amp;&amp;(l=s,s=n,n=l,l=a,a=o,o=l),c[r+1]&gt;c[s+1]&amp;&amp;(l=r,r=s,s=l,l=i,i=a,a=l);var p=(c[r]+t.offsetX)*t.scaleX,g=(c[r+1]+t.offsetY)*t.scaleY,f=(c[s]+t.offsetX)*t.scaleX,m=(c[s+1]+t.offsetY)*t.scaleY,A=(c[n]+t.offsetX)*t.scaleX,b=(c[n+1]+t.offsetY)*t.scaleY;if(!(g&gt;=b))for(var _,y,v,S,x,C,P,k,R=h[i],w=h[i+1],T=h[i+2],E=h[a],F=h[a+1],L=h[a+2],I=h[o],M=h[o+1],O=h[o+2],N=Math.round(g),D=Math.round(b),j=N;j&lt;=D;j++){if(j&lt;m){let e;e=j&lt;g?0:g===m?1:(g-j)/</span>(g-m</span>),<span class="code-params">_</span>=<span class="code-params">p</span>-(<span class="code-params">p-f</span>)*<span class="code-params">e</span>,<span class="code-params">y</span>=<span class="code-params">R</span>-(<span class="code-params">R-E</span>)*<span class="code-params">e</span>,<span class="code-params">v</span>=<span class="code-params">w</span>-(<span class="code-params">w-F</span>)*<span class="code-params">e</span>,<span class="code-params">S</span>=<span class="code-params">T</span>-(<span class="code-params">T-L</span>)*<span class="code-params">e</span>}<span class="code-params">else</span>{<span class="code-params">let</span> <span class="code-params">e</span>;<span class="code-params">e</span>=<span class="code-params">j</span>&gt;<span class="code-params">b</span>?1:<span class="code-params">m</span>===<span class="code-params">b</span>?0:(<span class="code-params">m-j</span>)/(<span class="code-params">m-b</span>),<span class="code-params">_</span>=<span class="code-params">f</span>-(<span class="code-params">f-A</span>)*<span class="code-params">e</span>,<span class="code-params">y</span>=<span class="code-params">E</span>-(<span class="code-params">E-I</span>)*<span class="code-params">e</span>,<span class="code-params">v</span>=<span class="code-params">F</span>-(<span class="code-params">F-M</span>)*<span class="code-params">e</span>,<span class="code-params">S</span>=<span class="code-params">L</span>-(<span class="code-params">L-O</span>)*<span class="code-params">e</span>}<span class="code-params">let</span> <span class="code-params">e</span>;<span class="code-params">e</span>=<span class="code-params">j</span>&lt;<span class="code-params">g</span>?0:<span class="code-params">j</span>&gt;<span class="code-params">b</span>?1:(<span class="code-params">g-j</span>)/(<span class="code-params">g-b</span>),<span class="code-params">x</span>=<span class="code-params">p</span>-(<span class="code-params">p-A</span>)*<span class="code-params">e</span>,<span class="code-params">C</span>=<span class="code-params">R</span>-(<span class="code-params">R-I</span>)*<span class="code-params">e</span>,<span class="code-params">P</span>=<span class="code-params">w</span>-(<span class="code-params">w-M</span>)*<span class="code-params">e</span>,<span class="code-params">k</span>=<span class="code-params">T</span>-(<span class="code-params">T-O</span>)*<span class="code-params">e</span>;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> U=<span class="code-built_in">Math</span>.round(<span class="code-built_in">Math</span>.min(_,x</span>)),<span class="code-params">q</span>=<span class="code-params">Math</span>.<span class="code-params">round</span>(<span class="code-params"><span class="code-built_in">Math</span>.max(_,x</span>)),<span class="code-params">W</span>=<span class="code-params">u</span>*<span class="code-params">j</span>+4*<span class="code-params">U</span>,<span class="code-params">G</span>=<span class="code-params">U</span>;<span class="code-params">G</span>&lt;=<span class="code-params">q</span>;<span class="code-params">G</span>++)<span class="code-params">e</span>=(<span class="code-params">_-G</span>)/(<span class="code-params">_-x</span>),<span class="code-params">e</span>&lt;0?<span class="code-params">e</span>=0:<span class="code-params">e</span>&gt;1&amp;&amp;(<span class="code-params">e=<span class="code-number">1</span></span>),<span class="code-params">d</span>[<span class="code-params">W</span>++]=<span class="code-params">y</span>-(<span class="code-params">y-C</span>)*<span class="code-params">e</span>|0,<span class="code-params">d</span>[<span class="code-params">W</span>++]=<span class="code-params">v</span>-(<span class="code-params">v-P</span>)*<span class="code-params">e</span>|0,<span class="code-params">d</span>[<span class="code-params">W</span>++]=<span class="code-params">S</span>-(<span class="code-params">S-k</span>)*<span class="code-params">e</span>|0,<span class="code-params">d</span>[<span class="code-params">W</span>++]=255}}<span class="code-params">function</span> <span class="code-params">t</span>(<span class="code-params">t,r,s</span>){<span class="code-params">var</span> <span class="code-params">n</span>,<span class="code-params">i</span>,<span class="code-params">a</span>=<span class="code-params">r</span>.<span class="code-params">coords</span>,<span class="code-params">o</span>=<span class="code-params">r</span>.<span class="code-params">colors</span>;<span class="code-params">switch</span>(<span class="code-params">r.type</span>){<span class="code-params">case</span>"<span class="code-params">lattice</span>":<span class="code-params">var</span> <span class="code-params">l</span>=<span class="code-params">r</span>.<span class="code-params">verticesPerRow</span>,<span class="code-params">c</span>=<span class="code-params">Math</span>.<span class="code-params">floor</span>(<span class="code-params">a.length<span class="code-regexp">/l)-1,h=l-1;for(n=0;n&lt;c;n++)for(var d=n*l,u=0;u&lt;h;u++,d++)e(t,s,a[d],a[d+1],a[d+l],o[d],o[d+1],o[d+l]),e(t,s,a[d+l+1],a[d+1],a[d+l],o[d+l+1],o[d+1],o[d+l]);break;case"triangles":for(n=0,i=a.length;n&lt;i;n+=3)e(t,s,a[n],a[n+1],a[n+2],o[n],o[n+1],o[n+2]);break;default:throw new Error("illegal figure")}}return function(e,r,s,n,i,a,o,l){var c,h,d,u,p=Math.floor(e[0]),g=Math.floor(e[1]),f=Math.ceil(e[2])-p,m=Math.ceil(e[3])-g,A=Math.min(Math.ceil(Math.abs(f*r[0]*1.1)),3e3),b=Math.min(Math.ceil(Math.abs(m*r[1]*1.1)),3e3),_=f/</span>A,y=m<span class="code-regexp">/b,v={coords:s,colors:n,offsetX:-p,offsetY:-g,scaleX:1/</span>_,scaleY:<span class="code-number">1</span><span class="code-regexp">/y},S=A+4,x=b+4;if(l.isEnabled)c=l.drawFigures({width:A,height:b,backgroundColor:a,figures:i,context:v}),(h=o.getCanvas("mesh",S,x,!1)).context.drawImage(c,2,2),c=h.canvas;else{var C=(h=o.getCanvas("mesh",S,x,!1)).context,P=C.createImageData(A,b);if(a){var k=P.data;for(d=0,u=k.length;d&lt;u;d+=4)k[d]=a[0],k[d+1]=a[1],k[d+2]=a[2],k[d+3]=255}for(d=0;d&lt;i.length;d++)t(P,i[d],v);C.putImageData(P,2,2),c=h.canvas}return{canvas:c,offsetX:p-2*_,offsetY:g-2*y,scaleX:_,scaleY:y}}}();n.Mesh={fromIR:function(e){var t=e[2],r=e[3],n=e[4],o=e[5],l=e[6],c=e[7],h=e[8];return{type:"Pattern",getPattern:function(e,d,u){var p;if(i(e,c),u)p=s.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(p=s.Util.singularValueDecompose2dScale(d.baseTransform),l){var g=s.Util.singularValueDecompose2dScale(l);p=[p[0]*g[0],p[1]*g[1]]}var f=a(o,p,t,r,n,u?null:h,d.cachedCanvases,d.webGLContext);return u||(e.setTransform.apply(e,d.baseTransform),l&amp;&amp;e.transform.apply(e,l)),e.translate(f.offsetX,f.offsetY),e.scale(f.scaleX,f.scaleY),e.createPattern(f.canvas,"no-repeat")}}}},n.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var o=function(){var e=1,t=2;function r(e,t,r,s,n){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=s,this.baseTransform=n,this.type="Pattern",this.ctx=r}return r.prototype={createPatternCanvas:function(e){var t=this.operatorList,r=this.bbox,n=this.xstep,i=this.ystep,a=this.paintType,o=this.tilingType,l=this.color,c=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+o);var h=r[0],d=r[1],u=r[2],p=r[3],g=s.Util.singularValueDecompose2dScale(this.matrix),f=s.Util.singularValueDecompose2dScale(this.baseTransform),m=[g[0]*f[0],g[1]*f[1]],A=this.getSizeAndScale(n,this.ctx.canvas.width,m[0]),b=this.getSizeAndScale(i,this.ctx.canvas.height,m[1]),_=e.cachedCanvases.getCanvas("pattern",A.size,b.size,!0),y=_.context,v=c.createCanvasGraphics(y);return v.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(v,a,l),v.transform(A.scale,0,0,b.scale,0,0),v.transform(1,0,0,1,-h,-d),this.clipBbox(v,r,h,d,u,p),v.executeOperatorList(t),this.ctx.transform(1,0,0,1,h,d),this.ctx.scale(1/</span>A.scale,<span class="code-number">1</span><span class="code-regexp">/b.scale),_.canvas},getSizeAndScale:function(e,t,r){e=Math.abs(e);var s=Math.max(3e3,t),n=Math.ceil(e*r);return n&gt;=s?n=s:r=n/</span>e,{scale:r,size:n}},clipBbox:<span class="code-keyword">function</span>(e,t,r,s,n,i</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-built_in">Array</span>.isArray(t</span>)&amp;&amp;4===<span class="code-params">t</span>.<span class="code-params">length</span>){<span class="code-params">var</span> <span class="code-params">a</span>=<span class="code-params">n</span>-<span class="code-params">r</span>,<span class="code-params">o</span>=<span class="code-params">i</span>-<span class="code-params">s</span>;<span class="code-params">e</span>.<span class="code-params">ctx</span>.<span class="code-params">rect</span>(<span class="code-params">r,s,a,o</span>),<span class="code-params">e</span>.<span class="code-params">clip</span><span class="code-params">()</span>,<span class="code-params">e</span>.<span class="code-params">endPath</span><span class="code-params">()</span>}},<span class="code-params">setFillAndStrokeStyleToContext</span>:<span class="code-params">function</span>(<span class="code-params">r,n,i</span>){<span class="code-params">const</span> <span class="code-params">a</span>=<span class="code-params">r</span>.<span class="code-params">ctx</span>,<span class="code-params">o</span>=<span class="code-params">r</span>.<span class="code-params">current</span>;<span class="code-params">switch</span>(<span class="code-params">n</span>){<span class="code-params">case</span> <span class="code-params">e</span>:<span class="code-params">var</span> <span class="code-params">l</span>=<span class="code-params">this</span>.<span class="code-params">ctx</span>;<span class="code-params">a</span>.<span class="code-params">fillStyle</span>=<span class="code-params">l</span>.<span class="code-params">fillStyle</span>,<span class="code-params">a</span>.<span class="code-params">strokeStyle</span>=<span class="code-params">l</span>.<span class="code-params">strokeStyle</span>,<span class="code-params">o</span>.<span class="code-params">fillColor</span>=<span class="code-params">l</span>.<span class="code-params">fillStyle</span>,<span class="code-params">o</span>.<span class="code-params">strokeColor</span>=<span class="code-params">l</span>.<span class="code-params">strokeStyle</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">t</span>:<span class="code-params">var</span> <span class="code-params">c</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">makeCssRgb</span>(<span class="code-params">i[<span class="code-number">0</span>],i[<span class="code-number">1</span>],i[<span class="code-number">2</span>]</span>);<span class="code-params">a</span>.<span class="code-params">fillStyle</span>=<span class="code-params">c</span>,<span class="code-params">a</span>.<span class="code-params">strokeStyle</span>=<span class="code-params">c</span>,<span class="code-params">o</span>.<span class="code-params">fillColor</span>=<span class="code-params">c</span>,<span class="code-params">o</span>.<span class="code-params">strokeColor</span>=<span class="code-params">c</span>;<span class="code-params">break</span>;<span class="code-params">default</span>:<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">s</span>.<span class="code-params">FormatError</span>(<span class="code-params"><span class="code-string">"Unsupported paint type: "</span>+n</span>)}},<span class="code-params">getPattern</span>:<span class="code-params">function</span>(<span class="code-params">e,t</span>){(<span class="code-params">e=<span class="code-keyword">this</span>.ctx</span>).<span class="code-params">setTransform</span>.<span class="code-params">apply</span>(<span class="code-params">e,<span class="code-keyword">this</span>.baseTransform</span>),<span class="code-params">e</span>.<span class="code-params">transform</span>.<span class="code-params">apply</span>(<span class="code-params">e,<span class="code-keyword">this</span>.matrix</span>);<span class="code-params">var</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">createPatternCanvas</span>(<span class="code-params">t</span>);<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">createPattern</span>(<span class="code-params">r,<span class="code-string">"repeat"</span></span>)}},<span class="code-params">r</span>}<span class="code-params">()</span>;<span class="code-params">t</span>.<span class="code-params">TilingPattern</span>=<span class="code-params">o</span>},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">GlobalWorkerOptions</span>=<span class="code-params">void</span> 0;<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>);<span class="code-params">t</span>.<span class="code-params">GlobalWorkerOptions</span>=<span class="code-params">s</span>,<span class="code-params">s</span>.<span class="code-params">workerPort</span>=<span class="code-params">void</span> 0===<span class="code-params">s</span>.<span class="code-params">workerPort</span>?<span class="code-params">null</span>:<span class="code-params">s</span>.<span class="code-params">workerPort</span>,<span class="code-params">s</span>.<span class="code-params">workerSrc</span>=<span class="code-params">void</span> 0===<span class="code-params">s</span>.<span class="code-params">workerSrc</span>?"":<span class="code-params">s</span>.<span class="code-params">workerSrc</span>},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">MessageHandler</span>=<span class="code-params">void</span> 0;<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">2</span></span>);<span class="code-params">const</span> <span class="code-params">n</span>=1,<span class="code-params">i</span>=2,<span class="code-params">a</span>=1,<span class="code-params">o</span>=2,<span class="code-params">l</span>=3,<span class="code-params">c</span>=4,<span class="code-params">h</span>=5,<span class="code-params">d</span>=6,<span class="code-params">u</span>=7,<span class="code-params">p</span>=8;<span class="code-params">function</span> <span class="code-params">g</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"object"</span>!=<span class="code-keyword">typeof</span> e||<span class="code-literal">null</span>===e</span>)<span class="code-params">return</span> <span class="code-params">e</span>;<span class="code-params">switch</span>(<span class="code-params">e.name</span>){<span class="code-params">case</span>"<span class="code-params">AbortException</span>":<span class="code-params">return</span> <span class="code-params">new</span> <span class="code-params">s</span>.<span class="code-params">AbortException</span>(<span class="code-params">e.message</span>);<span class="code-params">case</span>"<span class="code-params">MissingPDFException</span>":<span class="code-params">return</span> <span class="code-params">new</span> <span class="code-params">s</span>.<span class="code-params">MissingPDFException</span>(<span class="code-params">e.message</span>);<span class="code-params">case</span>"<span class="code-params">UnexpectedResponseException</span>":<span class="code-params">return</span> <span class="code-params">new</span> <span class="code-params">s</span>.<span class="code-params">UnexpectedResponseException</span>(<span class="code-params">e.message,e.status</span>);<span class="code-params">case</span>"<span class="code-params">UnknownErrorException</span>":<span class="code-params">return</span> <span class="code-params">new</span> <span class="code-params">s</span>.<span class="code-params">UnknownErrorException</span>(<span class="code-params">e.message,e.details</span>);<span class="code-params">default</span>:<span class="code-params">return</span> <span class="code-params">new</span> <span class="code-params">s</span>.<span class="code-params">UnknownErrorException</span>(<span class="code-params">e.message,e.toString(</span>))}}<span class="code-params">t</span>.<span class="code-params">MessageHandler</span>=<span class="code-params">class</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t,r</span>){<span class="code-params">this</span>.<span class="code-params">sourceName</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">targetName</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">comObj</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">callbackId</span>=1,<span class="code-params">this</span>.<span class="code-params">streamId</span>=1,<span class="code-params">this</span>.<span class="code-params">postMessageTransfers</span>=!0,<span class="code-params">this</span>.<span class="code-params">streamSinks</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>),<span class="code-params">this</span>.<span class="code-params">streamControllers</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>),<span class="code-params">this</span>.<span class="code-params">callbackCapabilities</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>),<span class="code-params">this</span>.<span class="code-params">actionHandler</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>),<span class="code-params">this</span>.<span class="code-params">_onComObjOnMessage</span>=<span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">const</span> t=e.data;<span class="code-keyword">if</span>(t.targetName!==<span class="code-keyword">this</span>.sourceName)<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(t.stream)<span class="code-keyword">return</span> <span class="code-keyword">void</span> <span class="code-keyword">this</span>._processStreamMessage(t);<span class="code-keyword">if</span>(t.callback){<span class="code-keyword">const</span> e=t.callbackId,r=<span class="code-keyword">this</span>.callbackCapabilities[e];<span class="code-keyword">if</span>(!r)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Cannot resolve callback "</span>+e);<span class="code-keyword">if</span>(<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.callbackCapabilities[e],t.callback===n)r.resolve(t.data);<span class="code-keyword">else</span>{<span class="code-keyword">if</span>(t.callback!==i)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unexpected callback case"</span>);r.reject(g(t.reason))}<span class="code-keyword">return</span>}<span class="code-keyword">const</span> s=<span class="code-keyword">this</span>.actionHandler[t.action];<span class="code-keyword">if</span>(!s)<span class="code-keyword">throw</span> <span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"Unknown action from worker: "</span>+t.action);<span class="code-keyword">if</span>(t.callbackId){<span class="code-keyword">const</span> e=<span class="code-keyword">this</span>.sourceName,a=t.sourceName;<span class="code-keyword">new</span> <span class="code-built_in">Promise</span>(<span class="code-function">(<span class="code-params"><span class="code-keyword">function</span>(e</span>){<span class="code-params">e</span>(<span class="code-params">s(t.data</span>))})).<span class="code-params">then</span>(<span class="code-params">(<span class="code-keyword">function</span>(s</span>){<span class="code-params">r</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:e,targetName:a,callback:n,callbackId:t.callbackId,data:s}</span>)}),(<span class="code-params"><span class="code-keyword">function</span>(s</span>){<span class="code-params">r</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:e,targetName:a,callback:i,callbackId:t.callbackId,reason:g(s</span>)})}))}<span class="code-params">else</span> <span class="code-params">t</span>.<span class="code-params">streamId</span>?<span class="code-params">this</span>.<span class="code-params">_createStreamSink</span>(<span class="code-params">t</span>):<span class="code-params">s</span>(<span class="code-params">t.data</span>)},<span class="code-params">r</span>.<span class="code-params">addEventListener</span>(<span class="code-params"><span class="code-string">"message"</span>,<span class="code-keyword">this</span>._onComObjOnMessage</span>)}<span class="code-params">on</span>(<span class="code-params">e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">actionHandler</span>;<span class="code-params">if</span>(<span class="code-params">r[e]</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">`There is already an actionName called "<span class="code-subst">${e}</span>"`</span></span>);<span class="code-params">r</span>[<span class="code-params">e</span>]=<span class="code-params">t</span>}<span class="code-params">send</span>(<span class="code-params">e,t,r</span>){<span class="code-params">this</span>.<span class="code-params">_postMessage</span>(<span class="code-params">{sourceName:<span class="code-keyword">this</span>.sourceName,targetName:<span class="code-keyword">this</span>.targetName,action:e,data:t},r</span>)}<span class="code-params">sendWithPromise</span>(<span class="code-params">e,t,r</span>){<span class="code-params">const</span> <span class="code-params">n</span>=<span class="code-params">this</span>.<span class="code-params">callbackId</span>++,<span class="code-params">i</span>=(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>;<span class="code-params">this</span>.<span class="code-params">callbackCapabilities</span>[<span class="code-params">n</span>]=<span class="code-params">i</span>;<span class="code-params">try</span>{<span class="code-params">this</span>.<span class="code-params">_postMessage</span>(<span class="code-params">{sourceName:<span class="code-keyword">this</span>.sourceName,targetName:<span class="code-keyword">this</span>.targetName,action:e,callbackId:n,data:t},r</span>)}<span class="code-params">catch</span>(<span class="code-params">e</span>){<span class="code-params">i</span>.<span class="code-params">reject</span>(<span class="code-params">e</span>)}<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">promise</span>}<span class="code-params">sendWithStream</span>(<span class="code-params">e,t,r,n</span>){<span class="code-params">const</span> <span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">streamId</span>++,<span class="code-params">o</span>=<span class="code-params">this</span>.<span class="code-params">sourceName</span>,<span class="code-params">l</span>=<span class="code-params">this</span>.<span class="code-params">targetName</span>,<span class="code-params">c</span>=<span class="code-params">this</span>.<span class="code-params">comObj</span>;<span class="code-params">return</span> <span class="code-params">new</span> <span class="code-params">ReadableStream</span>(<span class="code-params">{start:r=&gt;{<span class="code-keyword">const</span> a=(<span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>;<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">i</span>]={<span class="code-params">controller</span>:<span class="code-params">r</span>,<span class="code-params">startCall</span>:<span class="code-params">a</span>,<span class="code-params">pullCall</span>:<span class="code-params">null</span>,<span class="code-params">cancelCall</span>:<span class="code-params">null</span>,<span class="code-params">isClosed</span>:!1},<span class="code-params">this</span>.<span class="code-params">_postMessage</span>(<span class="code-params">{sourceName:o,targetName:l,action:e,streamId:i,data:t,desiredSize:r.desiredSize},n</span>),<span class="code-params">a</span>.<span class="code-params">promise</span>},<span class="code-params">pull</span>:<span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">const</span> t=<span class="code-function">(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>;<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">i</span>].<span class="code-params">pullCall</span>=<span class="code-params">t</span>,<span class="code-params">c</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:o,targetName:l,stream:d,streamId:i,desiredSize:e.desiredSize}</span>),<span class="code-params">t</span>.<span class="code-params">promise</span>},<span class="code-params">cancel</span>:<span class="code-params">e</span>=&gt;</span>{(<span class="code-number">0</span>,s.assert)(e <span class="code-keyword">instanceof</span> <span class="code-built_in">Error</span>,<span class="code-string">"cancel must have a valid reason"</span>);<span class="code-keyword">const</span> t=<span class="code-function">(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>;<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">i</span>].<span class="code-params">cancelCall</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">i</span>].<span class="code-params">isClosed</span>=!0,<span class="code-params">c</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:o,targetName:l,stream:a,streamId:i,reason:g(e</span>)}),<span class="code-params">t</span>.<span class="code-params">promise</span>}},<span class="code-params">r</span>)}<span class="code-params">_createStreamSink</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>,<span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">actionHandler</span>[<span class="code-params">e</span>.<span class="code-params">action</span>],<span class="code-params">n</span>=<span class="code-params">e</span>.<span class="code-params">streamId</span>,<span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">sourceName</span>,<span class="code-params">a</span>=<span class="code-params">e</span>.<span class="code-params">sourceName</span>,<span class="code-params">o</span>=<span class="code-params">this</span>.<span class="code-params">comObj</span>,<span class="code-params">d</span>={<span class="code-params">enqueue</span>(<span class="code-params">e,r=<span class="code-number">1</span>,o</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>.isCancelled</span>)<span class="code-params">return</span>;<span class="code-params">const</span> <span class="code-params">l</span>=<span class="code-params">this</span>.<span class="code-params">desiredSize</span>;<span class="code-params">this</span>.<span class="code-params">desiredSize</span>-=<span class="code-params">r</span>,<span class="code-params">l</span>&gt;0&amp;&amp;<span class="code-params">this</span>.<span class="code-params">desiredSize</span>&lt;=0&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.sinkCapability=(<span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">ready</span>=<span class="code-params">this</span>.<span class="code-params">sinkCapability</span>.<span class="code-params">promise</span>),<span class="code-params">t</span>.<span class="code-params">_postMessage</span>(<span class="code-params">{sourceName:i,targetName:a,stream:c,streamId:n,chunk:e},o</span>)},<span class="code-params">close</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">isCancelled</span>||(<span class="code-params"><span class="code-keyword">this</span>.isCancelled=!<span class="code-number">0</span>,o.postMessage({sourceName:i,targetName:a,stream:l,streamId:n}</span>),<span class="code-params">delete</span> <span class="code-params">t</span>.<span class="code-params">streamSinks</span>[<span class="code-params">n</span>])},<span class="code-params">error</span>(<span class="code-params">e</span>){(<span class="code-params"><span class="code-number">0</span>,s.assert</span>)(<span class="code-params">e <span class="code-keyword">instanceof</span> <span class="code-built_in">Error</span>,<span class="code-string">"error must have a valid reason"</span></span>),<span class="code-params">this</span>.<span class="code-params">isCancelled</span>||(<span class="code-params"><span class="code-keyword">this</span>.isCancelled=!<span class="code-number">0</span>,o.postMessage({sourceName:i,targetName:a,stream:h,streamId:n,reason:g(e</span>)}))},<span class="code-params">sinkCapability</span>:(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">onPull</span>:<span class="code-params">null</span>,<span class="code-params">onCancel</span>:<span class="code-params">null</span>,<span class="code-params">isCancelled</span>:!1,<span class="code-params">desiredSize</span>:<span class="code-params">e</span>.<span class="code-params">desiredSize</span>,<span class="code-params">ready</span>:<span class="code-params">null</span>};<span class="code-params">d</span>.<span class="code-params">sinkCapability</span>.<span class="code-params">resolve</span><span class="code-params">()</span>,<span class="code-params">d</span>.<span class="code-params">ready</span>=<span class="code-params">d</span>.<span class="code-params">sinkCapability</span>.<span class="code-params">promise</span>,<span class="code-params">this</span>.<span class="code-params">streamSinks</span>[<span class="code-params">n</span>]=<span class="code-params">d</span>,<span class="code-params">new</span> <span class="code-params">Promise</span>(<span class="code-params">(<span class="code-keyword">function</span>(t</span>){<span class="code-params">t</span>(<span class="code-params">r(e.data,d</span>))})).<span class="code-params">then</span>(<span class="code-params">(<span class="code-keyword">function</span>(</span>){<span class="code-params">o</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:i,targetName:a,stream:p,streamId:n,success:!<span class="code-number">0</span>}</span>)}),(<span class="code-params"><span class="code-keyword">function</span>(e</span>){<span class="code-params">o</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:i,targetName:a,stream:p,streamId:n,reason:g(e</span>)})}))}<span class="code-params">_processStreamMessage</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">streamId</span>,<span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">sourceName</span>,<span class="code-params">n</span>=<span class="code-params">e</span>.<span class="code-params">sourceName</span>,<span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">comObj</span>;<span class="code-params">switch</span>(<span class="code-params">e.stream</span>){<span class="code-params">case</span> <span class="code-params">p</span>:<span class="code-params">e</span>.<span class="code-params">success</span>?<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">startCall</span>.<span class="code-params">resolve</span><span class="code-params">()</span>:<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">startCall</span>.<span class="code-params">reject</span>(<span class="code-params">g(e.reason</span>));<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">u</span>:<span class="code-params">e</span>.<span class="code-params">success</span>?<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">pullCall</span>.<span class="code-params">resolve</span><span class="code-params">()</span>:<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">pullCall</span>.<span class="code-params">reject</span>(<span class="code-params">g(e.reason</span>));<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">d</span>:<span class="code-params">if</span>(<span class="code-params">!<span class="code-keyword">this</span>.streamSinks[t]</span>){<span class="code-params">i</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:r,targetName:n,stream:u,streamId:t,success:!<span class="code-number">0</span>}</span>);<span class="code-params">break</span>}<span class="code-params">this</span>.<span class="code-params">streamSinks</span>[<span class="code-params">t</span>].<span class="code-params">desiredSize</span>&lt;=0&amp;&amp;<span class="code-params">e</span>.<span class="code-params">desiredSize</span>&gt;0&amp;&amp;<span class="code-params">this</span>.<span class="code-params">streamSinks</span>[<span class="code-params">t</span>].<span class="code-params">sinkCapability</span>.<span class="code-params">resolve</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">streamSinks</span>[<span class="code-params">t</span>].<span class="code-params">desiredSize</span>=<span class="code-params">e</span>.<span class="code-params">desiredSize</span>;<span class="code-params">const</span>{<span class="code-params">onPull</span>:<span class="code-params">f</span>}=<span class="code-params">this</span>.<span class="code-params">streamSinks</span>[<span class="code-params">e</span>.<span class="code-params">streamId</span>];<span class="code-params">new</span> <span class="code-params">Promise</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">e</span>(<span class="code-params">f&amp;&amp;f(</span>))})).<span class="code-params">then</span>(<span class="code-params">(<span class="code-keyword">function</span>(</span>){<span class="code-params">i</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:r,targetName:n,stream:u,streamId:t,success:!<span class="code-number">0</span>}</span>)}),(<span class="code-params"><span class="code-keyword">function</span>(e</span>){<span class="code-params">i</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:r,targetName:n,stream:u,streamId:t,reason:g(e</span>)})}));<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">c</span>:<span class="code-params">if</span>(<span class="code-params">(<span class="code-number">0</span>,s.assert</span>)(<span class="code-params"><span class="code-keyword">this</span>.streamControllers[t],<span class="code-string">"enqueue should have stream controller"</span></span>),<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">isClosed</span>)<span class="code-params">break</span>;<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">controller</span>.<span class="code-params">enqueue</span>(<span class="code-params">e.chunk</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">l</span>:<span class="code-params">if</span>(<span class="code-params">(<span class="code-number">0</span>,s.assert</span>)(<span class="code-params"><span class="code-keyword">this</span>.streamControllers[t],<span class="code-string">"close should have stream controller"</span></span>),<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">isClosed</span>)<span class="code-params">break</span>;<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">isClosed</span>=!0,<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">controller</span>.<span class="code-params">close</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">_deleteStreamController</span>(<span class="code-params">t</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">h</span>:(<span class="code-params"><span class="code-number">0</span>,s.assert</span>)(<span class="code-params"><span class="code-keyword">this</span>.streamControllers[t],<span class="code-string">"error should have stream controller"</span></span>),<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">controller</span>.<span class="code-params">error</span>(<span class="code-params">g(e.reason</span>)),<span class="code-params">this</span>.<span class="code-params">_deleteStreamController</span>(<span class="code-params">t</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">o</span>:<span class="code-params">e</span>.<span class="code-params">success</span>?<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">cancelCall</span>.<span class="code-params">resolve</span><span class="code-params">()</span>:<span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">t</span>].<span class="code-params">cancelCall</span>.<span class="code-params">reject</span>(<span class="code-params">g(e.reason</span>)),<span class="code-params">this</span>.<span class="code-params">_deleteStreamController</span>(<span class="code-params">t</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">a</span>:<span class="code-params">if</span>(<span class="code-params">!<span class="code-keyword">this</span>.streamSinks[t]</span>)<span class="code-params">break</span>;<span class="code-params">const</span>{<span class="code-params">onCancel</span>:<span class="code-params">m</span>}=<span class="code-params">this</span>.<span class="code-params">streamSinks</span>[<span class="code-params">e</span>.<span class="code-params">streamId</span>];<span class="code-params">new</span> <span class="code-params">Promise</span>(<span class="code-params">(<span class="code-keyword">function</span>(t</span>){<span class="code-params">t</span>(<span class="code-params">m&amp;&amp;m(g(e.reason</span>)))})).<span class="code-params">then</span>(<span class="code-params">(<span class="code-keyword">function</span>(</span>){<span class="code-params">i</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:r,targetName:n,stream:o,streamId:t,success:!<span class="code-number">0</span>}</span>)}),(<span class="code-params"><span class="code-keyword">function</span>(e</span>){<span class="code-params">i</span>.<span class="code-params">postMessage</span>(<span class="code-params">{sourceName:r,targetName:n,stream:o,streamId:t,reason:g(e</span>)})})),<span class="code-params">this</span>.<span class="code-params">streamSinks</span>[<span class="code-params">t</span>].<span class="code-params">sinkCapability</span>.<span class="code-params">reject</span>(<span class="code-params">g(e.reason</span>)),<span class="code-params">this</span>.<span class="code-params">streamSinks</span>[<span class="code-params">t</span>].<span class="code-params">isCancelled</span>=!0,<span class="code-params">delete</span> <span class="code-params">this</span>.<span class="code-params">streamSinks</span>[<span class="code-params">t</span>];<span class="code-params">break</span>;<span class="code-params">default</span>:<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Unexpected stream case"</span></span>)}}<span class="code-params">async</span> <span class="code-params">_deleteStreamController</span>(<span class="code-params">e</span>){<span class="code-params">await</span> <span class="code-params">Promise</span>.<span class="code-params">allSettled</span>(<span class="code-params">[<span class="code-keyword">this</span>.streamControllers[e].startCall,<span class="code-keyword">this</span>.streamControllers[e].pullCall,<span class="code-keyword">this</span>.streamControllers[e].cancelCall].map((<span class="code-keyword">function</span>(e</span>){<span class="code-params">return</span> <span class="code-params">e</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">promise</span>}))),<span class="code-params">delete</span> <span class="code-params">this</span>.<span class="code-params">streamControllers</span>[<span class="code-params">e</span>]}<span class="code-params">_postMessage</span>(<span class="code-params">e,t</span>){<span class="code-params">t</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">postMessageTransfers</span>?<span class="code-params">this</span>.<span class="code-params">comObj</span>.<span class="code-params">postMessage</span>(<span class="code-params">e,t</span>):<span class="code-params">this</span>.<span class="code-params">comObj</span>.<span class="code-params">postMessage</span>(<span class="code-params">e</span>)}<span class="code-params">destroy</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">comObj</span>.<span class="code-params">removeEventListener</span>(<span class="code-params"><span class="code-string">"message"</span>,<span class="code-keyword">this</span>._onComObjOnMessage</span>)}}},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">Metadata</span>=<span class="code-params">void</span> 0;<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">2</span></span>),<span class="code-params">n</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">13</span></span>);<span class="code-params">t</span>.<span class="code-params">Metadata</span>=<span class="code-params">class</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){(<span class="code-params"><span class="code-number">0</span>,s.assert</span>)(<span class="code-params"><span class="code-string">"string"</span>==<span class="code-keyword">typeof</span> e,<span class="code-string">"Metadata: input is not a string"</span></span>),<span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">_repair</span>(<span class="code-params">e</span>);<span class="code-params">const</span> <span class="code-params">t</span>=(<span class="code-params"><span class="code-keyword">new</span> n.SimpleXMLParser</span>).<span class="code-params">parseFromString</span>(<span class="code-params">e</span>);<span class="code-params">this</span>.<span class="code-params">_metadataMap</span>=<span class="code-params">new</span> <span class="code-params">Map</span>,<span class="code-params">t</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_parse</span>(<span class="code-params">t</span>)}<span class="code-params">_repair</span>(<span class="code-params">e</span>){<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">replace</span>(<span class="code-params"><span class="code-regexp">/^[^&lt;]+/</span>,<span class="code-string">""</span></span>).<span class="code-params">replace</span>(<span class="code-params"><span class="code-regexp">/&gt;\\376\\377([^&lt;]+)/g</span>,(<span class="code-keyword">function</span>(e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">t</span>.<span class="code-params">replace</span>(<span class="code-params"><span class="code-regexp">/\\([0-3])([0-7])([0-7])/g</span>,(<span class="code-keyword">function</span>(e,t,r,s</span>){<span class="code-params">return</span> <span class="code-params">String</span>.<span class="code-params">fromCharCode</span>(<span class="code-params"><span class="code-number">64</span>*t+<span class="code-number">8</span>*r+<span class="code-number">1</span>*s</span>)})).<span class="code-params">replace</span>(<span class="code-params"><span class="code-regexp">/&amp;(amp|apos|gt|lt|quot);/g</span>,(<span class="code-keyword">function</span>(e,t</span>){<span class="code-params">switch</span>(<span class="code-params">t</span>){<span class="code-params">case</span>"<span class="code-params">amp</span>":<span class="code-params">return</span>"&amp;";<span class="code-params">case</span>"<span class="code-params">apos</span>":<span class="code-params">return</span>"'";<span class="code-params">case</span>"<span class="code-params">gt</span>":<span class="code-params">return</span>"&gt;";<span class="code-params">case</span>"<span class="code-params">lt</span>":<span class="code-params">return</span>"&lt;";<span class="code-params">case</span>"<span class="code-params">quot</span>":<span class="code-params">return</span>'"'}<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">`_repair: <span class="code-subst">${t}</span> isn't defined.`</span></span>)}));<span class="code-params">let</span> <span class="code-params">s</span>="";<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> e=<span class="code-number">0</span>,t=r.length;e&lt;t;e+=<span class="code-number">2</span></span>){<span class="code-params">const</span> <span class="code-params">t</span>=256*<span class="code-params">r</span>.<span class="code-params">charCodeAt</span>(<span class="code-params">e</span>)+<span class="code-params">r</span>.<span class="code-params">charCodeAt</span>(<span class="code-params">e+<span class="code-number">1</span></span>);<span class="code-params">s</span>+=<span class="code-params">t</span>&gt;=32&amp;&amp;<span class="code-params">t</span>&lt;127&amp;&amp;60!==<span class="code-params">t</span>&amp;&amp;62!==<span class="code-params">t</span>&amp;&amp;38!==<span class="code-params">t</span>?<span class="code-params">String</span>.<span class="code-params">fromCharCode</span>(<span class="code-params">t</span>):"&amp;#<span class="code-params">x</span>"+(<span class="code-params"><span class="code-number">65536</span>+t</span>).<span class="code-params">toString</span>(<span class="code-params"><span class="code-number">16</span></span>).<span class="code-params">substring</span>(<span class="code-params"><span class="code-number">1</span></span>)+";"}<span class="code-params">return</span>"&gt;"+<span class="code-params">s</span>}))}<span class="code-params">_parse</span>(<span class="code-params">e</span>){<span class="code-params">let</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">documentElement</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"rdf:rdf"</span>!==t.nodeName.toLowerCase(</span>))<span class="code-params">for</span>(<span class="code-params">t=t.firstChild;t&amp;&amp;<span class="code-string">"rdf:rdf"</span>!==t.nodeName.toLowerCase(</span>);)<span class="code-params">t</span>=<span class="code-params">t</span>.<span class="code-params">nextSibling</span>;<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">t</span>?<span class="code-params">t</span>.<span class="code-params">nodeName</span>.<span class="code-params">toLowerCase</span><span class="code-params">()</span>:<span class="code-params">null</span>;<span class="code-params">if</span>(<span class="code-params">!t||<span class="code-string">"rdf:rdf"</span>!==r||!t.hasChildNodes(</span>))<span class="code-params">return</span>;<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">t</span>.<span class="code-params">childNodes</span>;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> e=<span class="code-number">0</span>,t=s.length;e&lt;t;e++</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">s</span>[<span class="code-params">e</span>];<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"rdf:description"</span>===t.nodeName.toLowerCase(</span>))<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> e=<span class="code-number">0</span>,r=t.childNodes.length;e&lt;r;e++</span>)<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"#text"</span>!==t.childNodes[e].nodeName.toLowerCase(</span>)){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">t</span>.<span class="code-params">childNodes</span>[<span class="code-params">e</span>],<span class="code-params">s</span>=<span class="code-params">r</span>.<span class="code-params">nodeName</span>.<span class="code-params">toLowerCase</span><span class="code-params">()</span>;<span class="code-params">this</span>.<span class="code-params">_metadataMap</span>.<span class="code-params">set</span>(<span class="code-params">s,r.textContent.trim(</span>))}}}<span class="code-params">get</span>(<span class="code-params">e</span>){<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_metadataMap</span>.<span class="code-params">has</span>(<span class="code-params">e</span>)?<span class="code-params">this</span>.<span class="code-params">_metadataMap</span>.<span class="code-params">get</span>(<span class="code-params">e</span>):<span class="code-params">null</span>}<span class="code-params">getAll</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>);<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span>[t,r]<span class="code-keyword">of</span> <span class="code-keyword">this</span>._metadataMap</span>)<span class="code-params">e</span>[<span class="code-params">t</span>]=<span class="code-params">r</span>;<span class="code-params">return</span> <span class="code-params">e</span>}<span class="code-params">has</span>(<span class="code-params">e</span>){<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_metadataMap</span>.<span class="code-params">has</span>(<span class="code-params">e</span>)}}},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">SimpleXMLParser</span>=<span class="code-params">void</span> 0;<span class="code-params">const</span> <span class="code-params">s</span>=0,<span class="code-params">n</span>=-2,<span class="code-params">i</span>=-3,<span class="code-params">a</span>=-4,<span class="code-params">o</span>=-5,<span class="code-params">l</span>=-6,<span class="code-params">c</span>=-9;<span class="code-params">function</span> <span class="code-params">h</span>(<span class="code-params">e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>[<span class="code-params">t</span>];<span class="code-params">return</span>" "===<span class="code-params">r</span>||"\<span class="code-params">n</span>"===<span class="code-params">r</span>||"\<span class="code-params">r</span>"===<span class="code-params">r</span>||"\<span class="code-params">t</span>"===<span class="code-params">r</span>}<span class="code-params">class</span> <span class="code-params">d</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t</span>){<span class="code-params">this</span>.<span class="code-params">nodeName</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">nodeValue</span>=<span class="code-params">t</span>,<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params"><span class="code-keyword">this</span>,<span class="code-string">"parentNode"</span>,{value:<span class="code-literal">null</span>,writable:!<span class="code-number">0</span>}</span>)}<span class="code-params">get</span> <span class="code-params">firstChild</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">childNodes</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">childNodes</span>[0]}<span class="code-params">get</span> <span class="code-params">nextSibling</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">parentNode</span>.<span class="code-params">childNodes</span>;<span class="code-params">if</span>(<span class="code-params">!e</span>)<span class="code-params">return</span>;<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">indexOf</span>(<span class="code-params"><span class="code-keyword">this</span></span>);<span class="code-params">return</span>-1!==<span class="code-params">t</span>?<span class="code-params">e</span>[<span class="code-params">t</span>+1]:<span class="code-params">void</span> 0}<span class="code-params">get</span> <span class="code-params">textContent</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">childNodes</span>?<span class="code-params">this</span>.<span class="code-params">childNodes</span>.<span class="code-params">map</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">textContent</span>})).<span class="code-params">join</span>(<span class="code-params"><span class="code-string">""</span></span>):<span class="code-params">this</span>.<span class="code-params">nodeValue</span>||""}<span class="code-params">hasChildNodes</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">childNodes</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">childNodes</span>.<span class="code-params">length</span>&gt;0}}<span class="code-params">t</span>.<span class="code-params">SimpleXMLParser</span>=<span class="code-params">class</span> <span class="code-params">extends</span> <span class="code-params">class</span>{<span class="code-params">_resolveEntities</span>(<span class="code-params">e</span>){<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">replace</span>(<span class="code-params"><span class="code-regexp">/&amp;([^;]+);/g</span>,(e,t</span>)=&gt;</span>{<span class="code-keyword">if</span>(<span class="code-string">"#x"</span>===t.substring(<span class="code-number">0</span>,<span class="code-number">2</span>))<span class="code-keyword">return</span> <span class="code-built_in">String</span>.fromCharCode(<span class="code-built_in">parseInt</span>(t.substring(<span class="code-number">2</span>),<span class="code-number">16</span>));<span class="code-keyword">if</span>(<span class="code-string">"#"</span>===t.substring(<span class="code-number">0</span>,<span class="code-number">1</span>))<span class="code-keyword">return</span> <span class="code-built_in">String</span>.fromCharCode(<span class="code-built_in">parseInt</span>(t.substring(<span class="code-number">1</span>),<span class="code-number">10</span>));<span class="code-keyword">switch</span>(t){<span class="code-keyword">case</span><span class="code-string">"lt"</span>:<span class="code-keyword">return</span><span class="code-string">"&lt;"</span>;<span class="code-keyword">case</span><span class="code-string">"gt"</span>:<span class="code-keyword">return</span><span class="code-string">"&gt;"</span>;<span class="code-keyword">case</span><span class="code-string">"amp"</span>:<span class="code-keyword">return</span><span class="code-string">"&amp;"</span>;<span class="code-keyword">case</span><span class="code-string">"quot"</span>:<span class="code-keyword">return</span><span class="code-string">'"'</span>}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.onResolveEntity(t)})}_parseContent(e,t){<span class="code-keyword">const</span> r=[];<span class="code-keyword">let</span> s=t;<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(;s&lt;e.length&amp;&amp;h(e,s);)++s}<span class="code-keyword">for</span>(;s&lt;e.length&amp;&amp;!h(e,s)&amp;&amp;<span class="code-string">"&gt;"</span>!==e[s]&amp;&amp;<span class="code-string">"/"</span>!==e[s];)++s;<span class="code-keyword">const</span> i=e.substring(t,s);<span class="code-keyword">for</span>(n();s&lt;e.length&amp;&amp;<span class="code-string">"&gt;"</span>!==e[s]&amp;&amp;<span class="code-string">"/"</span>!==e[s]&amp;&amp;<span class="code-string">"?"</span>!==e[s];){n();<span class="code-keyword">let</span> t=<span class="code-string">""</span>,i=<span class="code-string">""</span>;<span class="code-keyword">for</span>(;s&lt;e.length&amp;&amp;!h(e,s)&amp;&amp;<span class="code-string">"="</span>!==e[s];)t+=e[s],++s;<span class="code-keyword">if</span>(n(),<span class="code-string">"="</span>!==e[s])<span class="code-keyword">return</span> <span class="code-literal">null</span>;++s,n();<span class="code-keyword">const</span> a=e[s];<span class="code-keyword">if</span>(<span class="code-string">'"'</span>!==a&amp;&amp;<span class="code-string">"'"</span>!==a)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">const</span> o=e.indexOf(a,++s);<span class="code-keyword">if</span>(o&lt;<span class="code-number">0</span>)<span class="code-keyword">return</span> <span class="code-literal">null</span>;i=e.substring(s,o),r.push({<span class="code-attr">name</span>:t,<span class="code-attr">value</span>:<span class="code-keyword">this</span>._resolveEntities(i)}),s=o+<span class="code-number">1</span>,n()}<span class="code-keyword">return</span>{<span class="code-attr">name</span>:i,<span class="code-attr">attributes</span>:r,<span class="code-attr">parsed</span>:s-t}}_parseProcessingInstruction(e,t){<span class="code-keyword">let</span> r=t;<span class="code-keyword">for</span>(;r&lt;e.length&amp;&amp;!h(e,r)&amp;&amp;<span class="code-string">"&gt;"</span>!==e[r]&amp;&amp;<span class="code-string">"/"</span>!==e[r];)++r;<span class="code-keyword">const</span> s=e.substring(t,r);!<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">for</span>(;r&lt;e.length&amp;&amp;h(e,r);)++r}();<span class="code-keyword">const</span> n=r;<span class="code-keyword">for</span>(;r&lt;e.length&amp;&amp;<span class="code-function">(<span class="code-params"><span class="code-string">"?"</span>!==e[r]||<span class="code-string">"&gt;"</span>!==e[r+<span class="code-number">1</span>]</span>);)++<span class="code-params">r</span>;<span class="code-params">return</span>{<span class="code-params">name</span>:<span class="code-params">s</span>,<span class="code-params">value</span>:<span class="code-params">e</span>.<span class="code-params">substring</span>(<span class="code-params">n,r</span>),<span class="code-params">parsed</span>:<span class="code-params">r</span>-<span class="code-params">t</span>}}<span class="code-params">parseXml</span>(<span class="code-params">e</span>){<span class="code-params">let</span> <span class="code-params">t</span>=0;<span class="code-params">for</span>(<span class="code-params">;t&lt;e.length;</span>){<span class="code-params">let</span> <span class="code-params">r</span>=<span class="code-params">t</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"&lt;"</span>===e[t]</span>){++<span class="code-params">r</span>;<span class="code-params">let</span> <span class="code-params">t</span>;<span class="code-params">switch</span>(<span class="code-params">e[r]</span>){<span class="code-params">case</span>"/":<span class="code-params">if</span>(<span class="code-params">++r,t=e.indexOf(<span class="code-string">"&gt;"</span>,r</span>),<span class="code-params">t</span>&lt;0)<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">onError</span>(<span class="code-params">c</span>);<span class="code-params">this</span>.<span class="code-params">onEndElement</span>(<span class="code-params">e.substring(r,t</span>)),<span class="code-params">r</span>=<span class="code-params">t</span>+1;<span class="code-params">break</span>;<span class="code-params">case</span>"?":++<span class="code-params">r</span>;<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">this</span>.<span class="code-params">_parseProcessingInstruction</span>(<span class="code-params">e,r</span>);<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"?&gt;"</span>!==e.substring(r+s.parsed,r+s.parsed+<span class="code-number">2</span></span>))<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">onError</span>(<span class="code-params">i</span>);<span class="code-params">this</span>.<span class="code-params">onPi</span>(<span class="code-params">s.name,s.value</span>),<span class="code-params">r</span>+=<span class="code-params">s</span>.<span class="code-params">parsed</span>+2;<span class="code-params">break</span>;<span class="code-params">case</span>"!":<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"--"</span>===e.substring(r+<span class="code-number">1</span>,r+<span class="code-number">3</span></span>)){<span class="code-params">if</span>(<span class="code-params">t=e.indexOf(<span class="code-string">"--\x3e"</span>,r+<span class="code-number">3</span></span>),<span class="code-params">t</span>&lt;0)<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">onError</span>(<span class="code-params">o</span>);<span class="code-params">this</span>.<span class="code-params">onComment</span>(<span class="code-params">e.substring(r+<span class="code-number">3</span>,t</span>)),<span class="code-params">r</span>=<span class="code-params">t</span>+3}<span class="code-params">else</span> <span class="code-params">if</span>(<span class="code-params"><span class="code-string">"[CDATA["</span>===e.substring(r+<span class="code-number">1</span>,r+<span class="code-number">8</span></span>)){<span class="code-params">if</span>(<span class="code-params">t=e.indexOf(<span class="code-string">"]]&gt;"</span>,r+<span class="code-number">8</span></span>),<span class="code-params">t</span>&lt;0)<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">onError</span>(<span class="code-params">n</span>);<span class="code-params">this</span>.<span class="code-params">onCdata</span>(<span class="code-params">e.substring(r+<span class="code-number">8</span>,t</span>)),<span class="code-params">r</span>=<span class="code-params">t</span>+3}<span class="code-params">else</span>{<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"DOCTYPE"</span>!==e.substring(r+<span class="code-number">1</span>,r+<span class="code-number">8</span></span>))<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">onError</span>(<span class="code-params">l</span>);{<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">e</span>.<span class="code-params">indexOf</span>(<span class="code-params"><span class="code-string">"["</span>,r+<span class="code-number">8</span></span>);<span class="code-params">let</span> <span class="code-params">n</span>=!1;<span class="code-params">if</span>(<span class="code-params">t=e.indexOf(<span class="code-string">"&gt;"</span>,r+<span class="code-number">8</span></span>),<span class="code-params">t</span>&lt;0)<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">onError</span>(<span class="code-params">a</span>);<span class="code-params">if</span>(<span class="code-params">s&gt;<span class="code-number">0</span>&amp;&amp;t&gt;s</span>){<span class="code-params">if</span>(<span class="code-params">t=e.indexOf(<span class="code-string">"]&gt;"</span>,r+<span class="code-number">8</span></span>),<span class="code-params">t</span>&lt;0)<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">onError</span>(<span class="code-params">a</span>);<span class="code-params">n</span>=!0}<span class="code-params">const</span> <span class="code-params">i</span>=<span class="code-params">e</span>.<span class="code-params">substring</span>(<span class="code-params">r+<span class="code-number">8</span>,t+(n?<span class="code-number">1</span>:<span class="code-number">0</span></span>));<span class="code-params">this</span>.<span class="code-params">onDoctype</span>(<span class="code-params">i</span>),<span class="code-params">r</span>=<span class="code-params">t</span>+(<span class="code-params">n?<span class="code-number">2</span>:<span class="code-number">1</span></span>)}}<span class="code-params">break</span>;<span class="code-params">default</span>:<span class="code-params">const</span> <span class="code-params">h</span>=<span class="code-params">this</span>.<span class="code-params">_parseContent</span>(<span class="code-params">e,r</span>);<span class="code-params">if</span>(<span class="code-params"><span class="code-literal">null</span>===h</span>)<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">onError</span>(<span class="code-params">l</span>);<span class="code-params">let</span> <span class="code-params">d</span>=!1;<span class="code-params">if</span>(<span class="code-params"><span class="code-string">"/&gt;"</span>===e.substring(r+h.parsed,r+h.parsed+<span class="code-number">2</span></span>))<span class="code-params">d</span>=!0;<span class="code-params">else</span> <span class="code-params">if</span>(<span class="code-params"><span class="code-string">"&gt;"</span>!==e.substring(r+h.parsed,r+h.parsed+<span class="code-number">1</span></span>))<span class="code-params">return</span> <span class="code-params">void</span> <span class="code-params">this</span>.<span class="code-params">onError</span>(<span class="code-params">c</span>);<span class="code-params">this</span>.<span class="code-params">onBeginElement</span>(<span class="code-params">h.name,h.attributes,d</span>),<span class="code-params">r</span>+=<span class="code-params">h</span>.<span class="code-params">parsed</span>+(<span class="code-params">d?<span class="code-number">2</span>:<span class="code-number">1</span></span>)}}<span class="code-params">else</span>{<span class="code-params">for</span>(<span class="code-params">;r&lt;e.length&amp;&amp;<span class="code-string">"&lt;"</span>!==e[r];</span>)<span class="code-params">r</span>++;<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">e</span>.<span class="code-params">substring</span>(<span class="code-params">t,r</span>);<span class="code-params">this</span>.<span class="code-params">onText</span>(<span class="code-params"><span class="code-keyword">this</span>._resolveEntities(s</span>))}<span class="code-params">t</span>=<span class="code-params">r</span>}}<span class="code-params">onResolveEntity</span>(<span class="code-params">e</span>){<span class="code-params">return</span>`&amp;<span class="code-params">$</span>{<span class="code-params">e</span>};`}<span class="code-params">onPi</span>(<span class="code-params">e,t</span>){}<span class="code-params">onComment</span>(<span class="code-params">e</span>){}<span class="code-params">onCdata</span>(<span class="code-params">e</span>){}<span class="code-params">onDoctype</span>(<span class="code-params">e</span>){}<span class="code-params">onText</span>(<span class="code-params">e</span>){}<span class="code-params">onBeginElement</span>(<span class="code-params">e,t,r</span>){}<span class="code-params">onEndElement</span>(<span class="code-params">e</span>){}<span class="code-params">onError</span>(<span class="code-params">e</span>){}}{<span class="code-params">constructor</span><span class="code-params">()</span>{<span class="code-params">super</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">_currentFragment</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_stack</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_errorCode</span>=<span class="code-params">s</span>}<span class="code-params">parseFromString</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>._currentFragment=[],<span class="code-keyword">this</span>._stack=[],<span class="code-keyword">this</span>._errorCode=s,<span class="code-keyword">this</span>.parseXml(e</span>),<span class="code-params">this</span>.<span class="code-params">_errorCode</span>!==<span class="code-params">s</span>)<span class="code-params">return</span>;<span class="code-params">const</span>[<span class="code-params">t</span>]=<span class="code-params">this</span>.<span class="code-params">_currentFragment</span>;<span class="code-params">return</span> <span class="code-params">t</span>?{<span class="code-params">documentElement</span>:<span class="code-params">t</span>}:<span class="code-params">void</span> 0}<span class="code-params">onResolveEntity</span>(<span class="code-params">e</span>){<span class="code-params">switch</span>(<span class="code-params">e</span>){<span class="code-params">case</span>"<span class="code-params">apos</span>":<span class="code-params">return</span>"'"}<span class="code-params">return</span> <span class="code-params">super</span>.<span class="code-params">onResolveEntity</span>(<span class="code-params">e</span>)}<span class="code-params">onText</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">function</span>(e</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> t=<span class="code-number">0</span>,r=e.length;t&lt;r;t++</span>)<span class="code-params">if</span>(<span class="code-params">!h(e,t</span>))<span class="code-params">return</span>!1;<span class="code-params">return</span>!0}(<span class="code-params">e</span>))<span class="code-params">return</span>;<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">new</span> <span class="code-params">d</span>(<span class="code-params"><span class="code-string">"#text"</span>,e</span>);<span class="code-params">this</span>.<span class="code-params">_currentFragment</span>.<span class="code-params">push</span>(<span class="code-params">t</span>)}<span class="code-params">onCdata</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">new</span> <span class="code-params">d</span>(<span class="code-params"><span class="code-string">"#text"</span>,e</span>);<span class="code-params">this</span>.<span class="code-params">_currentFragment</span>.<span class="code-params">push</span>(<span class="code-params">t</span>)}<span class="code-params">onBeginElement</span>(<span class="code-params">e,t,r</span>){<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">new</span> <span class="code-params">d</span>(<span class="code-params">e</span>);<span class="code-params">s</span>.<span class="code-params">childNodes</span>=[],<span class="code-params">this</span>.<span class="code-params">_currentFragment</span>.<span class="code-params">push</span>(<span class="code-params">s</span>),<span class="code-params">r</span>||(<span class="code-params"><span class="code-keyword">this</span>._stack.push(<span class="code-keyword">this</span>._currentFragment</span>),<span class="code-params">this</span>.<span class="code-params">_currentFragment</span>=<span class="code-params">s</span>.<span class="code-params">childNodes</span>)}<span class="code-params">onEndElement</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_currentFragment</span>=<span class="code-params">this</span>.<span class="code-params">_stack</span>.<span class="code-params">pop</span><span class="code-params">()</span>||[];<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">_currentFragment</span>[<span class="code-params">this</span>.<span class="code-params">_currentFragment</span>.<span class="code-params">length</span>-1];<span class="code-params">if</span>(<span class="code-params">t</span>)<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> e=<span class="code-number">0</span>,r=t.childNodes.length;e&lt;r;e++</span>)<span class="code-params">t</span>.<span class="code-params">childNodes</span>[<span class="code-params">e</span>].<span class="code-params">parentNode</span>=<span class="code-params">t</span>}<span class="code-params">onError</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_errorCode</span>=<span class="code-params">e</span>}}},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">PDFDataTransportStream</span>=<span class="code-params">void</span> 0;<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">2</span></span>);<span class="code-params">t</span>.<span class="code-params">PDFDataTransportStream</span>=<span class="code-params">class</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t</span>){(<span class="code-params"><span class="code-number">0</span>,s.assert</span>)(<span class="code-params">t,<span class="code-string">'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'</span></span>),<span class="code-params">this</span>.<span class="code-params">_queuedChunks</span>=[],<span class="code-params">this</span>.<span class="code-params">_progressiveDone</span>=<span class="code-params">e</span>.<span class="code-params">progressiveDone</span>||!1;<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">initialData</span>;<span class="code-params">if</span>(<span class="code-params">r&amp;&amp;r.length&gt;<span class="code-number">0</span></span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">r</span>).<span class="code-params">buffer</span>;<span class="code-params">this</span>.<span class="code-params">_queuedChunks</span>.<span class="code-params">push</span>(<span class="code-params">e</span>)}<span class="code-params">this</span>.<span class="code-params">_pdfDataRangeTransport</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">_isStreamingSupported</span>=!<span class="code-params">e</span>.<span class="code-params">disableStream</span>,<span class="code-params">this</span>.<span class="code-params">_isRangeSupported</span>=!<span class="code-params">e</span>.<span class="code-params">disableRange</span>,<span class="code-params">this</span>.<span class="code-params">_contentLength</span>=<span class="code-params">e</span>.<span class="code-params">length</span>,<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_rangeReaders</span>=[],<span class="code-params">this</span>.<span class="code-params">_pdfDataRangeTransport</span>.<span class="code-params">addRangeListener</span>(<span class="code-params">(e,t</span>)=&gt;</span>{<span class="code-keyword">this</span>._onReceiveData({<span class="code-attr">begin</span>:e,<span class="code-attr">chunk</span>:t})}),<span class="code-keyword">this</span>._pdfDataRangeTransport.addProgressListener(<span class="code-function">(<span class="code-params">e,t</span>)=&gt;</span>{<span class="code-keyword">this</span>._onProgress({<span class="code-attr">loaded</span>:e,<span class="code-attr">total</span>:t})}),<span class="code-keyword">this</span>._pdfDataRangeTransport.addProgressiveReadListener(<span class="code-function"><span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">this</span>._onReceiveData({<span class="code-attr">chunk</span>:e})}),<span class="code-keyword">this</span>._pdfDataRangeTransport.addProgressiveDoneListener(<span class="code-function"><span class="code-params">()</span>=&gt;</span>{<span class="code-keyword">this</span>._onProgressiveDone()}),<span class="code-keyword">this</span>._pdfDataRangeTransport.transportReady()}_onReceiveData(e){<span class="code-keyword">const</span> t=<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e.chunk).buffer;<span class="code-keyword">if</span>(<span class="code-keyword">void</span> <span class="code-number">0</span>===e.begin)<span class="code-keyword">this</span>._fullRequestReader?<span class="code-keyword">this</span>._fullRequestReader._enqueue(t):<span class="code-keyword">this</span>._queuedChunks.push(t);<span class="code-keyword">else</span>{<span class="code-keyword">const</span> r=<span class="code-keyword">this</span>._rangeReaders.some(<span class="code-function">(<span class="code-params"><span class="code-keyword">function</span>(r</span>){<span class="code-params">return</span> <span class="code-params">r</span>.<span class="code-params">_begin</span>===<span class="code-params">e</span>.<span class="code-params">begin</span>&amp;&amp;(<span class="code-params">r._enqueue(t</span>),!0)}));(<span class="code-params"><span class="code-number">0</span>,s.assert</span>)(<span class="code-params">r,<span class="code-string">"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found."</span></span>)}}<span class="code-params">get</span> <span class="code-params">_progressiveDataLength</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>?<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>.<span class="code-params">_loaded</span>:0}<span class="code-params">_onProgress</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">void</span> <span class="code-number">0</span>===e.total</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">_rangeReaders</span>[0];<span class="code-params">t</span>&amp;&amp;<span class="code-params">t</span>.<span class="code-params">onProgress</span>&amp;&amp;<span class="code-params">t</span>.<span class="code-params">onProgress</span>(<span class="code-params">{loaded:e.loaded}</span>)}<span class="code-params">else</span>{<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>;<span class="code-params">t</span>&amp;&amp;<span class="code-params">t</span>.<span class="code-params">onProgress</span>&amp;&amp;<span class="code-params">t</span>.<span class="code-params">onProgress</span>(<span class="code-params">{loaded:e.loaded,total:e.total}</span>)}}<span class="code-params">_onProgressiveDone</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>.<span class="code-params">progressiveDone</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">_progressiveDone</span>=!0}<span class="code-params">_removeRangeReader</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">_rangeReaders</span>.<span class="code-params">indexOf</span>(<span class="code-params">e</span>);<span class="code-params">t</span>&gt;=0&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_rangeReaders</span>.<span class="code-params">splice</span>(<span class="code-params">t,<span class="code-number">1</span></span>)}<span class="code-params">getFullReader</span><span class="code-params">()</span>{(<span class="code-params"><span class="code-number">0</span>,s.assert</span>)(<span class="code-params">!<span class="code-keyword">this</span>._fullRequestReader,<span class="code-string">"PDFDataTransportStream.getFullReader can only be called once."</span></span>);<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">_queuedChunks</span>;<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_queuedChunks</span>=<span class="code-params">null</span>,<span class="code-params">new</span> <span class="code-params">n</span>(<span class="code-params"><span class="code-keyword">this</span>,e,<span class="code-keyword">this</span>._progressiveDone</span>)}<span class="code-params">getRangeReader</span>(<span class="code-params">e,t</span>){<span class="code-params">if</span>(<span class="code-params">t&lt;=<span class="code-keyword">this</span>._progressiveDataLength</span>)<span class="code-params">return</span> <span class="code-params">null</span>;<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">new</span> <span class="code-params">i</span>(<span class="code-params"><span class="code-keyword">this</span>,e,t</span>);<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_pdfDataRangeTransport</span>.<span class="code-params">requestDataRange</span>(<span class="code-params">e,t</span>),<span class="code-params">this</span>.<span class="code-params">_rangeReaders</span>.<span class="code-params">push</span>(<span class="code-params">r</span>),<span class="code-params">r</span>}<span class="code-params">cancelAllRequests</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>.<span class="code-params">cancel</span>(<span class="code-params">e</span>);<span class="code-params">this</span>.<span class="code-params">_rangeReaders</span>.<span class="code-params">slice</span>(<span class="code-params"><span class="code-number">0</span></span>).<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(t</span>){<span class="code-params">t</span>.<span class="code-params">cancel</span>(<span class="code-params">e</span>)})),<span class="code-params">this</span>.<span class="code-params">_pdfDataRangeTransport</span>.<span class="code-params">abort</span><span class="code-params">()</span>}};<span class="code-params">class</span> <span class="code-params">n</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t,r=!<span class="code-number">1</span></span>){<span class="code-params">this</span>.<span class="code-params">_stream</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">_done</span>=<span class="code-params">r</span>||!1,<span class="code-params">this</span>.<span class="code-params">_filename</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_queuedChunks</span>=<span class="code-params">t</span>||[],<span class="code-params">this</span>.<span class="code-params">_loaded</span>=0;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> e <span class="code-keyword">of</span> <span class="code-keyword">this</span>._queuedChunks</span>)<span class="code-params">this</span>.<span class="code-params">_loaded</span>+=<span class="code-params">e</span>.<span class="code-params">byteLength</span>;<span class="code-params">this</span>.<span class="code-params">_requests</span>=[],<span class="code-params">this</span>.<span class="code-params">_headersReady</span>=<span class="code-params">Promise</span>.<span class="code-params">resolve</span><span class="code-params">()</span>,<span class="code-params">e</span>.<span class="code-params">_fullRequestReader</span>=<span class="code-params">this</span>,<span class="code-params">this</span>.<span class="code-params">onProgress</span>=<span class="code-params">null</span>}<span class="code-params">_enqueue</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params">!<span class="code-keyword">this</span>._done</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>._requests.length&gt;<span class="code-number">0</span></span>){<span class="code-params">this</span>.<span class="code-params">_requests</span>.<span class="code-params">shift</span><span class="code-params">()</span>.<span class="code-params">resolve</span>(<span class="code-params">{value:e,done:!<span class="code-number">1</span>}</span>)}<span class="code-params">else</span> <span class="code-params">this</span>.<span class="code-params">_queuedChunks</span>.<span class="code-params">push</span>(<span class="code-params">e</span>);<span class="code-params">this</span>.<span class="code-params">_loaded</span>+=<span class="code-params">e</span>.<span class="code-params">byteLength</span>}}<span class="code-params">get</span> <span class="code-params">headersReady</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_headersReady</span>}<span class="code-params">get</span> <span class="code-params">filename</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_filename</span>}<span class="code-params">get</span> <span class="code-params">isRangeSupported</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_stream</span>.<span class="code-params">_isRangeSupported</span>}<span class="code-params">get</span> <span class="code-params">isStreamingSupported</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_stream</span>.<span class="code-params">_isStreamingSupported</span>}<span class="code-params">get</span> <span class="code-params">contentLength</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_stream</span>.<span class="code-params">_contentLength</span>}<span class="code-params">async</span> <span class="code-params">read</span><span class="code-params">()</span>{<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>._queuedChunks.length&gt;<span class="code-number">0</span></span>){<span class="code-params">return</span>{<span class="code-params">value</span>:<span class="code-params">this</span>.<span class="code-params">_queuedChunks</span>.<span class="code-params">shift</span><span class="code-params">()</span>,<span class="code-params">done</span>:!1}}<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>._done</span>)<span class="code-params">return</span>{<span class="code-params">value</span>:<span class="code-params">void</span> 0,<span class="code-params">done</span>:!0};<span class="code-params">const</span> <span class="code-params">e</span>=(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>;<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_requests</span>.<span class="code-params">push</span>(<span class="code-params">e</span>),<span class="code-params">e</span>.<span class="code-params">promise</span>}<span class="code-params">cancel</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_done</span>=!0,<span class="code-params">this</span>.<span class="code-params">_requests</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">e</span>.<span class="code-params">resolve</span>(<span class="code-params">{value:<span class="code-keyword">void</span> <span class="code-number">0</span>,done:!<span class="code-number">0</span>}</span>)})),<span class="code-params">this</span>.<span class="code-params">_requests</span>=[]}<span class="code-params">progressiveDone</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">_done</span>||(<span class="code-params"><span class="code-keyword">this</span>._done=!<span class="code-number">0</span></span>)}}<span class="code-params">class</span> <span class="code-params">i</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t,r</span>){<span class="code-params">this</span>.<span class="code-params">_stream</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">_begin</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">_end</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">_queuedChunk</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_requests</span>=[],<span class="code-params">this</span>.<span class="code-params">_done</span>=!1,<span class="code-params">this</span>.<span class="code-params">onProgress</span>=<span class="code-params">null</span>}<span class="code-params">_enqueue</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params">!<span class="code-keyword">this</span>._done</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-number">0</span>===<span class="code-keyword">this</span>._requests.length</span>)<span class="code-params">this</span>.<span class="code-params">_queuedChunk</span>=<span class="code-params">e</span>;<span class="code-params">else</span>{<span class="code-params">this</span>.<span class="code-params">_requests</span>.<span class="code-params">shift</span><span class="code-params">()</span>.<span class="code-params">resolve</span>(<span class="code-params">{value:e,done:!<span class="code-number">1</span>}</span>),<span class="code-params">this</span>.<span class="code-params">_requests</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">e</span>.<span class="code-params">resolve</span>(<span class="code-params">{value:<span class="code-keyword">void</span> <span class="code-number">0</span>,done:!<span class="code-number">0</span>}</span>)})),<span class="code-params">this</span>.<span class="code-params">_requests</span>=[]}<span class="code-params">this</span>.<span class="code-params">_done</span>=!0,<span class="code-params">this</span>.<span class="code-params">_stream</span>.<span class="code-params">_removeRangeReader</span>(<span class="code-params"><span class="code-keyword">this</span></span>)}}<span class="code-params">get</span> <span class="code-params">isStreamingSupported</span><span class="code-params">()</span>{<span class="code-params">return</span>!1}<span class="code-params">async</span> <span class="code-params">read</span><span class="code-params">()</span>{<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>._queuedChunk</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">_queuedChunk</span>;<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_queuedChunk</span>=<span class="code-params">null</span>,{<span class="code-params">value</span>:<span class="code-params">e</span>,<span class="code-params">done</span>:!1}}<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>._done</span>)<span class="code-params">return</span>{<span class="code-params">value</span>:<span class="code-params">void</span> 0,<span class="code-params">done</span>:!0};<span class="code-params">const</span> <span class="code-params">e</span>=(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>;<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_requests</span>.<span class="code-params">push</span>(<span class="code-params">e</span>),<span class="code-params">e</span>.<span class="code-params">promise</span>}<span class="code-params">cancel</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_done</span>=!0,<span class="code-params">this</span>.<span class="code-params">_requests</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">e</span>.<span class="code-params">resolve</span>(<span class="code-params">{value:<span class="code-keyword">void</span> <span class="code-number">0</span>,done:!<span class="code-number">0</span>}</span>)})),<span class="code-params">this</span>.<span class="code-params">_requests</span>=[],<span class="code-params">this</span>.<span class="code-params">_stream</span>.<span class="code-params">_removeRangeReader</span>(<span class="code-params"><span class="code-keyword">this</span></span>)}}},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">WebGLContext</span>=<span class="code-params">void</span> 0;<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">2</span></span>);<span class="code-params">t</span>.<span class="code-params">WebGLContext</span>=<span class="code-params">class</span>{<span class="code-params">constructor</span>(<span class="code-params">{enable:e=!<span class="code-number">1</span>}</span>){<span class="code-params">this</span>.<span class="code-params">_enabled</span>=!0===<span class="code-params">e</span>}<span class="code-params">get</span> <span class="code-params">isEnabled</span><span class="code-params">()</span>{<span class="code-params">let</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">_enabled</span>;<span class="code-params">return</span> <span class="code-params">e</span>&amp;&amp;(<span class="code-params">e=n.tryInitGL(</span>)),(<span class="code-params"><span class="code-number">0</span>,s.shadow</span>)(<span class="code-params"><span class="code-keyword">this</span>,<span class="code-string">"isEnabled"</span>,e</span>)}<span class="code-params">composeSMask</span>(<span class="code-params">{layer:e,mask:t,properties:r}</span>){<span class="code-params">return</span> <span class="code-params">n</span>.<span class="code-params">composeSMask</span>(<span class="code-params">e,t,r</span>)}<span class="code-params">drawFigures</span>(<span class="code-params">{width:e,height:t,backgroundColor:r,figures:s,context:i}</span>){<span class="code-params">return</span> <span class="code-params">n</span>.<span class="code-params">drawFigures</span>(<span class="code-params">e,t,r,s,i</span>)}<span class="code-params">clear</span><span class="code-params">()</span>{<span class="code-params">n</span>.<span class="code-params">cleanup</span><span class="code-params">()</span>}};<span class="code-params">var</span> <span class="code-params">n</span>=<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">function</span> <span class="code-params">e</span>(<span class="code-params">e,t,r</span>){<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">e</span>.<span class="code-params">createShader</span>(<span class="code-params">r</span>);<span class="code-params">if</span>(<span class="code-params">e.shaderSource(s,t</span>),<span class="code-params">e</span>.<span class="code-params">compileShader</span>(<span class="code-params">s</span>),!<span class="code-params">e</span>.<span class="code-params">getShaderParameter</span>(<span class="code-params">s,e.COMPILE_STATUS</span>)){<span class="code-params">var</span> <span class="code-params">n</span>=<span class="code-params">e</span>.<span class="code-params">getShaderInfoLog</span>(<span class="code-params">s</span>);<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Error during shader compilation: "</span>+n</span>)}<span class="code-params">return</span> <span class="code-params">s</span>}<span class="code-params">function</span> <span class="code-params">t</span>(<span class="code-params">t,r</span>){<span class="code-params">return</span> <span class="code-params">e</span>(<span class="code-params">t,r,t.VERTEX_SHADER</span>)}<span class="code-params">function</span> <span class="code-params">r</span>(<span class="code-params">t,r</span>){<span class="code-params">return</span> <span class="code-params">e</span>(<span class="code-params">t,r,t.FRAGMENT_SHADER</span>)}<span class="code-params">function</span> <span class="code-params">s</span>(<span class="code-params">e,t</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> r=e.createProgram(</span>),<span class="code-params">s</span>=0,<span class="code-params">n</span>=<span class="code-params">t</span>.<span class="code-params">length</span>;<span class="code-params">s</span>&lt;<span class="code-params">n</span>;++<span class="code-params">s</span>)<span class="code-params">e</span>.<span class="code-params">attachShader</span>(<span class="code-params">r,t[s]</span>);<span class="code-params">if</span>(<span class="code-params">e.linkProgram(r</span>),!<span class="code-params">e</span>.<span class="code-params">getProgramParameter</span>(<span class="code-params">r,e.LINK_STATUS</span>)){<span class="code-params">var</span> <span class="code-params">i</span>=<span class="code-params">e</span>.<span class="code-params">getProgramInfoLog</span>(<span class="code-params">r</span>);<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Error during program linking: "</span>+i</span>)}<span class="code-params">return</span> <span class="code-params">r</span>}<span class="code-params">function</span> <span class="code-params">n</span>(<span class="code-params">e,t,r</span>){<span class="code-params">e</span>.<span class="code-params">activeTexture</span>(<span class="code-params">r</span>);<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">e</span>.<span class="code-params">createTexture</span><span class="code-params">()</span>;<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">bindTexture</span>(<span class="code-params">e.TEXTURE_2D,s</span>),<span class="code-params">e</span>.<span class="code-params">texParameteri</span>(<span class="code-params">e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE</span>),<span class="code-params">e</span>.<span class="code-params">texParameteri</span>(<span class="code-params">e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE</span>),<span class="code-params">e</span>.<span class="code-params">texParameteri</span>(<span class="code-params">e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST</span>),<span class="code-params">e</span>.<span class="code-params">texParameteri</span>(<span class="code-params">e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST</span>),<span class="code-params">e</span>.<span class="code-params">texImage2D</span>(<span class="code-params">e.TEXTURE_2D,<span class="code-number">0</span>,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t</span>),<span class="code-params">s</span>}<span class="code-params">var</span> <span class="code-params">i</span>,<span class="code-params">a</span>;<span class="code-params">function</span> <span class="code-params">o</span><span class="code-params">()</span>{<span class="code-params">i</span>||(<span class="code-params">a=<span class="code-built_in">document</span>.createElement(<span class="code-string">"canvas"</span></span>),<span class="code-params">i</span>=<span class="code-params">a</span>.<span class="code-params">getContext</span>(<span class="code-params"><span class="code-string">"webgl"</span>,{premultipliedalpha:!<span class="code-number">1</span>}</span>))}<span class="code-params">var</span> <span class="code-params">l</span>=<span class="code-params">null</span>;<span class="code-params">var</span> <span class="code-params">c</span>=<span class="code-params">null</span>;<span class="code-params">return</span>{<span class="code-params">tryInitGL</span><span class="code-params">()</span>{<span class="code-params">try</span>{<span class="code-params">return</span> <span class="code-params">o</span><span class="code-params">()</span>,!!<span class="code-params">i</span>}<span class="code-params">catch</span>(<span class="code-params">e</span>){}<span class="code-params">return</span>!1},<span class="code-params">composeSMask</span>:<span class="code-params">function</span>(<span class="code-params">e,c,h</span>){<span class="code-params">var</span> <span class="code-params">d</span>=<span class="code-params">e</span>.<span class="code-params">width</span>,<span class="code-params">u</span>=<span class="code-params">e</span>.<span class="code-params">height</span>;<span class="code-params">l</span>||<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">var</span> <span class="code-params">e</span>,<span class="code-params">n</span>;<span class="code-params">o</span><span class="code-params">()</span>,<span class="code-params">e</span>=<span class="code-params">a</span>,<span class="code-params">a</span>=<span class="code-params">null</span>,<span class="code-params">n</span>=<span class="code-params">i</span>,<span class="code-params">i</span>=<span class="code-params">null</span>;<span class="code-params">var</span> <span class="code-params">c</span>=<span class="code-params">s</span>(<span class="code-params">n,[t(n,<span class="code-string">"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "</span></span>),<span class="code-params">r</span>(<span class="code-params">n,<span class="code-string">"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a &gt; 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             "</span></span>)]);<span class="code-params">n</span>.<span class="code-params">useProgram</span>(<span class="code-params">c</span>);<span class="code-params">var</span> <span class="code-params">h</span>={};<span class="code-params">h</span>.<span class="code-params">gl</span>=<span class="code-params">n</span>,<span class="code-params">h</span>.<span class="code-params">canvas</span>=<span class="code-params">e</span>,<span class="code-params">h</span>.<span class="code-params">resolutionLocation</span>=<span class="code-params">n</span>.<span class="code-params">getUniformLocation</span>(<span class="code-params">c,<span class="code-string">"u_resolution"</span></span>),<span class="code-params">h</span>.<span class="code-params">positionLocation</span>=<span class="code-params">n</span>.<span class="code-params">getAttribLocation</span>(<span class="code-params">c,<span class="code-string">"a_position"</span></span>),<span class="code-params">h</span>.<span class="code-params">backdropLocation</span>=<span class="code-params">n</span>.<span class="code-params">getUniformLocation</span>(<span class="code-params">c,<span class="code-string">"u_backdrop"</span></span>),<span class="code-params">h</span>.<span class="code-params">subtypeLocation</span>=<span class="code-params">n</span>.<span class="code-params">getUniformLocation</span>(<span class="code-params">c,<span class="code-string">"u_subtype"</span></span>);<span class="code-params">var</span> <span class="code-params">d</span>=<span class="code-params">n</span>.<span class="code-params">getAttribLocation</span>(<span class="code-params">c,<span class="code-string">"a_texCoord"</span></span>),<span class="code-params">u</span>=<span class="code-params">n</span>.<span class="code-params">getUniformLocation</span>(<span class="code-params">c,<span class="code-string">"u_image"</span></span>),<span class="code-params">p</span>=<span class="code-params">n</span>.<span class="code-params">getUniformLocation</span>(<span class="code-params">c,<span class="code-string">"u_mask"</span></span>),<span class="code-params">g</span>=<span class="code-params">n</span>.<span class="code-params">createBuffer</span><span class="code-params">()</span>;<span class="code-params">n</span>.<span class="code-params">bindBuffer</span>(<span class="code-params">n.ARRAY_BUFFER,g</span>),<span class="code-params">n</span>.<span class="code-params">bufferData</span>(<span class="code-params">n.ARRAY_BUFFER,<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">1</span>,<span class="code-number">1</span>]</span>),<span class="code-params">n</span>.<span class="code-params">STATIC_DRAW</span>),<span class="code-params">n</span>.<span class="code-params">enableVertexAttribArray</span>(<span class="code-params">d</span>),<span class="code-params">n</span>.<span class="code-params">vertexAttribPointer</span>(<span class="code-params">d,<span class="code-number">2</span>,n.FLOAT,!<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span></span>),<span class="code-params">n</span>.<span class="code-params">uniform1i</span>(<span class="code-params">u,<span class="code-number">0</span></span>),<span class="code-params">n</span>.<span class="code-params">uniform1i</span>(<span class="code-params">p,<span class="code-number">1</span></span>),<span class="code-params">l</span>=<span class="code-params">h</span>}<span class="code-params">()</span>;<span class="code-params">var</span> <span class="code-params">p</span>=<span class="code-params">l</span>,<span class="code-params">g</span>=<span class="code-params">p</span>.<span class="code-params">canvas</span>,<span class="code-params">f</span>=<span class="code-params">p</span>.<span class="code-params">gl</span>;<span class="code-params">g</span>.<span class="code-params">width</span>=<span class="code-params">d</span>,<span class="code-params">g</span>.<span class="code-params">height</span>=<span class="code-params">u</span>,<span class="code-params">f</span>.<span class="code-params">viewport</span>(<span class="code-params"><span class="code-number">0</span>,<span class="code-number">0</span>,f.drawingBufferWidth,f.drawingBufferHeight</span>),<span class="code-params">f</span>.<span class="code-params">uniform2f</span>(<span class="code-params">p.resolutionLocation,d,u</span>),<span class="code-params">h</span>.<span class="code-params">backdrop</span>?<span class="code-params">f</span>.<span class="code-params">uniform4f</span>(<span class="code-params">p.resolutionLocation,h.backdrop[<span class="code-number">0</span>],h.backdrop[<span class="code-number">1</span>],h.backdrop[<span class="code-number">2</span>],<span class="code-number">1</span></span>):<span class="code-params">f</span>.<span class="code-params">uniform4f</span>(<span class="code-params">p.resolutionLocation,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span></span>),<span class="code-params">f</span>.<span class="code-params">uniform1i</span>(<span class="code-params">p.subtypeLocation,<span class="code-string">"Luminosity"</span>===h.subtype?<span class="code-number">1</span>:<span class="code-number">0</span></span>);<span class="code-params">var</span> <span class="code-params">m</span>=<span class="code-params">n</span>(<span class="code-params">f,e,f.TEXTURE0</span>),<span class="code-params">A</span>=<span class="code-params">n</span>(<span class="code-params">f,c,f.TEXTURE1</span>),<span class="code-params">b</span>=<span class="code-params">f</span>.<span class="code-params">createBuffer</span><span class="code-params">()</span>;<span class="code-params">return</span> <span class="code-params">f</span>.<span class="code-params">bindBuffer</span>(<span class="code-params">f.ARRAY_BUFFER,b</span>),<span class="code-params">f</span>.<span class="code-params">bufferData</span>(<span class="code-params">f.ARRAY_BUFFER,<span class="code-keyword">new</span> <span class="code-built_in">Float32Array</span>([<span class="code-number">0</span>,<span class="code-number">0</span>,d,<span class="code-number">0</span>,<span class="code-number">0</span>,u,<span class="code-number">0</span>,u,d,<span class="code-number">0</span>,d,u]</span>),<span class="code-params">f</span>.<span class="code-params">STATIC_DRAW</span>),<span class="code-params">f</span>.<span class="code-params">enableVertexAttribArray</span>(<span class="code-params">p.positionLocation</span>),<span class="code-params">f</span>.<span class="code-params">vertexAttribPointer</span>(<span class="code-params">p.positionLocation,<span class="code-number">2</span>,f.FLOAT,!<span class="code-number">1</span>,<span class="code-number">0</span>,<span class="code-number">0</span></span>),<span class="code-params">f</span>.<span class="code-params">clearColor</span>(<span class="code-params"><span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span>,<span class="code-number">0</span></span>),<span class="code-params">f</span>.<span class="code-params">enable</span>(<span class="code-params">f.BLEND</span>),<span class="code-params">f</span>.<span class="code-params">blendFunc</span>(<span class="code-params">f.ONE,f.ONE_MINUS_SRC_ALPHA</span>),<span class="code-params">f</span>.<span class="code-params">clear</span>(<span class="code-params">f.COLOR_BUFFER_BIT</span>),<span class="code-params">f</span>.<span class="code-params">drawArrays</span>(<span class="code-params">f.TRIANGLES,<span class="code-number">0</span>,<span class="code-number">6</span></span>),<span class="code-params">f</span>.<span class="code-params">flush</span><span class="code-params">()</span>,<span class="code-params">f</span>.<span class="code-params">deleteTexture</span>(<span class="code-params">m</span>),<span class="code-params">f</span>.<span class="code-params">deleteTexture</span>(<span class="code-params">A</span>),<span class="code-params">f</span>.<span class="code-params">deleteBuffer</span>(<span class="code-params">b</span>),<span class="code-params">g</span>},<span class="code-params">drawFigures</span>:<span class="code-params">function</span>(<span class="code-params">e,n,l,h,d</span>){<span class="code-params">c</span>||<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">var</span> <span class="code-params">e</span>,<span class="code-params">n</span>;<span class="code-params">o</span><span class="code-params">()</span>,<span class="code-params">e</span>=<span class="code-params">a</span>,<span class="code-params">a</span>=<span class="code-params">null</span>,<span class="code-params">n</span>=<span class="code-params">i</span>,<span class="code-params">i</span>=<span class="code-params">null</span>;<span class="code-params">var</span> <span class="code-params">l</span>=<span class="code-params">s</span>(<span class="code-params">n,[t(n,<span class="code-string">"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "</span></span>),<span class="code-params">r</span>(<span class="code-params">n,<span class="code-string">"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             "</span></span>)]);<span class="code-params">n</span>.<span class="code-params">useProgram</span>(<span class="code-params">l</span>);<span class="code-params">var</span> <span class="code-params">h</span>={};<span class="code-params">h</span>.<span class="code-params">gl</span>=<span class="code-params">n</span>,<span class="code-params">h</span>.<span class="code-params">canvas</span>=<span class="code-params">e</span>,<span class="code-params">h</span>.<span class="code-params">resolutionLocation</span>=<span class="code-params">n</span>.<span class="code-params">getUniformLocation</span>(<span class="code-params">l,<span class="code-string">"u_resolution"</span></span>),<span class="code-params">h</span>.<span class="code-params">scaleLocation</span>=<span class="code-params">n</span>.<span class="code-params">getUniformLocation</span>(<span class="code-params">l,<span class="code-string">"u_scale"</span></span>),<span class="code-params">h</span>.<span class="code-params">offsetLocation</span>=<span class="code-params">n</span>.<span class="code-params">getUniformLocation</span>(<span class="code-params">l,<span class="code-string">"u_offset"</span></span>),<span class="code-params">h</span>.<span class="code-params">positionLocation</span>=<span class="code-params">n</span>.<span class="code-params">getAttribLocation</span>(<span class="code-params">l,<span class="code-string">"a_position"</span></span>),<span class="code-params">h</span>.<span class="code-params">colorLocation</span>=<span class="code-params">n</span>.<span class="code-params">getAttribLocation</span>(<span class="code-params">l,<span class="code-string">"a_color"</span></span>),<span class="code-params">c</span>=<span class="code-params">h</span>}<span class="code-params">()</span>;<span class="code-params">var</span> <span class="code-params">u</span>=<span class="code-params">c</span>,<span class="code-params">p</span>=<span class="code-params">u</span>.<span class="code-params">canvas</span>,<span class="code-params">g</span>=<span class="code-params">u</span>.<span class="code-params">gl</span>;<span class="code-params">p</span>.<span class="code-params">width</span>=<span class="code-params">e</span>,<span class="code-params">p</span>.<span class="code-params">height</span>=<span class="code-params">n</span>,<span class="code-params">g</span>.<span class="code-params">viewport</span>(<span class="code-params"><span class="code-number">0</span>,<span class="code-number">0</span>,g.drawingBufferWidth,g.drawingBufferHeight</span>),<span class="code-params">g</span>.<span class="code-params">uniform2f</span>(<span class="code-params">u.resolutionLocation,e,n</span>);<span class="code-params">var</span> <span class="code-params">f</span>,<span class="code-params">m</span>,<span class="code-params">A</span>,<span class="code-params">b</span>=0;<span class="code-params">for</span>(<span class="code-params">f=<span class="code-number">0</span>,m=h.length;f&lt;m;f++</span>)<span class="code-params">switch</span>(<span class="code-params">h[f].type</span>){<span class="code-params">case</span>"<span class="code-params">lattice</span>":<span class="code-params">b</span>+=(<span class="code-params">(A=h[f].coords.length<span class="code-regexp">/h[f].verticesPerRow|0)-1)*(h[f].verticesPerRow-1)*6;break;case"triangles":b+=h[f].coords.length}var _=new Float32Array(2*b),y=new Uint8Array(3*b),v=d.coords,S=d.colors,x=0,C=0;for(f=0,m=h.length;f&lt;m;f++){var P=h[f],k=P.coords,R=P.colors;switch(P.type){case"lattice":var w=P.verticesPerRow;A=k.length/</span>w|<span class="code-number">0</span>;<span class="code-keyword">for</span>(<span class="code-keyword">var</span> T=<span class="code-number">1</span>;T&lt;A;T++</span>)<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> E=T*w+<span class="code-number">1</span>,F=<span class="code-number">1</span>;F&lt;w;F++,E++</span>)<span class="code-params">_</span>[<span class="code-params">x</span>]=<span class="code-params">v</span>[<span class="code-params">k</span>[<span class="code-params">E</span>-<span class="code-params">w</span>-1]],<span class="code-params">_</span>[<span class="code-params">x</span>+1]=<span class="code-params">v</span>[<span class="code-params">k</span>[<span class="code-params">E</span>-<span class="code-params">w</span>-1]+1],<span class="code-params">_</span>[<span class="code-params">x</span>+2]=<span class="code-params">v</span>[<span class="code-params">k</span>[<span class="code-params">E</span>-<span class="code-params">w</span>]],<span class="code-params">_</span>[<span class="code-params">x</span>+3]=<span class="code-params">v</span>[<span class="code-params">k</span>[<span class="code-params">E</span>-<span class="code-params">w</span>]+1],<span class="code-params">_</span>[<span class="code-params">x</span>+4]=<span class="code-params">v</span>[<span class="code-params">k</span>[<span class="code-params">E</span>-1]],<span class="code-params">_</span>[<span class="code-params">x</span>+5]=<span class="code-params">v</span>[<span class="code-params">k</span>[<span class="code-params">E</span>-1]+1],<span class="code-params">y</span>[<span class="code-params">C</span>]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>-<span class="code-params">w</span>-1]],<span class="code-params">y</span>[<span class="code-params">C</span>+1]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>-<span class="code-params">w</span>-1]+1],<span class="code-params">y</span>[<span class="code-params">C</span>+2]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>-<span class="code-params">w</span>-1]+2],<span class="code-params">y</span>[<span class="code-params">C</span>+3]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>-<span class="code-params">w</span>]],<span class="code-params">y</span>[<span class="code-params">C</span>+4]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>-<span class="code-params">w</span>]+1],<span class="code-params">y</span>[<span class="code-params">C</span>+5]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>-<span class="code-params">w</span>]+2],<span class="code-params">y</span>[<span class="code-params">C</span>+6]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>-1]],<span class="code-params">y</span>[<span class="code-params">C</span>+7]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>-1]+1],<span class="code-params">y</span>[<span class="code-params">C</span>+8]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>-1]+2],<span class="code-params">_</span>[<span class="code-params">x</span>+6]=<span class="code-params">_</span>[<span class="code-params">x</span>+2],<span class="code-params">_</span>[<span class="code-params">x</span>+7]=<span class="code-params">_</span>[<span class="code-params">x</span>+3],<span class="code-params">_</span>[<span class="code-params">x</span>+8]=<span class="code-params">_</span>[<span class="code-params">x</span>+4],<span class="code-params">_</span>[<span class="code-params">x</span>+9]=<span class="code-params">_</span>[<span class="code-params">x</span>+5],<span class="code-params">_</span>[<span class="code-params">x</span>+10]=<span class="code-params">v</span>[<span class="code-params">k</span>[<span class="code-params">E</span>]],<span class="code-params">_</span>[<span class="code-params">x</span>+11]=<span class="code-params">v</span>[<span class="code-params">k</span>[<span class="code-params">E</span>]+1],<span class="code-params">y</span>[<span class="code-params">C</span>+9]=<span class="code-params">y</span>[<span class="code-params">C</span>+3],<span class="code-params">y</span>[<span class="code-params">C</span>+10]=<span class="code-params">y</span>[<span class="code-params">C</span>+4],<span class="code-params">y</span>[<span class="code-params">C</span>+11]=<span class="code-params">y</span>[<span class="code-params">C</span>+5],<span class="code-params">y</span>[<span class="code-params">C</span>+12]=<span class="code-params">y</span>[<span class="code-params">C</span>+6],<span class="code-params">y</span>[<span class="code-params">C</span>+13]=<span class="code-params">y</span>[<span class="code-params">C</span>+7],<span class="code-params">y</span>[<span class="code-params">C</span>+14]=<span class="code-params">y</span>[<span class="code-params">C</span>+8],<span class="code-params">y</span>[<span class="code-params">C</span>+15]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>]],<span class="code-params">y</span>[<span class="code-params">C</span>+16]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>]+1],<span class="code-params">y</span>[<span class="code-params">C</span>+17]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">E</span>]+2],<span class="code-params">x</span>+=12,<span class="code-params">C</span>+=18;<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">triangles</span>":<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> L=<span class="code-number">0</span>,I=k.length;L&lt;I;L++</span>)<span class="code-params">_</span>[<span class="code-params">x</span>]=<span class="code-params">v</span>[<span class="code-params">k</span>[<span class="code-params">L</span>]],<span class="code-params">_</span>[<span class="code-params">x</span>+1]=<span class="code-params">v</span>[<span class="code-params">k</span>[<span class="code-params">L</span>]+1],<span class="code-params">y</span>[<span class="code-params">C</span>]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">L</span>]],<span class="code-params">y</span>[<span class="code-params">C</span>+1]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">L</span>]+1],<span class="code-params">y</span>[<span class="code-params">C</span>+2]=<span class="code-params">S</span>[<span class="code-params">R</span>[<span class="code-params">L</span>]+2],<span class="code-params">x</span>+=2,<span class="code-params">C</span>+=3}}<span class="code-params">l</span>?<span class="code-params">g</span>.<span class="code-params">clearColor</span>(<span class="code-params">l[<span class="code-number">0</span>]<span class="code-regexp">/255,l[1]/</span><span class="code-number">255</span>,l[<span class="code-number">2</span>]<span class="code-regexp">/255,1):g.clearColor(0,0,0,0),g.clear(g.COLOR_BUFFER_BIT);var M=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,M),g.bufferData(g.ARRAY_BUFFER,_,g.STATIC_DRAW),g.enableVertexAttribArray(u.positionLocation),g.vertexAttribPointer(u.positionLocation,2,g.FLOAT,!1,0,0);var O=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,O),g.bufferData(g.ARRAY_BUFFER,y,g.STATIC_DRAW),g.enableVertexAttribArray(u.colorLocation),g.vertexAttribPointer(u.colorLocation,3,g.UNSIGNED_BYTE,!1,0,0),g.uniform2f(u.scaleLocation,d.scaleX,d.scaleY),g.uniform2f(u.offsetLocation,d.offsetX,d.offsetY),g.drawArrays(g.TRIANGLES,0,b),g.flush(),g.deleteBuffer(M),g.deleteBuffer(O),p},cleanup(){l&amp;&amp;l.canvas&amp;&amp;(l.canvas.width=0,l.canvas.height=0),c&amp;&amp;c.canvas&amp;&amp;(c.canvas.width=0,c.canvas.height=0),l=null,c=null}}}()},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var s=r(1),n=r(2);class i{static create(e){switch(e.data.annotationType){case n.AnnotationType.LINK:return new o(e);case n.AnnotationType.TEXT:return new l(e);case n.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new h(e);case"Btn":return e.data.radioButton?new u(e):e.data.checkBox?new d(e):new p(e);case"Ch":return new g(e)}return new c(e);case n.AnnotationType.POPUP:return new f(e);case n.AnnotationType.FREETEXT:return new A(e);case n.AnnotationType.LINE:return new b(e);case n.AnnotationType.SQUARE:return new _(e);case n.AnnotationType.CIRCLE:return new y(e);case n.AnnotationType.POLYLINE:return new v(e);case n.AnnotationType.CARET:return new x(e);case n.AnnotationType.INK:return new C(e);case n.AnnotationType.POLYGON:return new S(e);case n.AnnotationType.HIGHLIGHT:return new P(e);case n.AnnotationType.UNDERLINE:return new k(e);case n.AnnotationType.SQUIGGLY:return new R(e);case n.AnnotationType.STRIKEOUT:return new w(e);case n.AnnotationType.STAMP:return new T(e);case n.AnnotationType.FILEATTACHMENT:return new E(e);default:return new a(e)}}}class a{constructor(e,t=!1,r=!1){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderInteractiveForms=e.renderInteractiveForms,this.svgFactory=e.svgFactory,t&amp;&amp;(this.container=this._createContainer(r))}_createContainer(e=!1){const t=this.data,r=this.page,s=this.viewport,i=document.createElement("section");let a=t.rect[2]-t.rect[0],o=t.rect[3]-t.rect[1];i.setAttribute("data-annotation-id",t.id);const l=n.Util.normalizeRect([t.rect[0],r.view[3]-t.rect[1]+r.view[1],t.rect[2],r.view[3]-t.rect[3]+r.view[1]]);if(i.style.transform=`matrix(${s.transform.join(",")})`,i.style.transformOrigin=`-${l[0]}px -${l[1]}px`,!e&amp;&amp;t.borderStyle.width&gt;0){i.style.borderWidth=t.borderStyle.width+"px",t.borderStyle.style!==n.AnnotationBorderStyleType.UNDERLINE&amp;&amp;(a-=2*t.borderStyle.width,o-=2*t.borderStyle.width);const e=t.borderStyle.horizontalCornerRadius,r=t.borderStyle.verticalCornerRadius;if(e&gt;0||r&gt;0){const t=`${e}px /</span> ${r}px<span class="code-string">`;i.style.borderRadius=t}switch(t.borderStyle.style){case n.AnnotationBorderStyleType.SOLID:i.style.borderStyle="solid";break;case n.AnnotationBorderStyleType.DASHED:i.style.borderStyle="dashed";break;case n.AnnotationBorderStyleType.BEVELED:(0,n.warn)("Unimplemented border style: beveled");break;case n.AnnotationBorderStyleType.INSET:(0,n.warn)("Unimplemented border style: inset");break;case n.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle="solid"}t.color?i.style.borderColor=n.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):i.style.borderWidth=0}return i.style.left=l[0]+"px",i.style.top=l[1]+"px",i.style.width=a+"px",i.style.height=o+"px",i}_createPopup(e,t,r){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));const s=new m({container:e,trigger:t,color:r.color,title:r.title,modificationDate:r.modificationDate,contents:r.contents,hideWrapper:!0}).render();s.style.left=e.style.width,e.appendChild(s)}render(){(0,n.unreachable)("Abstract method `</span>AnnotationElement.render<span class="code-string">` called")}}class o extends a{constructor(e){super(e,!!(e.data.url||e.data.dest||e.data.action))}render(){this.container.className="linkAnnotation";const{data:e,linkService:t}=this,r=document.createElement("a");return e.url?(0,s.addLinkAttributes)(r,{url:e.url,target:e.newWindow?s.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(r,e.action):this._bindLink(r,e.dest),this.container.appendChild(r),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=&gt;(t&amp;&amp;this.linkService.navigateTo(t),!1),t&amp;&amp;(e.className="internalLink")}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=&gt;(this.linkService.executeNamedAction(t),!1),e.className="internalLink"}}class l extends a{constructor(e){super(e,!!(e.data.hasPopup||e.data.title||e.data.contents))}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}class c extends a{render(){return this.container}}class h extends c{constructor(e){super(e,e.renderInteractiveForms||!e.data.hasAppearance&amp;&amp;!!e.data.fieldValue)}render(){const e=["left","center","right"];this.container.className="textWidgetAnnotation";let t=null;if(this.renderInteractiveForms){if(this.data.multiLine?(t=document.createElement("textarea"),t.textContent=this.data.fieldValue):(t=document.createElement("input"),t.type="text",t.setAttribute("value",this.data.fieldValue)),t.disabled=this.data.readOnly,t.name=this.data.fieldName,null!==this.data.maxLen&amp;&amp;(t.maxLength=this.data.maxLen),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;t.classList.add("comb"),t.style.letterSpacing=`</span>calc(${e}px - <span class="code-number">1</span>ch</span>)`}}<span class="code-params">else</span>{<span class="code-params">t</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"div"</span></span>),<span class="code-params">t</span>.<span class="code-params">textContent</span>=<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">fieldValue</span>,<span class="code-params">t</span>.<span class="code-params">style</span>.<span class="code-params">verticalAlign</span>="<span class="code-params">middle</span>",<span class="code-params">t</span>.<span class="code-params">style</span>.<span class="code-params">display</span>="<span class="code-params">table</span>-<span class="code-params">cell</span>";<span class="code-params">let</span> <span class="code-params">e</span>=<span class="code-params">null</span>;<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">fontRefName</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">page</span>.<span class="code-params">commonObjs</span>.<span class="code-params">has</span>(<span class="code-params"><span class="code-keyword">this</span>.data.fontRefName</span>)&amp;&amp;(<span class="code-params">e=<span class="code-keyword">this</span>.page.commonObjs.get(<span class="code-keyword">this</span>.data.fontRefName</span>)),<span class="code-params">this</span>.<span class="code-params">_setTextStyle</span>(<span class="code-params">t,e</span>)}<span class="code-params">return</span> <span class="code-params">null</span>!==<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">textAlignment</span>&amp;&amp;(<span class="code-params">t.style.textAlign=e[<span class="code-keyword">this</span>.data.textAlignment]</span>),<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">appendChild</span>(<span class="code-params">t</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}<span class="code-params">_setTextStyle</span>(<span class="code-params">e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">style</span>;<span class="code-params">if</span>(<span class="code-params">r.fontSize=<span class="code-keyword">this</span>.data.fontSize+<span class="code-string">"px"</span>,r.direction=<span class="code-keyword">this</span>.data.fontDirection&lt;<span class="code-number">0</span>?<span class="code-string">"rtl"</span>:<span class="code-string">"ltr"</span>,!t</span>)<span class="code-params">return</span>;<span class="code-params">let</span> <span class="code-params">s</span>="<span class="code-params">normal</span>";<span class="code-params">t</span>.<span class="code-params">black</span>?<span class="code-params">s</span>="900":<span class="code-params">t</span>.<span class="code-params">bold</span>&amp;&amp;(<span class="code-params">s=<span class="code-string">"bold"</span></span>),<span class="code-params">r</span>.<span class="code-params">fontWeight</span>=<span class="code-params">s</span>,<span class="code-params">r</span>.<span class="code-params">fontStyle</span>=<span class="code-params">t</span>.<span class="code-params">italic</span>?"<span class="code-params">italic</span>":"<span class="code-params">normal</span>";<span class="code-params">const</span> <span class="code-params">n</span>=<span class="code-params">t</span>.<span class="code-params">loadedName</span>?`"<span class="code-params">$</span>{<span class="code-params">t</span>.<span class="code-params">loadedName</span>}", `:"",<span class="code-params">i</span>=<span class="code-params">t</span>.<span class="code-params">fallbackName</span>||"<span class="code-params">Helvetica</span>, <span class="code-params">sans</span>-<span class="code-params">serif</span>";<span class="code-params">r</span>.<span class="code-params">fontFamily</span>=<span class="code-params">n</span>+<span class="code-params">i</span>}}<span class="code-params">class</span> <span class="code-params">d</span> <span class="code-params">extends</span> <span class="code-params">c</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,e.renderInteractiveForms</span>)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">buttonWidgetAnnotation</span> <span class="code-params">checkBox</span>";<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"input"</span></span>);<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">disabled</span>=<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">readOnly</span>,<span class="code-params">e</span>.<span class="code-params">type</span>="<span class="code-params">checkbox</span>",<span class="code-params">e</span>.<span class="code-params">name</span>=<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">fieldName</span>,<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">fieldValue</span>&amp;&amp;"<span class="code-params">Off</span>"!==<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">fieldValue</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"checked"</span>,!<span class="code-number">0</span></span>),<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">appendChild</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">u</span> <span class="code-params">extends</span> <span class="code-params">c</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,e.renderInteractiveForms</span>)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">buttonWidgetAnnotation</span> <span class="code-params">radioButton</span>";<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"input"</span></span>);<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">disabled</span>=<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">readOnly</span>,<span class="code-params">e</span>.<span class="code-params">type</span>="<span class="code-params">radio</span>",<span class="code-params">e</span>.<span class="code-params">name</span>=<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">fieldName</span>,<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">fieldValue</span>===<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">buttonValue</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"checked"</span>,!<span class="code-number">0</span></span>),<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">appendChild</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">p</span> <span class="code-params">extends</span> <span class="code-params">o</span>{<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">super</span>.<span class="code-params">render</span><span class="code-params">()</span>;<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">className</span>="<span class="code-params">buttonWidgetAnnotation</span> <span class="code-params">pushButton</span>",<span class="code-params">e</span>}}<span class="code-params">class</span> <span class="code-params">g</span> <span class="code-params">extends</span> <span class="code-params">c</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,e.renderInteractiveForms</span>)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">choiceWidgetAnnotation</span>";<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"select"</span></span>);<span class="code-params">e</span>.<span class="code-params">disabled</span>=<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">readOnly</span>,<span class="code-params">e</span>.<span class="code-params">name</span>=<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">fieldName</span>,<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">combo</span>||(<span class="code-params">e.size=<span class="code-keyword">this</span>.data.options.length,<span class="code-keyword">this</span>.data.multiSelect&amp;&amp;(e.multiple=!<span class="code-number">0</span></span>));<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> t <span class="code-keyword">of</span> <span class="code-keyword">this</span>.data.options</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"option"</span></span>);<span class="code-params">r</span>.<span class="code-params">textContent</span>=<span class="code-params">t</span>.<span class="code-params">displayValue</span>,<span class="code-params">r</span>.<span class="code-params">value</span>=<span class="code-params">t</span>.<span class="code-params">exportValue</span>,<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">fieldValue</span>.<span class="code-params">includes</span>(<span class="code-params">t.displayValue</span>)&amp;&amp;<span class="code-params">r</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"selected"</span>,!<span class="code-number">0</span></span>),<span class="code-params">e</span>.<span class="code-params">appendChild</span>(<span class="code-params">r</span>)}<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">appendChild</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">f</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!(!e.data.title&amp;&amp;!e.data.contents</span>))}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>.container.className=<span class="code-string">"popupAnnotation"</span>,[<span class="code-string">"Line"</span>,<span class="code-string">"Square"</span>,<span class="code-string">"Circle"</span>,<span class="code-string">"PolyLine"</span>,<span class="code-string">"Polygon"</span>,<span class="code-string">"Ink"</span>].includes(<span class="code-keyword">this</span>.data.parentType</span>))<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>;<span class="code-params">const</span> <span class="code-params">e</span>=`[<span class="code-params">data</span>-<span class="code-params">annotation</span>-<span class="code-params">id</span>="<span class="code-params">$</span>{<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">parentId</span>}"]`,<span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">layer</span>.<span class="code-params">querySelector</span>(<span class="code-params">e</span>);<span class="code-params">if</span>(<span class="code-params">!t</span>)<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>;<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">new</span> <span class="code-params">m</span>(<span class="code-params">{container:<span class="code-keyword">this</span>.container,trigger:t,color:<span class="code-keyword">this</span>.data.color,title:<span class="code-keyword">this</span>.data.title,modificationDate:<span class="code-keyword">this</span>.data.modificationDate,contents:<span class="code-keyword">this</span>.data.contents}</span>),<span class="code-params">s</span>=<span class="code-params">parseFloat</span>(<span class="code-params">t.style.left</span>),<span class="code-params">n</span>=<span class="code-params">parseFloat</span>(<span class="code-params">t.style.width</span>);<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">style</span>.<span class="code-params">transformOrigin</span>=`-<span class="code-params">$</span>{<span class="code-params">s</span>+<span class="code-params">n</span>}<span class="code-params">px</span> -<span class="code-params">$</span>{<span class="code-params">t</span>.<span class="code-params">style</span>.<span class="code-params">top</span>}`,<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">style</span>.<span class="code-params">left</span>=<span class="code-params">s</span>+<span class="code-params">n</span>+"<span class="code-params">px</span>",<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">appendChild</span>(<span class="code-params">r.render(</span>)),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">m</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">container</span>=<span class="code-params">e</span>.<span class="code-params">container</span>,<span class="code-params">this</span>.<span class="code-params">trigger</span>=<span class="code-params">e</span>.<span class="code-params">trigger</span>,<span class="code-params">this</span>.<span class="code-params">color</span>=<span class="code-params">e</span>.<span class="code-params">color</span>,<span class="code-params">this</span>.<span class="code-params">title</span>=<span class="code-params">e</span>.<span class="code-params">title</span>,<span class="code-params">this</span>.<span class="code-params">modificationDate</span>=<span class="code-params">e</span>.<span class="code-params">modificationDate</span>,<span class="code-params">this</span>.<span class="code-params">contents</span>=<span class="code-params">e</span>.<span class="code-params">contents</span>,<span class="code-params">this</span>.<span class="code-params">hideWrapper</span>=<span class="code-params">e</span>.<span class="code-params">hideWrapper</span>||!1,<span class="code-params">this</span>.<span class="code-params">pinned</span>=!1}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"div"</span></span>);<span class="code-params">e</span>.<span class="code-params">className</span>="<span class="code-params">popupWrapper</span>",<span class="code-params">this</span>.<span class="code-params">hideElement</span>=<span class="code-params">this</span>.<span class="code-params">hideWrapper</span>?<span class="code-params">e</span>:<span class="code-params">this</span>.<span class="code-params">container</span>,<span class="code-params">this</span>.<span class="code-params">hideElement</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"hidden"</span>,!<span class="code-number">0</span></span>);<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"div"</span></span>);<span class="code-params">t</span>.<span class="code-params">className</span>="<span class="code-params">popup</span>";<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">color</span>;<span class="code-params">if</span>(<span class="code-params">r</span>){<span class="code-params">const</span> <span class="code-params">e</span>=.7*(<span class="code-params"><span class="code-number">255</span>-r[<span class="code-number">0</span>]</span>)+<span class="code-params">r</span>[0],<span class="code-params">s</span>=.7*(<span class="code-params"><span class="code-number">255</span>-r[<span class="code-number">1</span>]</span>)+<span class="code-params">r</span>[1],<span class="code-params">i</span>=.7*(<span class="code-params"><span class="code-number">255</span>-r[<span class="code-number">2</span>]</span>)+<span class="code-params">r</span>[2];<span class="code-params">t</span>.<span class="code-params">style</span>.<span class="code-params">backgroundColor</span>=<span class="code-params">n</span>.<span class="code-params">Util</span>.<span class="code-params">makeCssRgb</span>(<span class="code-params"><span class="code-number">0</span>|e,<span class="code-number">0</span>|s,<span class="code-number">0</span>|i</span>)}<span class="code-params">const</span> <span class="code-params">i</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"h1"</span></span>);<span class="code-params">i</span>.<span class="code-params">textContent</span>=<span class="code-params">this</span>.<span class="code-params">title</span>,<span class="code-params">t</span>.<span class="code-params">appendChild</span>(<span class="code-params">i</span>);<span class="code-params">const</span> <span class="code-params">a</span>=<span class="code-params">s</span>.<span class="code-params">PDFDateString</span>.<span class="code-params">toDateObject</span>(<span class="code-params"><span class="code-keyword">this</span>.modificationDate</span>);<span class="code-params">if</span>(<span class="code-params">a</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"span"</span></span>);<span class="code-params">e</span>.<span class="code-params">textContent</span>="{{<span class="code-params">date</span>}}, {{<span class="code-params">time</span>}}",<span class="code-params">e</span>.<span class="code-params">dataset</span>.<span class="code-params">l10nId</span>="<span class="code-params">annotation_date_string</span>",<span class="code-params">e</span>.<span class="code-params">dataset</span>.<span class="code-params">l10nArgs</span>=<span class="code-params">JSON</span>.<span class="code-params">stringify</span>(<span class="code-params">{date:a.toLocaleDateString(</span>),<span class="code-params">time</span>:<span class="code-params">a</span>.<span class="code-params">toLocaleTimeString</span><span class="code-params">()</span>}),<span class="code-params">t</span>.<span class="code-params">appendChild</span>(<span class="code-params">e</span>)}<span class="code-params">const</span> <span class="code-params">o</span>=<span class="code-params">this</span>.<span class="code-params">_formatContents</span>(<span class="code-params"><span class="code-keyword">this</span>.contents</span>);<span class="code-params">return</span> <span class="code-params">t</span>.<span class="code-params">appendChild</span>(<span class="code-params">o</span>),<span class="code-params">this</span>.<span class="code-params">trigger</span>.<span class="code-params">addEventListener</span>(<span class="code-params"><span class="code-string">"click"</span>,<span class="code-keyword">this</span>._toggle.bind(<span class="code-keyword">this</span></span>)),<span class="code-params">this</span>.<span class="code-params">trigger</span>.<span class="code-params">addEventListener</span>(<span class="code-params"><span class="code-string">"mouseover"</span>,<span class="code-keyword">this</span>._show.bind(<span class="code-keyword">this</span>,!<span class="code-number">1</span></span>)),<span class="code-params">this</span>.<span class="code-params">trigger</span>.<span class="code-params">addEventListener</span>(<span class="code-params"><span class="code-string">"mouseout"</span>,<span class="code-keyword">this</span>._hide.bind(<span class="code-keyword">this</span>,!<span class="code-number">1</span></span>)),<span class="code-params">t</span>.<span class="code-params">addEventListener</span>(<span class="code-params"><span class="code-string">"click"</span>,<span class="code-keyword">this</span>._hide.bind(<span class="code-keyword">this</span>,!<span class="code-number">0</span></span>)),<span class="code-params">e</span>.<span class="code-params">appendChild</span>(<span class="code-params">t</span>),<span class="code-params">e</span>}<span class="code-params">_formatContents</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"p"</span></span>),<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">split</span>(<span class="code-params"><span class="code-regexp">/(?:\r\n?|\n)/</span></span>);<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> e=<span class="code-number">0</span>,s=r.length;e&lt;s;++e</span>){<span class="code-params">const</span> <span class="code-params">n</span>=<span class="code-params">r</span>[<span class="code-params">e</span>];<span class="code-params">t</span>.<span class="code-params">appendChild</span>(<span class="code-params"><span class="code-built_in">document</span>.createTextNode(n</span>)),<span class="code-params">e</span>&lt;<span class="code-params">s</span>-1&amp;&amp;<span class="code-params">t</span>.<span class="code-params">appendChild</span>(<span class="code-params"><span class="code-built_in">document</span>.createElement(<span class="code-string">"br"</span></span>))}<span class="code-params">return</span> <span class="code-params">t</span>}<span class="code-params">_toggle</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">pinned</span>?<span class="code-params">this</span>.<span class="code-params">_hide</span>(<span class="code-params">!<span class="code-number">0</span></span>):<span class="code-params">this</span>.<span class="code-params">_show</span>(<span class="code-params">!<span class="code-number">0</span></span>)}<span class="code-params">_show</span>(<span class="code-params">e=!<span class="code-number">1</span></span>){<span class="code-params">e</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.pinned=!<span class="code-number">0</span></span>),<span class="code-params">this</span>.<span class="code-params">hideElement</span>.<span class="code-params">hasAttribute</span>(<span class="code-params"><span class="code-string">"hidden"</span></span>)&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.hideElement.removeAttribute(<span class="code-string">"hidden"</span></span>),<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">style</span>.<span class="code-params">zIndex</span>+=1)}<span class="code-params">_hide</span>(<span class="code-params">e=!<span class="code-number">0</span></span>){<span class="code-params">e</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.pinned=!<span class="code-number">1</span></span>),<span class="code-params">this</span>.<span class="code-params">hideElement</span>.<span class="code-params">hasAttribute</span>(<span class="code-params"><span class="code-string">"hidden"</span></span>)||<span class="code-params">this</span>.<span class="code-params">pinned</span>||(<span class="code-params"><span class="code-keyword">this</span>.hideElement.setAttribute(<span class="code-string">"hidden"</span>,!<span class="code-number">0</span></span>),<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">style</span>.<span class="code-params">zIndex</span>-=1)}}<span class="code-params">class</span> <span class="code-params">A</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">freeTextAnnotation</span>",<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">hasPopup</span>||<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,<span class="code-literal">null</span>,<span class="code-keyword">this</span>.data</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">b</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">lineAnnotation</span>";<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">data</span>,<span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[2]-<span class="code-params">e</span>.<span class="code-params">rect</span>[0],<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[3]-<span class="code-params">e</span>.<span class="code-params">rect</span>[1],<span class="code-params">s</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">create</span>(<span class="code-params">t,r</span>),<span class="code-params">n</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:line"</span></span>);<span class="code-params">return</span> <span class="code-params">n</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"x1"</span>,e.rect[<span class="code-number">2</span>]-e.lineCoordinates[<span class="code-number">0</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"y1"</span>,e.rect[<span class="code-number">3</span>]-e.lineCoordinates[<span class="code-number">1</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"x2"</span>,e.rect[<span class="code-number">2</span>]-e.lineCoordinates[<span class="code-number">2</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"y2"</span>,e.rect[<span class="code-number">3</span>]-e.lineCoordinates[<span class="code-number">3</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"stroke-width"</span>,e.borderStyle.width||<span class="code-number">1</span></span>),<span class="code-params">n</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"stroke"</span>,<span class="code-string">"transparent"</span></span>),<span class="code-params">s</span>.<span class="code-params">appendChild</span>(<span class="code-params">n</span>),<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">append</span>(<span class="code-params">s</span>),<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,n,e</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">_</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">squareAnnotation</span>";<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">data</span>,<span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[2]-<span class="code-params">e</span>.<span class="code-params">rect</span>[0],<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[3]-<span class="code-params">e</span>.<span class="code-params">rect</span>[1],<span class="code-params">s</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">create</span>(<span class="code-params">t,r</span>),<span class="code-params">n</span>=<span class="code-params">e</span>.<span class="code-params">borderStyle</span>.<span class="code-params">width</span>,<span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:rect"</span></span>);<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"x"</span>,n<span class="code-regexp">/2),i.setAttribute("y",n/</span><span class="code-number">2</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"width"</span>,t-n</span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"height"</span>,r-n</span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"stroke-width"</span>,n||<span class="code-number">1</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"stroke"</span>,<span class="code-string">"transparent"</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"fill"</span>,<span class="code-string">"none"</span></span>),<span class="code-params">s</span>.<span class="code-params">appendChild</span>(<span class="code-params">i</span>),<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">append</span>(<span class="code-params">s</span>),<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,i,e</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">y</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">circleAnnotation</span>";<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">data</span>,<span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[2]-<span class="code-params">e</span>.<span class="code-params">rect</span>[0],<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[3]-<span class="code-params">e</span>.<span class="code-params">rect</span>[1],<span class="code-params">s</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">create</span>(<span class="code-params">t,r</span>),<span class="code-params">n</span>=<span class="code-params">e</span>.<span class="code-params">borderStyle</span>.<span class="code-params">width</span>,<span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:ellipse"</span></span>);<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"cx"</span>,t<span class="code-regexp">/2),i.setAttribute("cy",r/</span><span class="code-number">2</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"rx"</span>,t<span class="code-regexp">/2-n/</span><span class="code-number">2</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"ry"</span>,r<span class="code-regexp">/2-n/</span><span class="code-number">2</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"stroke-width"</span>,n||<span class="code-number">1</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"stroke"</span>,<span class="code-string">"transparent"</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"fill"</span>,<span class="code-string">"none"</span></span>),<span class="code-params">s</span>.<span class="code-params">appendChild</span>(<span class="code-params">i</span>),<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">append</span>(<span class="code-params">s</span>),<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,i,e</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">v</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0),<span class="code-params">this</span>.<span class="code-params">containerClassName</span>="<span class="code-params">polylineAnnotation</span>",<span class="code-params">this</span>.<span class="code-params">svgElementName</span>="<span class="code-params">svg</span>:<span class="code-params">polyline</span>"}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>=<span class="code-params">this</span>.<span class="code-params">containerClassName</span>;<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">data</span>,<span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[2]-<span class="code-params">e</span>.<span class="code-params">rect</span>[0],<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[3]-<span class="code-params">e</span>.<span class="code-params">rect</span>[1],<span class="code-params">s</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">create</span>(<span class="code-params">t,r</span>);<span class="code-params">let</span> <span class="code-params">n</span>=[];<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> t <span class="code-keyword">of</span> e.vertices</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">t</span>.<span class="code-params">x</span>-<span class="code-params">e</span>.<span class="code-params">rect</span>[0],<span class="code-params">s</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[3]-<span class="code-params">t</span>.<span class="code-params">y</span>;<span class="code-params">n</span>.<span class="code-params">push</span>(<span class="code-params">r+<span class="code-string">","</span>+s</span>)}<span class="code-params">n</span>=<span class="code-params">n</span>.<span class="code-params">join</span>(<span class="code-params"><span class="code-string">" "</span></span>);<span class="code-params">const</span> <span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-keyword">this</span>.svgElementName</span>);<span class="code-params">return</span> <span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"points"</span>,n</span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"stroke-width"</span>,e.borderStyle.width||<span class="code-number">1</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"stroke"</span>,<span class="code-string">"transparent"</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"fill"</span>,<span class="code-string">"none"</span></span>),<span class="code-params">s</span>.<span class="code-params">appendChild</span>(<span class="code-params">i</span>),<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">append</span>(<span class="code-params">s</span>),<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,i,e</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">S</span> <span class="code-params">extends</span> <span class="code-params">v</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">containerClassName</span>="<span class="code-params">polygonAnnotation</span>",<span class="code-params">this</span>.<span class="code-params">svgElementName</span>="<span class="code-params">svg</span>:<span class="code-params">polygon</span>"}}<span class="code-params">class</span> <span class="code-params">x</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">caretAnnotation</span>",<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">hasPopup</span>||<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,<span class="code-literal">null</span>,<span class="code-keyword">this</span>.data</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">C</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0),<span class="code-params">this</span>.<span class="code-params">containerClassName</span>="<span class="code-params">inkAnnotation</span>",<span class="code-params">this</span>.<span class="code-params">svgElementName</span>="<span class="code-params">svg</span>:<span class="code-params">polyline</span>"}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>=<span class="code-params">this</span>.<span class="code-params">containerClassName</span>;<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">data</span>,<span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[2]-<span class="code-params">e</span>.<span class="code-params">rect</span>[0],<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[3]-<span class="code-params">e</span>.<span class="code-params">rect</span>[1],<span class="code-params">s</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">create</span>(<span class="code-params">t,r</span>);<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> t <span class="code-keyword">of</span> e.inkLists</span>){<span class="code-params">let</span> <span class="code-params">r</span>=[];<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> s <span class="code-keyword">of</span> t</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">s</span>.<span class="code-params">x</span>-<span class="code-params">e</span>.<span class="code-params">rect</span>[0],<span class="code-params">n</span>=<span class="code-params">e</span>.<span class="code-params">rect</span>[3]-<span class="code-params">s</span>.<span class="code-params">y</span>;<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-string">`<span class="code-subst">${t}</span>,<span class="code-subst">${n}</span>`</span></span>)}<span class="code-params">r</span>=<span class="code-params">r</span>.<span class="code-params">join</span>(<span class="code-params"><span class="code-string">" "</span></span>);<span class="code-params">const</span> <span class="code-params">n</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-keyword">this</span>.svgElementName</span>);<span class="code-params">n</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"points"</span>,r</span>),<span class="code-params">n</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"stroke-width"</span>,e.borderStyle.width||<span class="code-number">1</span></span>),<span class="code-params">n</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"stroke"</span>,<span class="code-string">"transparent"</span></span>),<span class="code-params">n</span>.<span class="code-params">setAttribute</span>(<span class="code-params"><span class="code-string">"fill"</span>,<span class="code-string">"none"</span></span>),<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,n,e</span>),<span class="code-params">s</span>.<span class="code-params">appendChild</span>(<span class="code-params">n</span>)}<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">append</span>(<span class="code-params">s</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">P</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">highlightAnnotation</span>",<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">hasPopup</span>||<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,<span class="code-literal">null</span>,<span class="code-keyword">this</span>.data</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">k</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">underlineAnnotation</span>",<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">hasPopup</span>||<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,<span class="code-literal">null</span>,<span class="code-keyword">this</span>.data</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">R</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">squigglyAnnotation</span>",<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">hasPopup</span>||<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,<span class="code-literal">null</span>,<span class="code-keyword">this</span>.data</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">w</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">strikeoutAnnotation</span>",<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">hasPopup</span>||<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,<span class="code-literal">null</span>,<span class="code-keyword">this</span>.data</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">T</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!!(e.data.hasPopup||e.data.title||e.data.contents</span>),!0)}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">stampAnnotation</span>",<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">hasPopup</span>||<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,<span class="code-literal">null</span>,<span class="code-keyword">this</span>.data</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}}<span class="code-params">class</span> <span class="code-params">E</span> <span class="code-params">extends</span> <span class="code-params">a</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">super</span>(<span class="code-params">e,!<span class="code-number">0</span></span>);<span class="code-params">const</span>{<span class="code-params">filename</span>:<span class="code-params">t</span>,<span class="code-params">content</span>:<span class="code-params">r</span>}=<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">file</span>;<span class="code-params">this</span>.<span class="code-params">filename</span>=(<span class="code-params"><span class="code-number">0</span>,s.getFilenameFromUrl</span>)(<span class="code-params">t</span>),<span class="code-params">this</span>.<span class="code-params">content</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">linkService</span>.<span class="code-params">eventBus</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">linkService</span>.<span class="code-params">eventBus</span>.<span class="code-params">dispatch</span>(<span class="code-params"><span class="code-string">"fileattachmentannotation"</span>,{source:<span class="code-keyword">this</span>,id:(<span class="code-number">0</span>,n.stringToPDFString</span>)(<span class="code-params">t</span>),<span class="code-params">filename</span>:<span class="code-params">t</span>,<span class="code-params">content</span>:<span class="code-params">r</span>})}<span class="code-params">render</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">className</span>="<span class="code-params">fileAttachmentAnnotation</span>";<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"div"</span></span>);<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">style</span>.<span class="code-params">height</span>=<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">style</span>.<span class="code-params">height</span>,<span class="code-params">e</span>.<span class="code-params">style</span>.<span class="code-params">width</span>=<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">style</span>.<span class="code-params">width</span>,<span class="code-params">e</span>.<span class="code-params">addEventListener</span>(<span class="code-params"><span class="code-string">"dblclick"</span>,<span class="code-keyword">this</span>._download.bind(<span class="code-keyword">this</span></span>)),<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">hasPopup</span>||!<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">title</span>&amp;&amp;!<span class="code-params">this</span>.<span class="code-params">data</span>.<span class="code-params">contents</span>||<span class="code-params">this</span>.<span class="code-params">_createPopup</span>(<span class="code-params"><span class="code-keyword">this</span>.container,e,<span class="code-keyword">this</span>.data</span>),<span class="code-params">this</span>.<span class="code-params">container</span>.<span class="code-params">appendChild</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">container</span>}<span class="code-params">_download</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">downloadManager</span>?<span class="code-params">this</span>.<span class="code-params">downloadManager</span>.<span class="code-params">downloadData</span>(<span class="code-params"><span class="code-keyword">this</span>.content,<span class="code-keyword">this</span>.filename,<span class="code-string">""</span></span>):(<span class="code-params"><span class="code-number">0</span>,n.warn</span>)(<span class="code-params"><span class="code-string">"Download cannot be started due to unavailable download manager"</span></span>)}}<span class="code-params">t</span>.<span class="code-params">AnnotationLayer</span>=<span class="code-params">class</span>{<span class="code-params">static</span> <span class="code-params">render</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=[],<span class="code-params">r</span>=[];<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> s <span class="code-keyword">of</span> e.annotations</span>)<span class="code-params">s</span>&amp;&amp;(<span class="code-params">s.annotationType!==n.AnnotationType.POPUP?t.push(s</span>):<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params">s</span>));<span class="code-params">r</span>.<span class="code-params">length</span>&amp;&amp;<span class="code-params">t</span>.<span class="code-params">push</span>(<span class="code-params">...r</span>);<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> r <span class="code-keyword">of</span> t</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">i</span>.<span class="code-params">create</span>(<span class="code-params">{data:r,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||<span class="code-string">""</span>,renderInteractiveForms:e.renderInteractiveForms||!<span class="code-number">1</span>,svgFactory:<span class="code-keyword">new</span> s.DOMSVGFactory}</span>);<span class="code-params">t</span>.<span class="code-params">isRenderable</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">div</span>.<span class="code-params">appendChild</span>(<span class="code-params">t.render(</span>))}}<span class="code-params">static</span> <span class="code-params">update</span>(<span class="code-params">e</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> t <span class="code-keyword">of</span> e.annotations</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">div</span>.<span class="code-params">querySelector</span>(<span class="code-params"><span class="code-string">`[data-annotation-id="<span class="code-subst">${t.id}</span>"]`</span></span>);<span class="code-params">r</span>&amp;&amp;(<span class="code-params">r.style.transform=<span class="code-string">`matrix(<span class="code-subst">${e.viewport.transform.join(<span class="code-string">","</span>)}</span>)`</span></span>)}<span class="code-params">e</span>.<span class="code-params">div</span>.<span class="code-params">removeAttribute</span>(<span class="code-params"><span class="code-string">"hidden"</span></span>)}}},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">renderTextLayer</span>=<span class="code-params">void</span> 0;<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">2</span></span>),<span class="code-params">n</span>=<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">var</span> <span class="code-params">e</span>=/\<span class="code-params">S</span>/;<span class="code-params">function</span> <span class="code-params">t</span>(<span class="code-params">t,r,n</span>){<span class="code-params">var</span> <span class="code-params">i</span>,<span class="code-params">a</span>=<span class="code-params">document</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"span"</span></span>),<span class="code-params">o</span>={<span class="code-params">angle</span>:0,<span class="code-params">canvasWidth</span>:0,<span class="code-params">isWhitespace</span>:!1,<span class="code-params">originalTransform</span>:<span class="code-params">null</span>,<span class="code-params">paddingBottom</span>:0,<span class="code-params">paddingLeft</span>:0,<span class="code-params">paddingRight</span>:0,<span class="code-params">paddingTop</span>:0,<span class="code-params">scale</span>:1};<span class="code-params">if</span>(<span class="code-params">t._textDivs.push(a</span>),<span class="code-params">i</span>=<span class="code-params">r</span>.<span class="code-params">str</span>,!<span class="code-params">e</span>.<span class="code-params">test</span>(<span class="code-params">i</span>))<span class="code-params">return</span> <span class="code-params">o</span>.<span class="code-params">isWhitespace</span>=!0,<span class="code-params">void</span> <span class="code-params">t</span>.<span class="code-params">_textDivProperties</span>.<span class="code-params">set</span>(<span class="code-params">a,o</span>);<span class="code-params">var</span> <span class="code-params">l</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">transform</span>(<span class="code-params">t._viewport.transform,r.transform</span>),<span class="code-params">c</span>=<span class="code-params">Math</span>.<span class="code-params">atan2</span>(<span class="code-params">l[<span class="code-number">1</span>],l[<span class="code-number">0</span>]</span>),<span class="code-params">h</span>=<span class="code-params">n</span>[<span class="code-params">r</span>.<span class="code-params">fontName</span>];<span class="code-params">h</span>.<span class="code-params">vertical</span>&amp;&amp;(<span class="code-params">c+=<span class="code-built_in">Math</span>.PI<span class="code-regexp">/2);var d=Math.sqrt(l[2]*l[2]+l[3]*l[3]),u=d;let p,g;h.ascent?u=h.ascent*u:h.descent&amp;&amp;(u=(1+h.descent)*u),0===c?(p=l[4],g=l[5]-u):(p=l[4]+u*Math.sin(c),g=l[5]-u*Math.cos(c)),a.style.left=p+"px",a.style.top=g+"px",a.style.fontSize=d+"px",a.style.fontFamily=h.fontFamily,a.textContent=r.str,t._fontInspectorEnabled&amp;&amp;(a.dataset.fontName=r.fontName),0!==c&amp;&amp;(o.angle=c*(180/</span><span class="code-built_in">Math</span>.PI</span>));<span class="code-params">let</span> <span class="code-params">f</span>=!1;<span class="code-params">if</span>(<span class="code-params">r.str.length&gt;<span class="code-number">1</span></span>)<span class="code-params">f</span>=!0;<span class="code-params">else</span> <span class="code-params">if</span>(<span class="code-params">r.transform[<span class="code-number">0</span>]!==r.transform[<span class="code-number">3</span>]</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">Math</span>.<span class="code-params">abs</span>(<span class="code-params">r.transform[<span class="code-number">0</span>]</span>),<span class="code-params">t</span>=<span class="code-params">Math</span>.<span class="code-params">abs</span>(<span class="code-params">r.transform[<span class="code-number">3</span>]</span>);<span class="code-params">e</span>!==<span class="code-params">t</span>&amp;&amp;<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params">e,t</span>)/<span class="code-params">Math</span>.<span class="code-params">min</span>(<span class="code-params">e,t</span>)&gt;1.5&amp;&amp;(<span class="code-params">f=!<span class="code-number">0</span></span>)}<span class="code-params">if</span>(<span class="code-params">f&amp;&amp;(h.vertical?o.canvasWidth=r.height*t._viewport.scale:o.canvasWidth=r.width*t._viewport.scale</span>),<span class="code-params">t</span>.<span class="code-params">_textDivProperties</span>.<span class="code-params">set</span>(<span class="code-params">a,o</span>),<span class="code-params">t</span>.<span class="code-params">_textContentStream</span>&amp;&amp;<span class="code-params">t</span>.<span class="code-params">_layoutText</span>(<span class="code-params">a</span>),<span class="code-params">t</span>.<span class="code-params">_enhanceTextSelection</span>){<span class="code-params">var</span> <span class="code-params">m</span>=1,<span class="code-params">A</span>=0;0!==<span class="code-params">c</span>&amp;&amp;(<span class="code-params">m=<span class="code-built_in">Math</span>.cos(c</span>),<span class="code-params">A</span>=<span class="code-params">Math</span>.<span class="code-params">sin</span>(<span class="code-params">c</span>));<span class="code-params">var</span> <span class="code-params">b</span>,<span class="code-params">_</span>,<span class="code-params">y</span>=(<span class="code-params">h.vertical?r.height:r.width</span>)*<span class="code-params">t</span>.<span class="code-params">_viewport</span>.<span class="code-params">scale</span>,<span class="code-params">v</span>=<span class="code-params">d</span>;0!==<span class="code-params">c</span>?(<span class="code-params">b=[m,A,-A,m,p,g],_=s.Util.getAxialAlignedBoundingBox([<span class="code-number">0</span>,<span class="code-number">0</span>,y,v],b</span>)):<span class="code-params">_</span>=[<span class="code-params">p</span>,<span class="code-params">g</span>,<span class="code-params">p</span>+<span class="code-params">y</span>,<span class="code-params">g</span>+<span class="code-params">v</span>],<span class="code-params">t</span>.<span class="code-params">_bounds</span>.<span class="code-params">push</span>(<span class="code-params">{left:_[<span class="code-number">0</span>],top:_[<span class="code-number">1</span>],right:_[<span class="code-number">2</span>],bottom:_[<span class="code-number">3</span>],div:a,size:[y,v],m:b}</span>)}}<span class="code-params">function</span> <span class="code-params">r</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params">!e._canceled</span>){<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">_textDivs</span>,<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">_capability</span>,<span class="code-params">s</span>=<span class="code-params">t</span>.<span class="code-params">length</span>;<span class="code-params">if</span>(<span class="code-params">s&gt;<span class="code-number">1e5</span></span>)<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">_renderingDone</span>=!0,<span class="code-params">void</span> <span class="code-params">r</span>.<span class="code-params">resolve</span><span class="code-params">()</span>;<span class="code-params">if</span>(<span class="code-params">!e._textContentStream</span>)<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> n=<span class="code-number">0</span>;n&lt;s;n++</span>)<span class="code-params">e</span>.<span class="code-params">_layoutText</span>(<span class="code-params">t[n]</span>);<span class="code-params">e</span>.<span class="code-params">_renderingDone</span>=!0,<span class="code-params">r</span>.<span class="code-params">resolve</span><span class="code-params">()</span>}}<span class="code-params">function</span> <span class="code-params">n</span>(<span class="code-params">e,t,r</span>){<span class="code-params">let</span> <span class="code-params">s</span>=0;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> n=<span class="code-number">0</span>;n&lt;r;n++</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>[<span class="code-params">t</span>++];<span class="code-params">r</span>&gt;0&amp;&amp;(<span class="code-params">s=s?<span class="code-built_in">Math</span>.min(r,s</span>):<span class="code-params">r</span>)}<span class="code-params">return</span> <span class="code-params">s</span>}<span class="code-params">function</span> <span class="code-params">i</span>(<span class="code-params">e</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> t=e._bounds,r=e._viewport,i=<span class="code-keyword">function</span>(e,t,r</span>){<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">r</span>.<span class="code-params">map</span>(<span class="code-params">(<span class="code-keyword">function</span>(e,t</span>){<span class="code-params">return</span>{<span class="code-params">x1</span>:<span class="code-params">e</span>.<span class="code-params">left</span>,<span class="code-params">y1</span>:<span class="code-params">e</span>.<span class="code-params">top</span>,<span class="code-params">x2</span>:<span class="code-params">e</span>.<span class="code-params">right</span>,<span class="code-params">y2</span>:<span class="code-params">e</span>.<span class="code-params">bottom</span>,<span class="code-params">index</span>:<span class="code-params">t</span>,<span class="code-params">x1New</span>:<span class="code-params">void</span> 0,<span class="code-params">x2New</span>:<span class="code-params">void</span> 0}}));<span class="code-params">a</span>(<span class="code-params">e,s</span>);<span class="code-params">var</span> <span class="code-params">n</span>=<span class="code-params">new</span> <span class="code-params">Array</span>(<span class="code-params">r.length</span>);<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">index</span>;<span class="code-params">n</span>[<span class="code-params">t</span>]={<span class="code-params">left</span>:<span class="code-params">e</span>.<span class="code-params">x1New</span>,<span class="code-params">top</span>:0,<span class="code-params">right</span>:<span class="code-params">e</span>.<span class="code-params">x2New</span>,<span class="code-params">bottom</span>:0}})),<span class="code-params">r</span>.<span class="code-params">map</span>(<span class="code-params">(<span class="code-keyword">function</span>(t,r</span>){<span class="code-params">var</span> <span class="code-params">i</span>=<span class="code-params">n</span>[<span class="code-params">r</span>],<span class="code-params">a</span>=<span class="code-params">s</span>[<span class="code-params">r</span>];<span class="code-params">a</span>.<span class="code-params">x1</span>=<span class="code-params">t</span>.<span class="code-params">top</span>,<span class="code-params">a</span>.<span class="code-params">y1</span>=<span class="code-params">e</span>-<span class="code-params">i</span>.<span class="code-params">right</span>,<span class="code-params">a</span>.<span class="code-params">x2</span>=<span class="code-params">t</span>.<span class="code-params">bottom</span>,<span class="code-params">a</span>.<span class="code-params">y2</span>=<span class="code-params">e</span>-<span class="code-params">i</span>.<span class="code-params">left</span>,<span class="code-params">a</span>.<span class="code-params">index</span>=<span class="code-params">r</span>,<span class="code-params">a</span>.<span class="code-params">x1New</span>=<span class="code-params">void</span> 0,<span class="code-params">a</span>.<span class="code-params">x2New</span>=<span class="code-params">void</span> 0})),<span class="code-params">a</span>(<span class="code-params">t,s</span>),<span class="code-params">s</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">index</span>;<span class="code-params">n</span>[<span class="code-params">t</span>].<span class="code-params">top</span>=<span class="code-params">e</span>.<span class="code-params">x1New</span>,<span class="code-params">n</span>[<span class="code-params">t</span>].<span class="code-params">bottom</span>=<span class="code-params">e</span>.<span class="code-params">x2New</span>})),<span class="code-params">n</span>}(<span class="code-params">r.width,r.height,t</span>),<span class="code-params">o</span>=0;<span class="code-params">o</span>&lt;<span class="code-params">i</span>.<span class="code-params">length</span>;<span class="code-params">o</span>++){<span class="code-params">var</span> <span class="code-params">l</span>=<span class="code-params">t</span>[<span class="code-params">o</span>].<span class="code-params">div</span>,<span class="code-params">c</span>=<span class="code-params">e</span>.<span class="code-params">_textDivProperties</span>.<span class="code-params">get</span>(<span class="code-params">l</span>);<span class="code-params">if</span>(<span class="code-params"><span class="code-number">0</span>!==c.angle</span>){<span class="code-params">var</span> <span class="code-params">h</span>=<span class="code-params">i</span>[<span class="code-params">o</span>],<span class="code-params">d</span>=<span class="code-params">t</span>[<span class="code-params">o</span>],<span class="code-params">u</span>=<span class="code-params">d</span>.<span class="code-params">m</span>,<span class="code-params">p</span>=<span class="code-params">u</span>[0],<span class="code-params">g</span>=<span class="code-params">u</span>[1],<span class="code-params">f</span>=[[0,0],[0,<span class="code-params">d</span>.<span class="code-params">size</span>[1]],[<span class="code-params">d</span>.<span class="code-params">size</span>[0],0],<span class="code-params">d</span>.<span class="code-params">size</span>],<span class="code-params">m</span>=<span class="code-params">new</span> <span class="code-params">Float64Array</span>(<span class="code-params"><span class="code-number">64</span></span>);<span class="code-params">f</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(e,t</span>){<span class="code-params">var</span> <span class="code-params">r</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">e,u</span>);<span class="code-params">m</span>[<span class="code-params">t</span>+0]=<span class="code-params">p</span>&amp;&amp;(<span class="code-params">h.left-r[<span class="code-number">0</span>]</span>)/<span class="code-params">p</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+4]=<span class="code-params">g</span>&amp;&amp;(<span class="code-params">h.top-r[<span class="code-number">1</span>]</span>)/<span class="code-params">g</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+8]=<span class="code-params">p</span>&amp;&amp;(<span class="code-params">h.right-r[<span class="code-number">0</span>]</span>)/<span class="code-params">p</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+12]=<span class="code-params">g</span>&amp;&amp;(<span class="code-params">h.bottom-r[<span class="code-number">1</span>]</span>)/<span class="code-params">g</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+16]=<span class="code-params">g</span>&amp;&amp;(<span class="code-params">h.left-r[<span class="code-number">0</span>]</span>)/-<span class="code-params">g</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+20]=<span class="code-params">p</span>&amp;&amp;(<span class="code-params">h.top-r[<span class="code-number">1</span>]</span>)/<span class="code-params">p</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+24]=<span class="code-params">g</span>&amp;&amp;(<span class="code-params">h.right-r[<span class="code-number">0</span>]</span>)/-<span class="code-params">g</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+28]=<span class="code-params">p</span>&amp;&amp;(<span class="code-params">h.bottom-r[<span class="code-number">1</span>]</span>)/<span class="code-params">p</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+32]=<span class="code-params">p</span>&amp;&amp;(<span class="code-params">h.left-r[<span class="code-number">0</span>]</span>)/-<span class="code-params">p</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+36]=<span class="code-params">g</span>&amp;&amp;(<span class="code-params">h.top-r[<span class="code-number">1</span>]</span>)/-<span class="code-params">g</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+40]=<span class="code-params">p</span>&amp;&amp;(<span class="code-params">h.right-r[<span class="code-number">0</span>]</span>)/-<span class="code-params">p</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+44]=<span class="code-params">g</span>&amp;&amp;(<span class="code-params">h.bottom-r[<span class="code-number">1</span>]</span>)/-<span class="code-params">g</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+48]=<span class="code-params">g</span>&amp;&amp;(<span class="code-params">h.left-r[<span class="code-number">0</span>]</span>)/<span class="code-params">g</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+52]=<span class="code-params">p</span>&amp;&amp;(<span class="code-params">h.top-r[<span class="code-number">1</span>]</span>)/-<span class="code-params">p</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+56]=<span class="code-params">g</span>&amp;&amp;(<span class="code-params">h.right-r[<span class="code-number">0</span>]</span>)/<span class="code-params">g</span>,<span class="code-params">m</span>[<span class="code-params">t</span>+60]=<span class="code-params">p</span>&amp;&amp;(<span class="code-params">h.bottom-r[<span class="code-number">1</span>]</span>)/-<span class="code-params">p</span>}));<span class="code-params">var</span> <span class="code-params">A</span>=1+<span class="code-params">Math</span>.<span class="code-params">min</span>(<span class="code-params"><span class="code-built_in">Math</span>.abs(p</span>),<span class="code-params">Math</span>.<span class="code-params">abs</span>(<span class="code-params">g</span>));<span class="code-params">c</span>.<span class="code-params">paddingLeft</span>=<span class="code-params">n</span>(<span class="code-params">m,<span class="code-number">32</span>,<span class="code-number">16</span></span>)/<span class="code-params">A</span>,<span class="code-params">c</span>.<span class="code-params">paddingTop</span>=<span class="code-params">n</span>(<span class="code-params">m,<span class="code-number">48</span>,<span class="code-number">16</span></span>)/<span class="code-params">A</span>,<span class="code-params">c</span>.<span class="code-params">paddingRight</span>=<span class="code-params">n</span>(<span class="code-params">m,<span class="code-number">0</span>,<span class="code-number">16</span></span>)/<span class="code-params">A</span>,<span class="code-params">c</span>.<span class="code-params">paddingBottom</span>=<span class="code-params">n</span>(<span class="code-params">m,<span class="code-number">16</span>,<span class="code-number">16</span></span>)/<span class="code-params">A</span>,<span class="code-params">e</span>.<span class="code-params">_textDivProperties</span>.<span class="code-params">set</span>(<span class="code-params">l,c</span>)}<span class="code-params">else</span> <span class="code-params">c</span>.<span class="code-params">paddingLeft</span>=<span class="code-params">t</span>[<span class="code-params">o</span>].<span class="code-params">left</span>-<span class="code-params">i</span>[<span class="code-params">o</span>].<span class="code-params">left</span>,<span class="code-params">c</span>.<span class="code-params">paddingTop</span>=<span class="code-params">t</span>[<span class="code-params">o</span>].<span class="code-params">top</span>-<span class="code-params">i</span>[<span class="code-params">o</span>].<span class="code-params">top</span>,<span class="code-params">c</span>.<span class="code-params">paddingRight</span>=<span class="code-params">i</span>[<span class="code-params">o</span>].<span class="code-params">right</span>-<span class="code-params">t</span>[<span class="code-params">o</span>].<span class="code-params">right</span>,<span class="code-params">c</span>.<span class="code-params">paddingBottom</span>=<span class="code-params">i</span>[<span class="code-params">o</span>].<span class="code-params">bottom</span>-<span class="code-params">t</span>[<span class="code-params">o</span>].<span class="code-params">bottom</span>,<span class="code-params">e</span>.<span class="code-params">_textDivProperties</span>.<span class="code-params">set</span>(<span class="code-params">l,c</span>)}}<span class="code-params">function</span> <span class="code-params">a</span>(<span class="code-params">e,t</span>){<span class="code-params">t</span>.<span class="code-params">sort</span>(<span class="code-params">(<span class="code-keyword">function</span>(e,t</span>){<span class="code-params">return</span> <span class="code-params">e</span>.<span class="code-params">x1</span>-<span class="code-params">t</span>.<span class="code-params">x1</span>||<span class="code-params">e</span>.<span class="code-params">index</span>-<span class="code-params">t</span>.<span class="code-params">index</span>}));<span class="code-params">var</span> <span class="code-params">r</span>=[{<span class="code-params">start</span>:-1/0,<span class="code-params">end</span>:1/0,<span class="code-params">boundary</span>:{<span class="code-params">x1</span>:-1/0,<span class="code-params">y1</span>:-1/0,<span class="code-params">x2</span>:0,<span class="code-params">y2</span>:1/0,<span class="code-params">index</span>:-1,<span class="code-params">x1New</span>:0,<span class="code-params">x2New</span>:0}}];<span class="code-params">t</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(e</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> t=<span class="code-number">0</span>;t&lt;r.length&amp;&amp;r[t].end&lt;=e.y1;</span>)<span class="code-params">t</span>++;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">var</span> s,n,i=r.length<span class="code-number">-1</span>;i&gt;=<span class="code-number">0</span>&amp;&amp;r[i].start&gt;=e.y2;</span>)<span class="code-params">i</span>--;<span class="code-params">var</span> <span class="code-params">a</span>,<span class="code-params">o</span>,<span class="code-params">l</span>=-1/0;<span class="code-params">for</span>(<span class="code-params">a=t;a&lt;=i;a++</span>){<span class="code-params">var</span> <span class="code-params">c</span>;(<span class="code-params">c=(n=(s=r[a]</span>).<span class="code-params">boundary</span>).<span class="code-params">x2</span>&gt;<span class="code-params">e</span>.<span class="code-params">x1</span>?<span class="code-params">n</span>.<span class="code-params">index</span>&gt;<span class="code-params">e</span>.<span class="code-params">index</span>?<span class="code-params">n</span>.<span class="code-params">x1New</span>:<span class="code-params">e</span>.<span class="code-params">x1</span>:<span class="code-params">void</span> 0===<span class="code-params">n</span>.<span class="code-params">x2New</span>?(<span class="code-params">n.x2+e.x1</span>)/2:<span class="code-params">n</span>.<span class="code-params">x2New</span>)&gt;<span class="code-params">l</span>&amp;&amp;(<span class="code-params">l=c</span>)}<span class="code-params">for</span>(<span class="code-params">e.x1New=l,a=t;a&lt;=i;a++</span>)<span class="code-params">void</span> 0===(<span class="code-params">n=(s=r[a]</span>).<span class="code-params">boundary</span>).<span class="code-params">x2New</span>?<span class="code-params">n</span>.<span class="code-params">x2</span>&gt;<span class="code-params">e</span>.<span class="code-params">x1</span>?<span class="code-params">n</span>.<span class="code-params">index</span>&gt;<span class="code-params">e</span>.<span class="code-params">index</span>&amp;&amp;(<span class="code-params">n.x2New=n.x2</span>):<span class="code-params">n</span>.<span class="code-params">x2New</span>=<span class="code-params">l</span>:<span class="code-params">n</span>.<span class="code-params">x2New</span>&gt;<span class="code-params">l</span>&amp;&amp;(<span class="code-params">n.x2New=<span class="code-built_in">Math</span>.max(l,n.x2</span>));<span class="code-params">var</span> <span class="code-params">h</span>=[],<span class="code-params">d</span>=<span class="code-params">null</span>;<span class="code-params">for</span>(<span class="code-params">a=t;a&lt;=i;a++</span>){<span class="code-params">var</span> <span class="code-params">u</span>=(<span class="code-params">n=(s=r[a]</span>).<span class="code-params">boundary</span>).<span class="code-params">x2</span>&gt;<span class="code-params">e</span>.<span class="code-params">x2</span>?<span class="code-params">n</span>:<span class="code-params">e</span>;<span class="code-params">d</span>===<span class="code-params">u</span>?<span class="code-params">h</span>[<span class="code-params">h</span>.<span class="code-params">length</span>-1].<span class="code-params">end</span>=<span class="code-params">s</span>.<span class="code-params">end</span>:(<span class="code-params">h.push({start:s.start,end:s.end,boundary:u}</span>),<span class="code-params">d</span>=<span class="code-params">u</span>)}<span class="code-params">for</span>(<span class="code-params">r[t].start&lt;e.y1&amp;&amp;(h[<span class="code-number">0</span>].start=e.y1,h.unshift({start:r[t].start,end:e.y1,boundary:r[t].boundary}</span>)),<span class="code-params">e</span>.<span class="code-params">y2</span>&lt;<span class="code-params">r</span>[<span class="code-params">i</span>].<span class="code-params">end</span>&amp;&amp;(<span class="code-params">h[h.length<span class="code-number">-1</span>].end=e.y2,h.push({start:e.y2,end:r[i].end,boundary:r[i].boundary}</span>)),<span class="code-params">a</span>=<span class="code-params">t</span>;<span class="code-params">a</span>&lt;=<span class="code-params">i</span>;<span class="code-params">a</span>++)<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">void</span> <span class="code-number">0</span>===(n=(s=r[a]</span>).<span class="code-params">boundary</span>).<span class="code-params">x2New</span>){<span class="code-params">var</span> <span class="code-params">p</span>=!1;<span class="code-params">for</span>(<span class="code-params">o=t<span class="code-number">-1</span>;!p&amp;&amp;o&gt;=<span class="code-number">0</span>&amp;&amp;r[o].start&gt;=n.y1;o--</span>)<span class="code-params">p</span>=<span class="code-params">r</span>[<span class="code-params">o</span>].<span class="code-params">boundary</span>===<span class="code-params">n</span>;<span class="code-params">for</span>(<span class="code-params">o=i+<span class="code-number">1</span>;!p&amp;&amp;o&lt;r.length&amp;&amp;r[o].end&lt;=n.y2;o++</span>)<span class="code-params">p</span>=<span class="code-params">r</span>[<span class="code-params">o</span>].<span class="code-params">boundary</span>===<span class="code-params">n</span>;<span class="code-params">for</span>(<span class="code-params">o=<span class="code-number">0</span>;!p&amp;&amp;o&lt;h.length;o++</span>)<span class="code-params">p</span>=<span class="code-params">h</span>[<span class="code-params">o</span>].<span class="code-params">boundary</span>===<span class="code-params">n</span>;<span class="code-params">p</span>||(<span class="code-params">n.x2New=l</span>)}<span class="code-params">Array</span>.<span class="code-params">prototype</span>.<span class="code-params">splice</span>.<span class="code-params">apply</span>(<span class="code-params">r,[t,i-t+<span class="code-number">1</span>].concat(h</span>))})),<span class="code-params">r</span>.<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(t</span>){<span class="code-params">var</span> <span class="code-params">r</span>=<span class="code-params">t</span>.<span class="code-params">boundary</span>;<span class="code-params">void</span> 0===<span class="code-params">r</span>.<span class="code-params">x2New</span>&amp;&amp;(<span class="code-params">r.x2New=<span class="code-built_in">Math</span>.max(e,r.x2</span>))}))}<span class="code-params">function</span> <span class="code-params">o</span>(<span class="code-params">{textContent:e,textContentStream:t,container:r,viewport:n,textDivs:i,textContentItemsStr:a,enhanceTextSelection:o}</span>){<span class="code-params">this</span>.<span class="code-params">_textContent</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">_textContentStream</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">_container</span>=<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">_viewport</span>=<span class="code-params">n</span>,<span class="code-params">this</span>.<span class="code-params">_textDivs</span>=<span class="code-params">i</span>||[],<span class="code-params">this</span>.<span class="code-params">_textContentItemsStr</span>=<span class="code-params">a</span>||[],<span class="code-params">this</span>.<span class="code-params">_enhanceTextSelection</span>=!!<span class="code-params">o</span>,<span class="code-params">this</span>.<span class="code-params">_fontInspectorEnabled</span>=!(<span class="code-params">!globalThis.FontInspector||!globalThis.FontInspector.enabled</span>),<span class="code-params">this</span>.<span class="code-params">_reader</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_layoutTextLastFontSize</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_layoutTextLastFontFamily</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_layoutTextCtx</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_textDivProperties</span>=<span class="code-params">new</span> <span class="code-params">WeakMap</span>,<span class="code-params">this</span>.<span class="code-params">_renderingDone</span>=!1,<span class="code-params">this</span>.<span class="code-params">_canceled</span>=!1,<span class="code-params">this</span>.<span class="code-params">_capability</span>=(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">_renderTimer</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_bounds</span>=[],<span class="code-params">this</span>.<span class="code-params">_capability</span>.<span class="code-params">promise</span>.<span class="code-params">finally</span>(<span class="code-params">(</span>)=&gt;</span>{<span class="code-keyword">this</span>._layoutTextCtx&amp;&amp;<span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>._layoutTextCtx.canvas.width=<span class="code-number">0</span>,<span class="code-keyword">this</span>._layoutTextCtx.canvas.height=<span class="code-number">0</span>,<span class="code-keyword">this</span>._layoutTextCtx=<span class="code-literal">null</span></span>)}).<span class="code-params">catch</span>(<span class="code-params">(</span>)=&gt;</span>{})}<span class="code-keyword">return</span> o.prototype={<span class="code-keyword">get</span> promise(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._capability.promise},<span class="code-attr">cancel</span>:<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">this</span>._canceled=!<span class="code-number">0</span>,<span class="code-keyword">this</span>._reader&amp;&amp;<span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>._reader.cancel(<span class="code-keyword">new</span> s.AbortException(<span class="code-string">"TextLayer task cancelled."</span></span>)),<span class="code-params">this</span>.<span class="code-params">_reader</span>=<span class="code-params">null</span>),<span class="code-params">null</span>!==<span class="code-params">this</span>.<span class="code-params">_renderTimer</span>&amp;&amp;(<span class="code-params">clearTimeout(<span class="code-keyword">this</span>._renderTimer</span>),<span class="code-params">this</span>.<span class="code-params">_renderTimer</span>=<span class="code-params">null</span>),<span class="code-params">this</span>.<span class="code-params">_capability</span>.<span class="code-params">reject</span>(<span class="code-params"><span class="code-keyword">new</span> <span class="code-built_in">Error</span>(<span class="code-string">"TextLayer task cancelled."</span></span>))},<span class="code-params">_processItems</span>(<span class="code-params">e,r</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> s=<span class="code-number">0</span>,n=e.length;s&lt;n;s++</span>)<span class="code-params">this</span>.<span class="code-params">_textContentItemsStr</span>.<span class="code-params">push</span>(<span class="code-params">e[s].str</span>),<span class="code-params">t</span>(<span class="code-params"><span class="code-keyword">this</span>,e[s],r</span>)},<span class="code-params">_layoutText</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">_textDivProperties</span>.<span class="code-params">get</span>(<span class="code-params">e</span>);<span class="code-params">if</span>(<span class="code-params">t.isWhitespace</span>)<span class="code-params">return</span>;<span class="code-params">let</span> <span class="code-params">r</span>="";<span class="code-params">if</span>(<span class="code-params"><span class="code-number">0</span>!==t.canvasWidth</span>){<span class="code-params">const</span>{<span class="code-params">fontSize</span>:<span class="code-params">s</span>,<span class="code-params">fontFamily</span>:<span class="code-params">n</span>}=<span class="code-params">e</span>.<span class="code-params">style</span>;<span class="code-params">s</span>===<span class="code-params">this</span>.<span class="code-params">_layoutTextLastFontSize</span>&amp;&amp;<span class="code-params">n</span>===<span class="code-params">this</span>.<span class="code-params">_layoutTextLastFontFamily</span>||(<span class="code-params"><span class="code-keyword">this</span>._layoutTextCtx.font=<span class="code-string">`<span class="code-subst">${s}</span> <span class="code-subst">${n}</span>`</span>,<span class="code-keyword">this</span>._layoutTextLastFontSize=s,<span class="code-keyword">this</span>._layoutTextLastFontFamily=n</span>);<span class="code-params">const</span>{<span class="code-params">width</span>:<span class="code-params">i</span>}=<span class="code-params">this</span>.<span class="code-params">_layoutTextCtx</span>.<span class="code-params">measureText</span>(<span class="code-params">e.textContent</span>);<span class="code-params">i</span>&gt;0&amp;&amp;(<span class="code-params">t.scale=t.canvasWidth<span class="code-regexp">/i,r=`scaleX(${t.scale})`)}0!==t.angle&amp;&amp;(r=`rotate(${t.angle}deg) ${r}`),r.length&gt;0&amp;&amp;(this._enhanceTextSelection&amp;&amp;(t.originalTransform=r),e.style.transform=r),this._textDivProperties.set(e,t),this._container.appendChild(e)},_render:function(e){const t=(0,s.createPromiseCapability)();let n=Object.create(null);const i=document.createElement("canvas");if(i.mozOpaque=!0,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent){const e=this._textContent.items,r=this._textContent.styles;this._processItems(e,r),t.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const e=()=&gt;{this._reader.read().then(({value:r,done:s})=&gt;{s?t.resolve():(Object.assign(n,r.styles),this._processItems(r.items,n),e())},t.reject)};this._reader=this._textContentStream.getReader(),e()}}t.promise.then(()=&gt;{n=null,e?this._renderTimer=setTimeout(()=&gt;{r(this),this._renderTimer=null},e):r(this)},this._capability.reject)},expandTextDivs:function(e){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&amp;&amp;(i(this),this._bounds=null);const t=[],r=[];for(var s=0,n=this._textDivs.length;s&lt;n;s++){const n=this._textDivs[s],i=this._textDivProperties.get(n);i.isWhitespace||(e?(t.length=0,r.length=0,i.originalTransform&amp;&amp;t.push(i.originalTransform),i.paddingTop&gt;0?(r.push(i.paddingTop+"px"),t.push(`translateY(${-i.paddingTop}px)`)):r.push(0),i.paddingRight&gt;0?r.push(i.paddingRight/i</span>.scale+<span class="code-string">"px"</span></span>):<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-number">0</span></span>),<span class="code-params">i</span>.<span class="code-params">paddingBottom</span>&gt;0?<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params">i.paddingBottom+<span class="code-string">"px"</span></span>):<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-number">0</span></span>),<span class="code-params">i</span>.<span class="code-params">paddingLeft</span>&gt;0?(<span class="code-params">r.push(i.paddingLeft<span class="code-regexp">/i.scale+"px"),t.push(`translateX(${-i.paddingLeft/i</span>.scale}px</span>)`)):<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-number">0</span></span>),<span class="code-params">n</span>.<span class="code-params">style</span>.<span class="code-params">padding</span>=<span class="code-params">r</span>.<span class="code-params">join</span>(<span class="code-params"><span class="code-string">" "</span></span>),<span class="code-params">t</span>.<span class="code-params">length</span>&amp;&amp;(<span class="code-params">n.style.transform=t.join(<span class="code-string">" "</span></span>))):(<span class="code-params">n.style.padding=<span class="code-literal">null</span>,n.style.transform=i.originalTransform</span>))}}},<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">var</span> <span class="code-params">t</span>=<span class="code-params">new</span> <span class="code-params">o</span>(<span class="code-params">{textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection}</span>);<span class="code-params">return</span> <span class="code-params">t</span>.<span class="code-params">_render</span>(<span class="code-params">e.timeout</span>),<span class="code-params">t</span>}}<span class="code-params">()</span>;<span class="code-params">t</span>.<span class="code-params">renderTextLayer</span>=<span class="code-params">n</span>},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">SVGGraphics</span>=<span class="code-params">void</span> 0;<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">2</span></span>),<span class="code-params">n</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">1</span></span>),<span class="code-params">i</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">4</span></span>);<span class="code-params">let</span> <span class="code-params">a</span>=<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Not implemented: SVGGraphics"</span></span>)};<span class="code-params">t</span>.<span class="code-params">SVGGraphics</span>=<span class="code-params">a</span>;{<span class="code-params">const</span> <span class="code-params">e</span>={<span class="code-params">fontStyle</span>:"<span class="code-params">normal</span>",<span class="code-params">fontWeight</span>:"<span class="code-params">normal</span>",<span class="code-params">fillColor</span>:"#000000"},<span class="code-params">r</span>="<span class="code-params">http</span>://<span class="code-params">www</span>.<span class="code-params">w3</span>.<span class="code-params">org</span>/<span class="code-params">XML</span>/1998/<span class="code-params">namespace</span>",<span class="code-params">c</span>="<span class="code-params">http</span>://<span class="code-params">www</span>.<span class="code-params">w3</span>.<span class="code-params">org</span>/1999/<span class="code-params">xlink</span>",<span class="code-params">h</span>=["<span class="code-params">butt</span>","<span class="code-params">round</span>","<span class="code-params">square</span>"],<span class="code-params">d</span>=["<span class="code-params">miter</span>","<span class="code-params">round</span>","<span class="code-params">bevel</span>"],<span class="code-params">u</span>=<span class="code-params">function</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">[<span class="code-number">137</span>,<span class="code-number">80</span>,<span class="code-number">78</span>,<span class="code-number">71</span>,<span class="code-number">13</span>,<span class="code-number">10</span>,<span class="code-number">26</span>,<span class="code-number">10</span>]</span>),<span class="code-params">t</span>=<span class="code-params">new</span> <span class="code-params">Int32Array</span>(<span class="code-params"><span class="code-number">256</span></span>);<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> e=<span class="code-number">0</span>;e&lt;<span class="code-number">256</span>;e++</span>){<span class="code-params">let</span> <span class="code-params">r</span>=<span class="code-params">e</span>;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> e=<span class="code-number">0</span>;e&lt;<span class="code-number">8</span>;e++</span>)<span class="code-params">r</span>=1&amp;<span class="code-params">r</span>?3988292384^<span class="code-params">r</span>&gt;&gt;1&amp;2147483647:<span class="code-params">r</span>&gt;&gt;1&amp;2147483647;<span class="code-params">t</span>[<span class="code-params">e</span>]=<span class="code-params">r</span>}<span class="code-params">function</span> <span class="code-params">r</span>(<span class="code-params">e,r,s,n</span>){<span class="code-params">let</span> <span class="code-params">i</span>=<span class="code-params">n</span>;<span class="code-params">const</span> <span class="code-params">a</span>=<span class="code-params">r</span>.<span class="code-params">length</span>;<span class="code-params">s</span>[<span class="code-params">i</span>]=<span class="code-params">a</span>&gt;&gt;24&amp;255,<span class="code-params">s</span>[<span class="code-params">i</span>+1]=<span class="code-params">a</span>&gt;&gt;16&amp;255,<span class="code-params">s</span>[<span class="code-params">i</span>+2]=<span class="code-params">a</span>&gt;&gt;8&amp;255,<span class="code-params">s</span>[<span class="code-params">i</span>+3]=255&amp;<span class="code-params">a</span>,<span class="code-params">i</span>+=4,<span class="code-params">s</span>[<span class="code-params">i</span>]=255&amp;<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params"><span class="code-number">0</span></span>),<span class="code-params">s</span>[<span class="code-params">i</span>+1]=255&amp;<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params"><span class="code-number">1</span></span>),<span class="code-params">s</span>[<span class="code-params">i</span>+2]=255&amp;<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params"><span class="code-number">2</span></span>),<span class="code-params">s</span>[<span class="code-params">i</span>+3]=255&amp;<span class="code-params">e</span>.<span class="code-params">charCodeAt</span>(<span class="code-params"><span class="code-number">3</span></span>),<span class="code-params">i</span>+=4,<span class="code-params">s</span>.<span class="code-params">set</span>(<span class="code-params">r,i</span>),<span class="code-params">i</span>+=<span class="code-params">r</span>.<span class="code-params">length</span>;<span class="code-params">const</span> <span class="code-params">o</span>=<span class="code-params">function</span>(<span class="code-params">e,r,s</span>){<span class="code-params">let</span> <span class="code-params">n</span>=-1;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> i=r;i&lt;s;i++</span>){<span class="code-params">const</span> <span class="code-params">r</span>=255&amp;(<span class="code-params">n^e[i]</span>);<span class="code-params">n</span>=<span class="code-params">n</span>&gt;&gt;&gt;8^<span class="code-params">t</span>[<span class="code-params">r</span>]}<span class="code-params">return</span>-1^<span class="code-params">n</span>}(<span class="code-params">s,n+<span class="code-number">4</span>,i</span>);<span class="code-params">s</span>[<span class="code-params">i</span>]=<span class="code-params">o</span>&gt;&gt;24&amp;255,<span class="code-params">s</span>[<span class="code-params">i</span>+1]=<span class="code-params">o</span>&gt;&gt;16&amp;255,<span class="code-params">s</span>[<span class="code-params">i</span>+2]=<span class="code-params">o</span>&gt;&gt;8&amp;255,<span class="code-params">s</span>[<span class="code-params">i</span>+3]=255&amp;<span class="code-params">o</span>}<span class="code-params">function</span> <span class="code-params">n</span>(<span class="code-params">e</span>){<span class="code-params">let</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">length</span>;<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">Math</span>.<span class="code-params">ceil</span>(<span class="code-params">t<span class="code-regexp">/65535),s=new Uint8Array(2+t+5*r+4);let n=0;s[n++]=120,s[n++]=156;let i=0;for(;t&gt;65535;)s[n++]=0,s[n++]=255,s[n++]=255,s[n++]=0,s[n++]=0,s.set(e.subarray(i,i+65535),n),n+=65535,i+=65535,t-=65535;s[n++]=1,s[n++]=255&amp;t,s[n++]=t&gt;&gt;8&amp;255,s[n++]=255&amp;~t,s[n++]=(65535&amp;~t)&gt;&gt;8&amp;255,s.set(e.subarray(i),n),n+=e.length-i;const a=function(e,t,r){let s=1,n=0;for(let i=t;i&lt;r;++i)s=(s+(255&amp;e[i]))%65521,n=(n+s)%65521;return n&lt;&lt;16|s}(e,0,e.length);return s[n++]=a&gt;&gt;24&amp;255,s[n++]=a&gt;&gt;16&amp;255,s[n++]=a&gt;&gt;8&amp;255,s[n++]=255&amp;a,s}function a(t,a,o,l){const c=t.width,h=t.height;let d,u,p;const g=t.data;switch(a){case s.ImageKind.GRAYSCALE_1BPP:u=0,d=1,p=c+7&gt;&gt;3;break;case s.ImageKind.RGB_24BPP:u=2,d=8,p=3*c;break;case s.ImageKind.RGBA_32BPP:u=6,d=8,p=4*c;break;default:throw new Error("invalid format")}const f=new Uint8Array((1+p)*h);let m=0,A=0;for(let e=0;e&lt;h;++e)f[m++]=0,f.set(g.subarray(A,A+p),m),A+=p,m+=p;if(a===s.ImageKind.GRAYSCALE_1BPP&amp;&amp;l){m=0;for(let e=0;e&lt;h;e++){m++;for(let e=0;e&lt;p;e++)f[m++]^=255}}const b=new Uint8Array([c&gt;&gt;24&amp;255,c&gt;&gt;16&amp;255,c&gt;&gt;8&amp;255,255&amp;c,h&gt;&gt;24&amp;255,h&gt;&gt;16&amp;255,h&gt;&gt;8&amp;255,255&amp;h,d,u,0,0,0]),_=function(e){if(!i.isNodeJS)return n(e);try{let t;t=parseInt(process.versions.node)&gt;=8?e:Buffer.from(e);const r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return n(e)}(f),y=e.length+36+b.length+_.length,v=new Uint8Array(y);let S=0;return v.set(e,S),S+=e.length,r("IHDR",b,v,S),S+=12+b.length,r("IDATA",_,v,S),S+=12+_.length,r("IEND",new Uint8Array(0),v,S),(0,s.createObjectURL)(v,"image/</span>png<span class="code-string">",o)}return function(e,t,r){return a(e,void 0===e.kind?s.ImageKind.GRAYSCALE_1BPP:e.kind,t,r)}}();class p{constructor(){this.fontSizeScale=1,this.fontWeight=e.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=e.fillColor,this.strokeColor="</span>#<span class="code-number">000000</span><span class="code-string">",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="</span><span class="code-string">",this.lineCap="</span><span class="code-string">",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId="</span><span class="code-string">"}clone(){return Object.create(this)}setCurrentPoint(e,t){this.x=e,this.y=t}}function o(e){if(Number.isInteger(e))return e.toString();const t=e.toFixed(10);let r=t.length-1;if("</span><span class="code-number">0</span><span class="code-string">"!==t[r])return t;do{r--}while("</span><span class="code-number">0</span><span class="code-string">"===t[r]);return t.substring(0,"</span>.<span class="code-string">"===t[r]?r:r+1)}function l(e){if(0===e[4]&amp;&amp;0===e[5]){if(0===e[1]&amp;&amp;0===e[2])return 1===e[0]&amp;&amp;1===e[3]?"</span><span class="code-string">":`scale(${o(e[0])} ${o(e[3])})`;if(e[0]===e[3]&amp;&amp;e[1]===-e[2]){return`rotate(${o(180*Math.acos(e[0])/Math.PI)})`}}else if(1===e[0]&amp;&amp;0===e[1]&amp;&amp;0===e[2]&amp;&amp;1===e[3])return`translate(${o(e[4])} ${o(e[5])})`;return`matrix(${o(e[0])} ${o(e[1])} ${o(e[2])} ${o(e[3])} ${o(e[4])} `+o(e[5])+"</span></span>)"}<span class="code-params">let</span> <span class="code-params">g</span>=0,<span class="code-params">f</span>=0,<span class="code-params">m</span>=0;<span class="code-params">t</span>.<span class="code-params">SVGGraphics</span>=<span class="code-params">a</span>=<span class="code-params">class</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t,r=!<span class="code-number">1</span></span>){<span class="code-params">this</span>.<span class="code-params">svgFactory</span>=<span class="code-params">new</span> <span class="code-params">n</span>.<span class="code-params">DOMSVGFactory</span>,<span class="code-params">this</span>.<span class="code-params">current</span>=<span class="code-params">new</span> <span class="code-params">p</span>,<span class="code-params">this</span>.<span class="code-params">transformMatrix</span>=<span class="code-params">s</span>.<span class="code-params">IDENTITY_MATRIX</span>,<span class="code-params">this</span>.<span class="code-params">transformStack</span>=[],<span class="code-params">this</span>.<span class="code-params">extraStack</span>=[],<span class="code-params">this</span>.<span class="code-params">commonObjs</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">objs</span>=<span class="code-params">t</span>,<span class="code-params">this</span>.<span class="code-params">pendingClip</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">pendingEOFill</span>=!1,<span class="code-params">this</span>.<span class="code-params">embedFonts</span>=!1,<span class="code-params">this</span>.<span class="code-params">embeddedFonts</span>=<span class="code-params">Object</span>.<span class="code-params">create</span>(<span class="code-params"><span class="code-literal">null</span></span>),<span class="code-params">this</span>.<span class="code-params">cssStyle</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">forceDataSchema</span>=!!<span class="code-params">r</span>,<span class="code-params">this</span>.<span class="code-params">_operatorIdMapping</span>=[];<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> e <span class="code-keyword">in</span> s.OPS</span>)<span class="code-params">this</span>.<span class="code-params">_operatorIdMapping</span>[<span class="code-params">s</span>.<span class="code-params">OPS</span>[<span class="code-params">e</span>]]=<span class="code-params">e</span>}<span class="code-params">save</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">transformStack</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-keyword">this</span>.transformMatrix</span>);<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">this</span>.<span class="code-params">extraStack</span>.<span class="code-params">push</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">current</span>=<span class="code-params">e</span>.<span class="code-params">clone</span><span class="code-params">()</span>}<span class="code-params">restore</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">transformMatrix</span>=<span class="code-params">this</span>.<span class="code-params">transformStack</span>.<span class="code-params">pop</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">current</span>=<span class="code-params">this</span>.<span class="code-params">extraStack</span>.<span class="code-params">pop</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">pendingClip</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">tgrp</span>=<span class="code-params">null</span>}<span class="code-params">group</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">save</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">executeOpTree</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">restore</span><span class="code-params">()</span>}<span class="code-params">loadDependencies</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">fnArray</span>,<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">argsArray</span>;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> e=<span class="code-number">0</span>,n=t.length;e&lt;n;e++</span>)<span class="code-params">if</span>(<span class="code-params">t[e]===s.OPS.dependency</span>)<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> t <span class="code-keyword">of</span> r[e]</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">t</span>.<span class="code-params">startsWith</span>(<span class="code-params"><span class="code-string">"g_"</span></span>)?<span class="code-params">this</span>.<span class="code-params">commonObjs</span>:<span class="code-params">this</span>.<span class="code-params">objs</span>,<span class="code-params">r</span>=<span class="code-params">new</span> <span class="code-params">Promise</span>(<span class="code-params">r=&gt;{e.get(t,r</span>)});<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">dependencies</span>.<span class="code-params">push</span>(<span class="code-params">r</span>)}<span class="code-params">return</span> <span class="code-params">Promise</span>.<span class="code-params">all</span>(<span class="code-params"><span class="code-keyword">this</span>.current.dependencies</span>)}<span class="code-params">transform</span>(<span class="code-params">e,t,r,n,i,a</span>){<span class="code-params">const</span> <span class="code-params">o</span>=[<span class="code-params">e</span>,<span class="code-params">t</span>,<span class="code-params">r</span>,<span class="code-params">n</span>,<span class="code-params">i</span>,<span class="code-params">a</span>];<span class="code-params">this</span>.<span class="code-params">transformMatrix</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">transform</span>(<span class="code-params"><span class="code-keyword">this</span>.transformMatrix,o</span>),<span class="code-params">this</span>.<span class="code-params">tgrp</span>=<span class="code-params">null</span>}<span class="code-params">getSVG</span>(<span class="code-params">e,t</span>){<span class="code-params">this</span>.<span class="code-params">viewport</span>=<span class="code-params">t</span>;<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">_initialize</span>(<span class="code-params">t</span>);<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">loadDependencies</span>(<span class="code-params">e</span>).<span class="code-params">then</span>(<span class="code-params">(</span>)=&gt;</span><span class="code-function">(<span class="code-params"><span class="code-keyword">this</span>.transformMatrix=s.IDENTITY_MATRIX,<span class="code-keyword">this</span>.executeOpTree(<span class="code-keyword">this</span>.convertOpList(e</span>)),<span class="code-params">r</span>))}<span class="code-params">convertOpList</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">_operatorIdMapping</span>,<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">argsArray</span>,<span class="code-params">s</span>=<span class="code-params">e</span>.<span class="code-params">fnArray</span>,<span class="code-params">n</span>=[];<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">let</span> e=<span class="code-number">0</span>,i=s.length;e&lt;i;e++</span>){<span class="code-params">const</span> <span class="code-params">i</span>=<span class="code-params">s</span>[<span class="code-params">e</span>];<span class="code-params">n</span>.<span class="code-params">push</span>(<span class="code-params">{fnId:i,fn:t[i],args:r[e]}</span>)}<span class="code-params">return</span> <span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">let</span> <span class="code-params">t</span>=[];<span class="code-params">const</span> <span class="code-params">r</span>=[];<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> s <span class="code-keyword">of</span> e</span>)"<span class="code-params">save</span>"!==<span class="code-params">s</span>.<span class="code-params">fn</span>?"<span class="code-params">restore</span>"===<span class="code-params">s</span>.<span class="code-params">fn</span>?<span class="code-params">t</span>=<span class="code-params">r</span>.<span class="code-params">pop</span><span class="code-params">()</span>:<span class="code-params">t</span>.<span class="code-params">push</span>(<span class="code-params">s</span>):(<span class="code-params">t.push({fnId:<span class="code-number">92</span>,fn:<span class="code-string">"group"</span>,items:[]}</span>),<span class="code-params">r</span>.<span class="code-params">push</span>(<span class="code-params">t</span>),<span class="code-params">t</span>=<span class="code-params">t</span>[<span class="code-params">t</span>.<span class="code-params">length</span>-1].<span class="code-params">items</span>);<span class="code-params">return</span> <span class="code-params">t</span>}(<span class="code-params">n</span>)}<span class="code-params">executeOpTree</span>(<span class="code-params">e</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> t <span class="code-keyword">of</span> e</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">t</span>.<span class="code-params">fn</span>,<span class="code-params">r</span>=<span class="code-params">t</span>.<span class="code-params">fnId</span>,<span class="code-params">n</span>=<span class="code-params">t</span>.<span class="code-params">args</span>;<span class="code-params">switch</span>(<span class="code-params"><span class="code-number">0</span>|r</span>){<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">beginText</span>:<span class="code-params">this</span>.<span class="code-params">beginText</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">dependency</span>:<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setLeading</span>:<span class="code-params">this</span>.<span class="code-params">setLeading</span>(<span class="code-params">n</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setLeadingMoveText</span>:<span class="code-params">this</span>.<span class="code-params">setLeadingMoveText</span>(<span class="code-params">n[<span class="code-number">0</span>],n[<span class="code-number">1</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setFont</span>:<span class="code-params">this</span>.<span class="code-params">setFont</span>(<span class="code-params">n</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">showText</span>:<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">showSpacedText</span>:<span class="code-params">this</span>.<span class="code-params">showText</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">endText</span>:<span class="code-params">this</span>.<span class="code-params">endText</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">moveText</span>:<span class="code-params">this</span>.<span class="code-params">moveText</span>(<span class="code-params">n[<span class="code-number">0</span>],n[<span class="code-number">1</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setCharSpacing</span>:<span class="code-params">this</span>.<span class="code-params">setCharSpacing</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setWordSpacing</span>:<span class="code-params">this</span>.<span class="code-params">setWordSpacing</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setHScale</span>:<span class="code-params">this</span>.<span class="code-params">setHScale</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setTextMatrix</span>:<span class="code-params">this</span>.<span class="code-params">setTextMatrix</span>(<span class="code-params">n[<span class="code-number">0</span>],n[<span class="code-number">1</span>],n[<span class="code-number">2</span>],n[<span class="code-number">3</span>],n[<span class="code-number">4</span>],n[<span class="code-number">5</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setTextRise</span>:<span class="code-params">this</span>.<span class="code-params">setTextRise</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setTextRenderingMode</span>:<span class="code-params">this</span>.<span class="code-params">setTextRenderingMode</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setLineWidth</span>:<span class="code-params">this</span>.<span class="code-params">setLineWidth</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setLineJoin</span>:<span class="code-params">this</span>.<span class="code-params">setLineJoin</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setLineCap</span>:<span class="code-params">this</span>.<span class="code-params">setLineCap</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setMiterLimit</span>:<span class="code-params">this</span>.<span class="code-params">setMiterLimit</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setFillRGBColor</span>:<span class="code-params">this</span>.<span class="code-params">setFillRGBColor</span>(<span class="code-params">n[<span class="code-number">0</span>],n[<span class="code-number">1</span>],n[<span class="code-number">2</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setStrokeRGBColor</span>:<span class="code-params">this</span>.<span class="code-params">setStrokeRGBColor</span>(<span class="code-params">n[<span class="code-number">0</span>],n[<span class="code-number">1</span>],n[<span class="code-number">2</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setStrokeColorN</span>:<span class="code-params">this</span>.<span class="code-params">setStrokeColorN</span>(<span class="code-params">n</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setFillColorN</span>:<span class="code-params">this</span>.<span class="code-params">setFillColorN</span>(<span class="code-params">n</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">shadingFill</span>:<span class="code-params">this</span>.<span class="code-params">shadingFill</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setDash</span>:<span class="code-params">this</span>.<span class="code-params">setDash</span>(<span class="code-params">n[<span class="code-number">0</span>],n[<span class="code-number">1</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setRenderingIntent</span>:<span class="code-params">this</span>.<span class="code-params">setRenderingIntent</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setFlatness</span>:<span class="code-params">this</span>.<span class="code-params">setFlatness</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">setGState</span>:<span class="code-params">this</span>.<span class="code-params">setGState</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">fill</span>:<span class="code-params">this</span>.<span class="code-params">fill</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">eoFill</span>:<span class="code-params">this</span>.<span class="code-params">eoFill</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">stroke</span>:<span class="code-params">this</span>.<span class="code-params">stroke</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">fillStroke</span>:<span class="code-params">this</span>.<span class="code-params">fillStroke</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">eoFillStroke</span>:<span class="code-params">this</span>.<span class="code-params">eoFillStroke</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">clip</span>:<span class="code-params">this</span>.<span class="code-params">clip</span>(<span class="code-params"><span class="code-string">"nonzero"</span></span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">eoClip</span>:<span class="code-params">this</span>.<span class="code-params">clip</span>(<span class="code-params"><span class="code-string">"evenodd"</span></span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">paintSolidColorImageMask</span>:<span class="code-params">this</span>.<span class="code-params">paintSolidColorImageMask</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">paintImageXObject</span>:<span class="code-params">this</span>.<span class="code-params">paintImageXObject</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">paintInlineImageXObject</span>:<span class="code-params">this</span>.<span class="code-params">paintInlineImageXObject</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">paintImageMaskXObject</span>:<span class="code-params">this</span>.<span class="code-params">paintImageMaskXObject</span>(<span class="code-params">n[<span class="code-number">0</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">paintFormXObjectBegin</span>:<span class="code-params">this</span>.<span class="code-params">paintFormXObjectBegin</span>(<span class="code-params">n[<span class="code-number">0</span>],n[<span class="code-number">1</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">paintFormXObjectEnd</span>:<span class="code-params">this</span>.<span class="code-params">paintFormXObjectEnd</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">closePath</span>:<span class="code-params">this</span>.<span class="code-params">closePath</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">closeStroke</span>:<span class="code-params">this</span>.<span class="code-params">closeStroke</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">closeFillStroke</span>:<span class="code-params">this</span>.<span class="code-params">closeFillStroke</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">closeEOFillStroke</span>:<span class="code-params">this</span>.<span class="code-params">closeEOFillStroke</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">nextLine</span>:<span class="code-params">this</span>.<span class="code-params">nextLine</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">transform</span>:<span class="code-params">this</span>.<span class="code-params">transform</span>(<span class="code-params">n[<span class="code-number">0</span>],n[<span class="code-number">1</span>],n[<span class="code-number">2</span>],n[<span class="code-number">3</span>],n[<span class="code-number">4</span>],n[<span class="code-number">5</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">constructPath</span>:<span class="code-params">this</span>.<span class="code-params">constructPath</span>(<span class="code-params">n[<span class="code-number">0</span>],n[<span class="code-number">1</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">endPath</span>:<span class="code-params">this</span>.<span class="code-params">endPath</span><span class="code-params">()</span>;<span class="code-params">break</span>;<span class="code-params">case</span> 92:<span class="code-params">this</span>.<span class="code-params">group</span>(<span class="code-params">t.items</span>);<span class="code-params">break</span>;<span class="code-params">default</span>:(<span class="code-params"><span class="code-number">0</span>,s.warn</span>)(<span class="code-params"><span class="code-string">"Unimplemented operator "</span>+e</span>)}}}<span class="code-params">setWordSpacing</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">wordSpacing</span>=<span class="code-params">e</span>}<span class="code-params">setCharSpacing</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">charSpacing</span>=<span class="code-params">e</span>}<span class="code-params">nextLine</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">moveText</span>(<span class="code-params"><span class="code-number">0</span>,<span class="code-keyword">this</span>.current.leading</span>)}<span class="code-params">setTextMatrix</span>(<span class="code-params">e,t,r,s,n,i</span>){<span class="code-params">const</span> <span class="code-params">a</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">a</span>.<span class="code-params">textMatrix</span>=<span class="code-params">a</span>.<span class="code-params">lineMatrix</span>=[<span class="code-params">e</span>,<span class="code-params">t</span>,<span class="code-params">r</span>,<span class="code-params">s</span>,<span class="code-params">n</span>,<span class="code-params">i</span>],<span class="code-params">a</span>.<span class="code-params">textMatrixScale</span>=<span class="code-params">Math</span>.<span class="code-params">sqrt</span>(<span class="code-params">e*e+t*t</span>),<span class="code-params">a</span>.<span class="code-params">x</span>=<span class="code-params">a</span>.<span class="code-params">lineX</span>=0,<span class="code-params">a</span>.<span class="code-params">y</span>=<span class="code-params">a</span>.<span class="code-params">lineY</span>=0,<span class="code-params">a</span>.<span class="code-params">xcoords</span>=[],<span class="code-params">a</span>.<span class="code-params">ycoords</span>=[],<span class="code-params">a</span>.<span class="code-params">tspan</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:tspan"</span></span>),<span class="code-params">a</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"font-family"</span>,a.fontFamily</span>),<span class="code-params">a</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"font-size"</span>,o(a.fontSize</span>)+"<span class="code-params">px</span>"),<span class="code-params">a</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,o(-a.y</span>)),<span class="code-params">a</span>.<span class="code-params">txtElement</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:text"</span></span>),<span class="code-params">a</span>.<span class="code-params">txtElement</span>.<span class="code-params">appendChild</span>(<span class="code-params">a.tspan</span>)}<span class="code-params">beginText</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">e</span>.<span class="code-params">x</span>=<span class="code-params">e</span>.<span class="code-params">lineX</span>=0,<span class="code-params">e</span>.<span class="code-params">y</span>=<span class="code-params">e</span>.<span class="code-params">lineY</span>=0,<span class="code-params">e</span>.<span class="code-params">textMatrix</span>=<span class="code-params">s</span>.<span class="code-params">IDENTITY_MATRIX</span>,<span class="code-params">e</span>.<span class="code-params">lineMatrix</span>=<span class="code-params">s</span>.<span class="code-params">IDENTITY_MATRIX</span>,<span class="code-params">e</span>.<span class="code-params">textMatrixScale</span>=1,<span class="code-params">e</span>.<span class="code-params">tspan</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:tspan"</span></span>),<span class="code-params">e</span>.<span class="code-params">txtElement</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:text"</span></span>),<span class="code-params">e</span>.<span class="code-params">txtgrp</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:g"</span></span>),<span class="code-params">e</span>.<span class="code-params">xcoords</span>=[],<span class="code-params">e</span>.<span class="code-params">ycoords</span>=[]}<span class="code-params">moveText</span>(<span class="code-params">e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">r</span>.<span class="code-params">x</span>=<span class="code-params">r</span>.<span class="code-params">lineX</span>+=<span class="code-params">e</span>,<span class="code-params">r</span>.<span class="code-params">y</span>=<span class="code-params">r</span>.<span class="code-params">lineY</span>+=<span class="code-params">t</span>,<span class="code-params">r</span>.<span class="code-params">xcoords</span>=[],<span class="code-params">r</span>.<span class="code-params">ycoords</span>=[],<span class="code-params">r</span>.<span class="code-params">tspan</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:tspan"</span></span>),<span class="code-params">r</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"font-family"</span>,r.fontFamily</span>),<span class="code-params">r</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"font-size"</span>,o(r.fontSize</span>)+"<span class="code-params">px</span>"),<span class="code-params">r</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,o(-r.y</span>))}<span class="code-params">showText</span>(<span class="code-params">t</span>){<span class="code-params">const</span> <span class="code-params">n</span>=<span class="code-params">this</span>.<span class="code-params">current</span>,<span class="code-params">i</span>=<span class="code-params">n</span>.<span class="code-params">font</span>,<span class="code-params">a</span>=<span class="code-params">n</span>.<span class="code-params">fontSize</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-number">0</span>===a</span>)<span class="code-params">return</span>;<span class="code-params">const</span> <span class="code-params">c</span>=<span class="code-params">n</span>.<span class="code-params">fontSizeScale</span>,<span class="code-params">h</span>=<span class="code-params">n</span>.<span class="code-params">charSpacing</span>,<span class="code-params">d</span>=<span class="code-params">n</span>.<span class="code-params">wordSpacing</span>,<span class="code-params">u</span>=<span class="code-params">n</span>.<span class="code-params">fontDirection</span>,<span class="code-params">p</span>=<span class="code-params">n</span>.<span class="code-params">textHScale</span>*<span class="code-params">u</span>,<span class="code-params">g</span>=<span class="code-params">i</span>.<span class="code-params">vertical</span>,<span class="code-params">f</span>=<span class="code-params">g</span>?1:-1,<span class="code-params">m</span>=<span class="code-params">i</span>.<span class="code-params">defaultVMetrics</span>,<span class="code-params">A</span>=<span class="code-params">a</span>*<span class="code-params">n</span>.<span class="code-params">fontMatrix</span>[0];<span class="code-params">let</span> <span class="code-params">b</span>=0;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> e <span class="code-keyword">of</span> t</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-literal">null</span>===e</span>){<span class="code-params">b</span>+=<span class="code-params">u</span>*<span class="code-params">d</span>;<span class="code-params">continue</span>}<span class="code-params">if</span>(<span class="code-params">(<span class="code-number">0</span>,s.isNum</span>)(<span class="code-params">e</span>)){<span class="code-params">b</span>+=<span class="code-params">f</span>*<span class="code-params">e</span>*<span class="code-params">a</span>/1<span class="code-params">e3</span>;<span class="code-params">continue</span>}<span class="code-params">const</span> <span class="code-params">t</span>=(<span class="code-params">e.isSpace?d:<span class="code-number">0</span></span>)+<span class="code-params">h</span>,<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">fontChar</span>;<span class="code-params">let</span> <span class="code-params">o</span>,<span class="code-params">l</span>,<span class="code-params">p</span>,<span class="code-params">_</span>=<span class="code-params">e</span>.<span class="code-params">width</span>;<span class="code-params">if</span>(<span class="code-params">g</span>){<span class="code-params">let</span> <span class="code-params">t</span>;<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">vmetric</span>||<span class="code-params">m</span>;<span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">vmetric</span>?<span class="code-params">r</span>[1]:.5*<span class="code-params">_</span>,<span class="code-params">t</span>=-<span class="code-params">t</span>*<span class="code-params">A</span>;<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">r</span>[2]*<span class="code-params">A</span>;<span class="code-params">_</span>=<span class="code-params">r</span>?-<span class="code-params">r</span>[0]:<span class="code-params">_</span>,<span class="code-params">o</span>=<span class="code-params">t</span>/<span class="code-params">c</span>,<span class="code-params">l</span>=(<span class="code-params">b+s</span>)/<span class="code-params">c</span>}<span class="code-params">else</span> <span class="code-params">o</span>=<span class="code-params">b</span>/<span class="code-params">c</span>,<span class="code-params">l</span>=0;(<span class="code-params">e.isInFont||i.missingFile</span>)&amp;&amp;(<span class="code-params">n.xcoords.push(n.x+o</span>),<span class="code-params">g</span>&amp;&amp;<span class="code-params">n</span>.<span class="code-params">ycoords</span>.<span class="code-params">push</span>(<span class="code-params">-n.y+l</span>),<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">textContent</span>+=<span class="code-params">r</span>),<span class="code-params">p</span>=<span class="code-params">g</span>?<span class="code-params">_</span>*<span class="code-params">A</span>-<span class="code-params">t</span>*<span class="code-params">u</span>:<span class="code-params">_</span>*<span class="code-params">A</span>+<span class="code-params">t</span>*<span class="code-params">u</span>,<span class="code-params">b</span>+=<span class="code-params">p</span>}<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"x"</span>,n.xcoords.map(o</span>).<span class="code-params">join</span>(<span class="code-params"><span class="code-string">" "</span></span>)),<span class="code-params">g</span>?<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,n.ycoords.map(o</span>).<span class="code-params">join</span>(<span class="code-params"><span class="code-string">" "</span></span>)):<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,o(-n.y</span>)),<span class="code-params">g</span>?<span class="code-params">n</span>.<span class="code-params">y</span>-=<span class="code-params">b</span>:<span class="code-params">n</span>.<span class="code-params">x</span>+=<span class="code-params">b</span>*<span class="code-params">p</span>,<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"font-family"</span>,n.fontFamily</span>),<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"font-size"</span>,o(n.fontSize</span>)+"<span class="code-params">px</span>"),<span class="code-params">n</span>.<span class="code-params">fontStyle</span>!==<span class="code-params">e</span>.<span class="code-params">fontStyle</span>&amp;&amp;<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"font-style"</span>,n.fontStyle</span>),<span class="code-params">n</span>.<span class="code-params">fontWeight</span>!==<span class="code-params">e</span>.<span class="code-params">fontWeight</span>&amp;&amp;<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"font-weight"</span>,n.fontWeight</span>);<span class="code-params">const</span> <span class="code-params">_</span>=<span class="code-params">n</span>.<span class="code-params">textRenderingMode</span>&amp;<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">FILL_STROKE_MASK</span>;<span class="code-params">if</span>(<span class="code-params">_===s.TextRenderingMode.FILL||_===s.TextRenderingMode.FILL_STROKE?(n.fillColor!==e.fillColor&amp;&amp;n.tspan.setAttributeNS(<span class="code-literal">null</span>,<span class="code-string">"fill"</span>,n.fillColor</span>),<span class="code-params">n</span>.<span class="code-params">fillAlpha</span>&lt;1&amp;&amp;<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill-opacity"</span>,n.fillAlpha</span>)):<span class="code-params">n</span>.<span class="code-params">textRenderingMode</span>===<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">ADD_TO_PATH</span>?<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill"</span>,<span class="code-string">"transparent"</span></span>):<span class="code-params">n</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill"</span>,<span class="code-string">"none"</span></span>),<span class="code-params">_</span>===<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">STROKE</span>||<span class="code-params">_</span>===<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">FILL_STROKE</span>){<span class="code-params">const</span> <span class="code-params">e</span>=1/(<span class="code-params">n.textMatrixScale||<span class="code-number">1</span></span>);<span class="code-params">this</span>.<span class="code-params">_setStrokeAttributes</span>(<span class="code-params">n.tspan,e</span>)}<span class="code-params">let</span> <span class="code-params">y</span>=<span class="code-params">n</span>.<span class="code-params">textMatrix</span>;0!==<span class="code-params">n</span>.<span class="code-params">textRise</span>&amp;&amp;(<span class="code-params">y=y.slice(</span>),<span class="code-params">y</span>[5]+=<span class="code-params">n</span>.<span class="code-params">textRise</span>),<span class="code-params">n</span>.<span class="code-params">txtElement</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"transform"</span>,<span class="code-string">`<span class="code-subst">${l(y)}</span> scale(<span class="code-subst">${o(p)}</span>, -1)`</span></span>),<span class="code-params">n</span>.<span class="code-params">txtElement</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params">r,<span class="code-string">"xml:space"</span>,<span class="code-string">"preserve"</span></span>),<span class="code-params">n</span>.<span class="code-params">txtElement</span>.<span class="code-params">appendChild</span>(<span class="code-params">n.tspan</span>),<span class="code-params">n</span>.<span class="code-params">txtgrp</span>.<span class="code-params">appendChild</span>(<span class="code-params">n.txtElement</span>),<span class="code-params">this</span>.<span class="code-params">_ensureTransformGroup</span><span class="code-params">()</span>.<span class="code-params">appendChild</span>(<span class="code-params">n.txtElement</span>)}<span class="code-params">setLeadingMoveText</span>(<span class="code-params">e,t</span>){<span class="code-params">this</span>.<span class="code-params">setLeading</span>(<span class="code-params">-t</span>),<span class="code-params">this</span>.<span class="code-params">moveText</span>(<span class="code-params">e,t</span>)}<span class="code-params">addFontStyle</span>(<span class="code-params">e</span>){<span class="code-params">if</span>(<span class="code-params">!e.data</span>)<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">'addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.'</span></span>);<span class="code-params">this</span>.<span class="code-params">cssStyle</span>||(<span class="code-params"><span class="code-keyword">this</span>.cssStyle=<span class="code-keyword">this</span>.svgFactory.createElement(<span class="code-string">"svg:style"</span></span>),<span class="code-params">this</span>.<span class="code-params">cssStyle</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"type"</span>,<span class="code-string">"text/css"</span></span>),<span class="code-params">this</span>.<span class="code-params">defs</span>.<span class="code-params">appendChild</span>(<span class="code-params"><span class="code-keyword">this</span>.cssStyle</span>));<span class="code-params">const</span> <span class="code-params">t</span>=(<span class="code-params"><span class="code-number">0</span>,s.createObjectURL</span>)(<span class="code-params">e.data,e.mimetype,<span class="code-keyword">this</span>.forceDataSchema</span>);<span class="code-params">this</span>.<span class="code-params">cssStyle</span>.<span class="code-params">textContent</span>+=`@<span class="code-params">font</span>-<span class="code-params">face</span> { <span class="code-params">font</span>-<span class="code-params">family</span>: "<span class="code-params">$</span>{<span class="code-params">e</span>.<span class="code-params">loadedName</span>}"; <span class="code-params">src</span>: <span class="code-params">url</span>(<span class="code-params">${t}</span>); }\<span class="code-params">n</span>`}<span class="code-params">setFont</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">current</span>,<span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">commonObjs</span>.<span class="code-params">get</span>(<span class="code-params">e[<span class="code-number">0</span>]</span>);<span class="code-params">let</span> <span class="code-params">n</span>=<span class="code-params">e</span>[1];<span class="code-params">t</span>.<span class="code-params">font</span>=<span class="code-params">r</span>,!<span class="code-params">this</span>.<span class="code-params">embedFonts</span>||<span class="code-params">r</span>.<span class="code-params">missingFile</span>||<span class="code-params">this</span>.<span class="code-params">embeddedFonts</span>[<span class="code-params">r</span>.<span class="code-params">loadedName</span>]||(<span class="code-params"><span class="code-keyword">this</span>.addFontStyle(r</span>),<span class="code-params">this</span>.<span class="code-params">embeddedFonts</span>[<span class="code-params">r</span>.<span class="code-params">loadedName</span>]=<span class="code-params">r</span>),<span class="code-params">t</span>.<span class="code-params">fontMatrix</span>=<span class="code-params">r</span>.<span class="code-params">fontMatrix</span>?<span class="code-params">r</span>.<span class="code-params">fontMatrix</span>:<span class="code-params">s</span>.<span class="code-params">FONT_IDENTITY_MATRIX</span>;<span class="code-params">let</span> <span class="code-params">i</span>="<span class="code-params">normal</span>";<span class="code-params">r</span>.<span class="code-params">black</span>?<span class="code-params">i</span>="900":<span class="code-params">r</span>.<span class="code-params">bold</span>&amp;&amp;(<span class="code-params">i=<span class="code-string">"bold"</span></span>);<span class="code-params">const</span> <span class="code-params">a</span>=<span class="code-params">r</span>.<span class="code-params">italic</span>?"<span class="code-params">italic</span>":"<span class="code-params">normal</span>";<span class="code-params">n</span>&lt;0?(<span class="code-params">n=-n,t.fontDirection=<span class="code-number">-1</span></span>):<span class="code-params">t</span>.<span class="code-params">fontDirection</span>=1,<span class="code-params">t</span>.<span class="code-params">fontSize</span>=<span class="code-params">n</span>,<span class="code-params">t</span>.<span class="code-params">fontFamily</span>=<span class="code-params">r</span>.<span class="code-params">loadedName</span>,<span class="code-params">t</span>.<span class="code-params">fontWeight</span>=<span class="code-params">i</span>,<span class="code-params">t</span>.<span class="code-params">fontStyle</span>=<span class="code-params">a</span>,<span class="code-params">t</span>.<span class="code-params">tspan</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:tspan"</span></span>),<span class="code-params">t</span>.<span class="code-params">tspan</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,o(-t.y</span>)),<span class="code-params">t</span>.<span class="code-params">xcoords</span>=[],<span class="code-params">t</span>.<span class="code-params">ycoords</span>=[]}<span class="code-params">endText</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">e</span>.<span class="code-params">textRenderingMode</span>&amp;<span class="code-params">s</span>.<span class="code-params">TextRenderingMode</span>.<span class="code-params">ADD_TO_PATH_FLAG</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">txtElement</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">txtElement</span>.<span class="code-params">hasChildNodes</span><span class="code-params">()</span>&amp;&amp;(<span class="code-params">e.element=e.txtElement,<span class="code-keyword">this</span>.clip(<span class="code-string">"nonzero"</span></span>),<span class="code-params">this</span>.<span class="code-params">endPath</span><span class="code-params">()</span>)}<span class="code-params">setLineWidth</span>(<span class="code-params">e</span>){<span class="code-params">e</span>&gt;0&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>.current.lineWidth=e</span>)}<span class="code-params">setLineCap</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineCap</span>=<span class="code-params">h</span>[<span class="code-params">e</span>]}<span class="code-params">setLineJoin</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">lineJoin</span>=<span class="code-params">d</span>[<span class="code-params">e</span>]}<span class="code-params">setMiterLimit</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">miterLimit</span>=<span class="code-params">e</span>}<span class="code-params">setStrokeAlpha</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">strokeAlpha</span>=<span class="code-params">e</span>}<span class="code-params">setStrokeRGBColor</span>(<span class="code-params">e,t,r</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">strokeColor</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">makeCssRgb</span>(<span class="code-params">e,t,r</span>)}<span class="code-params">setFillAlpha</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillAlpha</span>=<span class="code-params">e</span>}<span class="code-params">setFillRGBColor</span>(<span class="code-params">e,t,r</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillColor</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">makeCssRgb</span>(<span class="code-params">e,t,r</span>),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">tspan</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:tspan"</span></span>),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">xcoords</span>=[],<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">ycoords</span>=[]}<span class="code-params">setStrokeColorN</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">strokeColor</span>=<span class="code-params">this</span>.<span class="code-params">_makeColorN_Pattern</span>(<span class="code-params">e</span>)}<span class="code-params">setFillColorN</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillColor</span>=<span class="code-params">this</span>.<span class="code-params">_makeColorN_Pattern</span>(<span class="code-params">e</span>)}<span class="code-params">shadingFill</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">viewport</span>.<span class="code-params">width</span>,<span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">viewport</span>.<span class="code-params">height</span>,<span class="code-params">n</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">inverseTransform</span>(<span class="code-params"><span class="code-keyword">this</span>.transformMatrix</span>),<span class="code-params">i</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[<span class="code-number">0</span>,<span class="code-number">0</span>],n</span>),<span class="code-params">a</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[<span class="code-number">0</span>,r],n</span>),<span class="code-params">o</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[t,<span class="code-number">0</span>],n</span>),<span class="code-params">l</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[t,r],n</span>),<span class="code-params">c</span>=<span class="code-params">Math</span>.<span class="code-params">min</span>(<span class="code-params">i[<span class="code-number">0</span>],a[<span class="code-number">0</span>],o[<span class="code-number">0</span>],l[<span class="code-number">0</span>]</span>),<span class="code-params">h</span>=<span class="code-params">Math</span>.<span class="code-params">min</span>(<span class="code-params">i[<span class="code-number">1</span>],a[<span class="code-number">1</span>],o[<span class="code-number">1</span>],l[<span class="code-number">1</span>]</span>),<span class="code-params">d</span>=<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params">i[<span class="code-number">0</span>],a[<span class="code-number">0</span>],o[<span class="code-number">0</span>],l[<span class="code-number">0</span>]</span>),<span class="code-params">u</span>=<span class="code-params">Math</span>.<span class="code-params">max</span>(<span class="code-params">i[<span class="code-number">1</span>],a[<span class="code-number">1</span>],o[<span class="code-number">1</span>],l[<span class="code-number">1</span>]</span>),<span class="code-params">p</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:rect"</span></span>);<span class="code-params">p</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"x"</span>,c</span>),<span class="code-params">p</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,h</span>),<span class="code-params">p</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"width"</span>,d-c</span>),<span class="code-params">p</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"height"</span>,u-h</span>),<span class="code-params">p</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill"</span>,<span class="code-keyword">this</span>._makeShadingPattern(e</span>)),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillAlpha</span>&lt;1&amp;&amp;<span class="code-params">p</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill-opacity"</span>,<span class="code-keyword">this</span>.current.fillAlpha</span>),<span class="code-params">this</span>.<span class="code-params">_ensureTransformGroup</span><span class="code-params">()</span>.<span class="code-params">appendChild</span>(<span class="code-params">p</span>)}<span class="code-params">_makeColorN_Pattern</span>(<span class="code-params">e</span>){<span class="code-params">return</span>"<span class="code-params">TilingPattern</span>"===<span class="code-params">e</span>[0]?<span class="code-params">this</span>.<span class="code-params">_makeTilingPattern</span>(<span class="code-params">e</span>):<span class="code-params">this</span>.<span class="code-params">_makeShadingPattern</span>(<span class="code-params">e</span>)}<span class="code-params">_makeTilingPattern</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>[1],<span class="code-params">r</span>=<span class="code-params">e</span>[2],<span class="code-params">n</span>=<span class="code-params">e</span>[3]||<span class="code-params">s</span>.<span class="code-params">IDENTITY_MATRIX</span>,[<span class="code-params">i</span>,<span class="code-params">a</span>,<span class="code-params">o</span>,<span class="code-params">l</span>]=<span class="code-params">e</span>[4],<span class="code-params">c</span>=<span class="code-params">e</span>[5],<span class="code-params">h</span>=<span class="code-params">e</span>[6],<span class="code-params">d</span>=<span class="code-params">e</span>[7],<span class="code-params">u</span>="<span class="code-params">shading</span>"+<span class="code-params">m</span>++,[<span class="code-params">p</span>,<span class="code-params">g</span>]=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[i,a],n</span>),[<span class="code-params">f</span>,<span class="code-params">A</span>]=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">applyTransform</span>(<span class="code-params">[o,l],n</span>),[<span class="code-params">b</span>,<span class="code-params">_</span>]=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">singularValueDecompose2dScale</span>(<span class="code-params">n</span>),<span class="code-params">y</span>=<span class="code-params">c</span>*<span class="code-params">b</span>,<span class="code-params">v</span>=<span class="code-params">h</span>*<span class="code-params">_</span>,<span class="code-params">S</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:pattern"</span></span>);<span class="code-params">S</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"id"</span>,u</span>),<span class="code-params">S</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"patternUnits"</span>,<span class="code-string">"userSpaceOnUse"</span></span>),<span class="code-params">S</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"width"</span>,y</span>),<span class="code-params">S</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"height"</span>,v</span>),<span class="code-params">S</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"x"</span>,<span class="code-string">""</span>+p</span>),<span class="code-params">S</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,<span class="code-string">""</span>+g</span>);<span class="code-params">const</span> <span class="code-params">x</span>=<span class="code-params">this</span>.<span class="code-params">svg</span>,<span class="code-params">C</span>=<span class="code-params">this</span>.<span class="code-params">transformMatrix</span>,<span class="code-params">P</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillColor</span>,<span class="code-params">k</span>=<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">strokeColor</span>,<span class="code-params">R</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">create</span>(<span class="code-params">f-p,A-g</span>);<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>.svg=R,<span class="code-keyword">this</span>.transformMatrix=n,<span class="code-number">2</span>===d</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">s</span>.<span class="code-params">Util</span>.<span class="code-params">makeCssRgb</span>(<span class="code-params">...t</span>);<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillColor</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">strokeColor</span>=<span class="code-params">e</span>}<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">executeOpTree</span>(<span class="code-params"><span class="code-keyword">this</span>.convertOpList(r</span>)),<span class="code-params">this</span>.<span class="code-params">svg</span>=<span class="code-params">x</span>,<span class="code-params">this</span>.<span class="code-params">transformMatrix</span>=<span class="code-params">C</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">fillColor</span>=<span class="code-params">P</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">strokeColor</span>=<span class="code-params">k</span>,<span class="code-params">S</span>.<span class="code-params">appendChild</span>(<span class="code-params">R.childNodes[<span class="code-number">0</span>]</span>),<span class="code-params">this</span>.<span class="code-params">defs</span>.<span class="code-params">appendChild</span>(<span class="code-params">S</span>),`<span class="code-params">url</span>(<span class="code-params">#${u}</span>)`}<span class="code-params">_makeShadingPattern</span>(<span class="code-params">e</span>){<span class="code-params">switch</span>(<span class="code-params">e[<span class="code-number">0</span>]</span>){<span class="code-params">case</span>"<span class="code-params">RadialAxial</span>":<span class="code-params">const</span> <span class="code-params">t</span>="<span class="code-params">shading</span>"+<span class="code-params">m</span>++,<span class="code-params">r</span>=<span class="code-params">e</span>[3];<span class="code-params">let</span> <span class="code-params">n</span>;<span class="code-params">switch</span>(<span class="code-params">e[<span class="code-number">1</span>]</span>){<span class="code-params">case</span>"<span class="code-params">axial</span>":<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>[4],<span class="code-params">s</span>=<span class="code-params">e</span>[5];<span class="code-params">n</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:linearGradient"</span></span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"id"</span>,t</span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"gradientUnits"</span>,<span class="code-string">"userSpaceOnUse"</span></span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"x1"</span>,r[<span class="code-number">0</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y1"</span>,r[<span class="code-number">1</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"x2"</span>,s[<span class="code-number">0</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y2"</span>,s[<span class="code-number">1</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">radial</span>":<span class="code-params">const</span> <span class="code-params">i</span>=<span class="code-params">e</span>[4],<span class="code-params">a</span>=<span class="code-params">e</span>[5],<span class="code-params">o</span>=<span class="code-params">e</span>[6],<span class="code-params">l</span>=<span class="code-params">e</span>[7];<span class="code-params">n</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:radialGradient"</span></span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"id"</span>,t</span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"gradientUnits"</span>,<span class="code-string">"userSpaceOnUse"</span></span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"cx"</span>,a[<span class="code-number">0</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"cy"</span>,a[<span class="code-number">1</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"r"</span>,l</span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fx"</span>,i[<span class="code-number">0</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fy"</span>,i[<span class="code-number">1</span>]</span>),<span class="code-params">n</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fr"</span>,o</span>);<span class="code-params">break</span>;<span class="code-params">default</span>:<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Unknown RadialAxial type: "</span>+e[<span class="code-number">1</span>]</span>)}<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> e <span class="code-keyword">of</span> r</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:stop"</span></span>);<span class="code-params">t</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"offset"</span>,e[<span class="code-number">0</span>]</span>),<span class="code-params">t</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"stop-color"</span>,e[<span class="code-number">1</span>]</span>),<span class="code-params">n</span>.<span class="code-params">appendChild</span>(<span class="code-params">t</span>)}<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">defs</span>.<span class="code-params">appendChild</span>(<span class="code-params">n</span>),`<span class="code-params">url</span>(<span class="code-params">#${t}</span>)`;<span class="code-params">case</span>"<span class="code-params">Mesh</span>":<span class="code-params">return</span>(<span class="code-params"><span class="code-number">0</span>,s.warn</span>)(<span class="code-params"><span class="code-string">"Unimplemented pattern Mesh"</span></span>),<span class="code-params">null</span>;<span class="code-params">case</span>"<span class="code-params">Dummy</span>":<span class="code-params">return</span>"<span class="code-params">hotpink</span>";<span class="code-params">default</span>:<span class="code-params">throw</span> <span class="code-params">new</span> <span class="code-params">Error</span>(<span class="code-params"><span class="code-string">"Unknown IR type: "</span>+e[<span class="code-number">0</span>]</span>)}}<span class="code-params">setDash</span>(<span class="code-params">e,t</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">dashArray</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">dashPhase</span>=<span class="code-params">t</span>}<span class="code-params">constructPath</span>(<span class="code-params">e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">let</span> <span class="code-params">n</span>=<span class="code-params">r</span>.<span class="code-params">x</span>,<span class="code-params">i</span>=<span class="code-params">r</span>.<span class="code-params">y</span>,<span class="code-params">a</span>=[],<span class="code-params">l</span>=0;<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> r <span class="code-keyword">of</span> e</span>)<span class="code-params">switch</span>(<span class="code-params"><span class="code-number">0</span>|r</span>){<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">rectangle</span>:<span class="code-params">n</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++];<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">n</span>+<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">r</span>=<span class="code-params">i</span>+<span class="code-params">t</span>[<span class="code-params">l</span>++];<span class="code-params">a</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-string">"M"</span>,o(n</span>),<span class="code-params">o</span>(<span class="code-params">i</span>),"<span class="code-params">L</span>",<span class="code-params">o</span>(<span class="code-params">e</span>),<span class="code-params">o</span>(<span class="code-params">i</span>),"<span class="code-params">L</span>",<span class="code-params">o</span>(<span class="code-params">e</span>),<span class="code-params">o</span>(<span class="code-params">r</span>),"<span class="code-params">L</span>",<span class="code-params">o</span>(<span class="code-params">n</span>),<span class="code-params">o</span>(<span class="code-params">r</span>),"<span class="code-params">Z</span>");<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">moveTo</span>:<span class="code-params">n</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">a</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-string">"M"</span>,o(n</span>),<span class="code-params">o</span>(<span class="code-params">i</span>));<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">lineTo</span>:<span class="code-params">n</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>++],<span class="code-params">a</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-string">"L"</span>,o(n</span>),<span class="code-params">o</span>(<span class="code-params">i</span>));<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">curveTo</span>:<span class="code-params">n</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+4],<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+5],<span class="code-params">a</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-string">"C"</span>,o(t[l]</span>),<span class="code-params">o</span>(<span class="code-params">t[l+<span class="code-number">1</span>]</span>),<span class="code-params">o</span>(<span class="code-params">t[l+<span class="code-number">2</span>]</span>),<span class="code-params">o</span>(<span class="code-params">t[l+<span class="code-number">3</span>]</span>),<span class="code-params">o</span>(<span class="code-params">n</span>),<span class="code-params">o</span>(<span class="code-params">i</span>)),<span class="code-params">l</span>+=6;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">curveTo2</span>:<span class="code-params">a</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-string">"C"</span>,o(n</span>),<span class="code-params">o</span>(<span class="code-params">i</span>),<span class="code-params">o</span>(<span class="code-params">t[l]</span>),<span class="code-params">o</span>(<span class="code-params">t[l+<span class="code-number">1</span>]</span>),<span class="code-params">o</span>(<span class="code-params">t[l+<span class="code-number">2</span>]</span>),<span class="code-params">o</span>(<span class="code-params">t[l+<span class="code-number">3</span>]</span>)),<span class="code-params">n</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+2],<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+3],<span class="code-params">l</span>+=4;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">curveTo3</span>:<span class="code-params">n</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+2],<span class="code-params">i</span>=<span class="code-params">t</span>[<span class="code-params">l</span>+3],<span class="code-params">a</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-string">"C"</span>,o(t[l]</span>),<span class="code-params">o</span>(<span class="code-params">t[l+<span class="code-number">1</span>]</span>),<span class="code-params">o</span>(<span class="code-params">n</span>),<span class="code-params">o</span>(<span class="code-params">i</span>),<span class="code-params">o</span>(<span class="code-params">n</span>),<span class="code-params">o</span>(<span class="code-params">i</span>)),<span class="code-params">l</span>+=4;<span class="code-params">break</span>;<span class="code-params">case</span> <span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">closePath</span>:<span class="code-params">a</span>.<span class="code-params">push</span>(<span class="code-params"><span class="code-string">"Z"</span></span>)}<span class="code-params">a</span>=<span class="code-params">a</span>.<span class="code-params">join</span>(<span class="code-params"><span class="code-string">" "</span></span>),<span class="code-params">r</span>.<span class="code-params">path</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">length</span>&gt;0&amp;&amp;<span class="code-params">e</span>[0]!==<span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">rectangle</span>&amp;&amp;<span class="code-params">e</span>[0]!==<span class="code-params">s</span>.<span class="code-params">OPS</span>.<span class="code-params">moveTo</span>?<span class="code-params">a</span>=<span class="code-params">r</span>.<span class="code-params">path</span>.<span class="code-params">getAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"d"</span></span>)+<span class="code-params">a</span>:(<span class="code-params">r.path=<span class="code-keyword">this</span>.svgFactory.createElement(<span class="code-string">"svg:path"</span></span>),<span class="code-params">this</span>.<span class="code-params">_ensureTransformGroup</span><span class="code-params">()</span>.<span class="code-params">appendChild</span>(<span class="code-params">r.path</span>)),<span class="code-params">r</span>.<span class="code-params">path</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"d"</span>,a</span>),<span class="code-params">r</span>.<span class="code-params">path</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill"</span>,<span class="code-string">"none"</span></span>),<span class="code-params">r</span>.<span class="code-params">element</span>=<span class="code-params">r</span>.<span class="code-params">path</span>,<span class="code-params">r</span>.<span class="code-params">setCurrentPoint</span>(<span class="code-params">n,i</span>)}<span class="code-params">endPath</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">if</span>(<span class="code-params">e.path=<span class="code-literal">null</span>,!<span class="code-keyword">this</span>.pendingClip</span>)<span class="code-params">return</span>;<span class="code-params">if</span>(<span class="code-params">!e.element</span>)<span class="code-params">return</span> <span class="code-params">void</span>(<span class="code-params"><span class="code-keyword">this</span>.pendingClip=<span class="code-literal">null</span></span>);<span class="code-params">const</span> <span class="code-params">t</span>="<span class="code-params">clippath</span>"+<span class="code-params">g</span>++,<span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:clipPath"</span></span>);<span class="code-params">r</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"id"</span>,t</span>),<span class="code-params">r</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"transform"</span>,l(<span class="code-keyword">this</span>.transformMatrix</span>));<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">e</span>.<span class="code-params">element</span>.<span class="code-params">cloneNode</span>(<span class="code-params">!<span class="code-number">0</span></span>);"<span class="code-params">evenodd</span>"===<span class="code-params">this</span>.<span class="code-params">pendingClip</span>?<span class="code-params">s</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"clip-rule"</span>,<span class="code-string">"evenodd"</span></span>):<span class="code-params">s</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"clip-rule"</span>,<span class="code-string">"nonzero"</span></span>),<span class="code-params">this</span>.<span class="code-params">pendingClip</span>=<span class="code-params">null</span>,<span class="code-params">r</span>.<span class="code-params">appendChild</span>(<span class="code-params">s</span>),<span class="code-params">this</span>.<span class="code-params">defs</span>.<span class="code-params">appendChild</span>(<span class="code-params">r</span>),<span class="code-params">e</span>.<span class="code-params">activeClipUrl</span>&amp;&amp;(<span class="code-params">e.clipGroup=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.extraStack.forEach((<span class="code-keyword">function</span>(e</span>){<span class="code-params">e</span>.<span class="code-params">clipGroup</span>=<span class="code-params">null</span>})),<span class="code-params">r</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"clip-path"</span>,e.activeClipUrl</span>)),<span class="code-params">e</span>.<span class="code-params">activeClipUrl</span>=`<span class="code-params">url</span>(<span class="code-params">#${t}</span>)`,<span class="code-params">this</span>.<span class="code-params">tgrp</span>=<span class="code-params">null</span>}<span class="code-params">clip</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">pendingClip</span>=<span class="code-params">e</span>}<span class="code-params">closePath</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">if</span>(<span class="code-params">e.path</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">path</span>.<span class="code-params">getAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"d"</span></span>)+"<span class="code-params">Z</span>";<span class="code-params">e</span>.<span class="code-params">path</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"d"</span>,t</span>)}}<span class="code-params">setLeading</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">leading</span>=-<span class="code-params">e</span>}<span class="code-params">setTextRise</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">textRise</span>=<span class="code-params">e</span>}<span class="code-params">setTextRenderingMode</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">textRenderingMode</span>=<span class="code-params">e</span>}<span class="code-params">setHScale</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">textHScale</span>=<span class="code-params">e</span>/100}<span class="code-params">setRenderingIntent</span>(<span class="code-params">e</span>){}<span class="code-params">setFlatness</span>(<span class="code-params">e</span>){}<span class="code-params">setGState</span>(<span class="code-params">e</span>){<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span>[t,r]<span class="code-keyword">of</span> e</span>)<span class="code-params">switch</span>(<span class="code-params">t</span>){<span class="code-params">case</span>"<span class="code-params">LW</span>":<span class="code-params">this</span>.<span class="code-params">setLineWidth</span>(<span class="code-params">r</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">LC</span>":<span class="code-params">this</span>.<span class="code-params">setLineCap</span>(<span class="code-params">r</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">LJ</span>":<span class="code-params">this</span>.<span class="code-params">setLineJoin</span>(<span class="code-params">r</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">ML</span>":<span class="code-params">this</span>.<span class="code-params">setMiterLimit</span>(<span class="code-params">r</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">D</span>":<span class="code-params">this</span>.<span class="code-params">setDash</span>(<span class="code-params">r[<span class="code-number">0</span>],r[<span class="code-number">1</span>]</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">RI</span>":<span class="code-params">this</span>.<span class="code-params">setRenderingIntent</span>(<span class="code-params">r</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">FL</span>":<span class="code-params">this</span>.<span class="code-params">setFlatness</span>(<span class="code-params">r</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">Font</span>":<span class="code-params">this</span>.<span class="code-params">setFont</span>(<span class="code-params">r</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">CA</span>":<span class="code-params">this</span>.<span class="code-params">setStrokeAlpha</span>(<span class="code-params">r</span>);<span class="code-params">break</span>;<span class="code-params">case</span>"<span class="code-params">ca</span>":<span class="code-params">this</span>.<span class="code-params">setFillAlpha</span>(<span class="code-params">r</span>);<span class="code-params">break</span>;<span class="code-params">default</span>:(<span class="code-params"><span class="code-number">0</span>,s.warn</span>)(<span class="code-params"><span class="code-string">"Unimplemented graphic state operator "</span>+t</span>)}}<span class="code-params">fill</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">e</span>.<span class="code-params">element</span>&amp;&amp;(<span class="code-params">e.element.setAttributeNS(<span class="code-literal">null</span>,<span class="code-string">"fill"</span>,e.fillColor</span>),<span class="code-params">e</span>.<span class="code-params">element</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill-opacity"</span>,e.fillAlpha</span>),<span class="code-params">this</span>.<span class="code-params">endPath</span><span class="code-params">()</span>)}<span class="code-params">stroke</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">e</span>.<span class="code-params">element</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>._setStrokeAttributes(e.element</span>),<span class="code-params">e</span>.<span class="code-params">element</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill"</span>,<span class="code-string">"none"</span></span>),<span class="code-params">this</span>.<span class="code-params">endPath</span><span class="code-params">()</span>)}<span class="code-params">_setStrokeAttributes</span>(<span class="code-params">e,t=<span class="code-number">1</span></span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">current</span>;<span class="code-params">let</span> <span class="code-params">s</span>=<span class="code-params">r</span>.<span class="code-params">dashArray</span>;1!==<span class="code-params">t</span>&amp;&amp;<span class="code-params">s</span>.<span class="code-params">length</span>&gt;0&amp;&amp;(<span class="code-params">s=s.map((<span class="code-keyword">function</span>(e</span>){<span class="code-params">return</span> <span class="code-params">t</span>*<span class="code-params">e</span>}))),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"stroke"</span>,r.strokeColor</span>),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"stroke-opacity"</span>,r.strokeAlpha</span>),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"stroke-miterlimit"</span>,o(r.miterLimit</span>)),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"stroke-linecap"</span>,r.lineCap</span>),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"stroke-linejoin"</span>,r.lineJoin</span>),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"stroke-width"</span>,o(t*r.lineWidth</span>)+"<span class="code-params">px</span>"),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"stroke-dasharray"</span>,s.map(o</span>).<span class="code-params">join</span>(<span class="code-params"><span class="code-string">" "</span></span>)),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"stroke-dashoffset"</span>,o(t*r.dashPhase</span>)+"<span class="code-params">px</span>")}<span class="code-params">eoFill</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">element</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">element</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill-rule"</span>,<span class="code-string">"evenodd"</span></span>),<span class="code-params">this</span>.<span class="code-params">fill</span><span class="code-params">()</span>}<span class="code-params">fillStroke</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">stroke</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">fill</span><span class="code-params">()</span>}<span class="code-params">eoFillStroke</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">element</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">element</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill-rule"</span>,<span class="code-string">"evenodd"</span></span>),<span class="code-params">this</span>.<span class="code-params">fillStroke</span><span class="code-params">()</span>}<span class="code-params">closeStroke</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">closePath</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">stroke</span><span class="code-params">()</span>}<span class="code-params">closeFillStroke</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">closePath</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">fillStroke</span><span class="code-params">()</span>}<span class="code-params">closeEOFillStroke</span><span class="code-params">()</span>{<span class="code-params">this</span>.<span class="code-params">closePath</span><span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">eoFillStroke</span><span class="code-params">()</span>}<span class="code-params">paintSolidColorImageMask</span><span class="code-params">()</span>{<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:rect"</span></span>);<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"x"</span>,<span class="code-string">"0"</span></span>),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,<span class="code-string">"0"</span></span>),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"width"</span>,<span class="code-string">"1px"</span></span>),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"height"</span>,<span class="code-string">"1px"</span></span>),<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill"</span>,<span class="code-keyword">this</span>.current.fillColor</span>),<span class="code-params">this</span>.<span class="code-params">_ensureTransformGroup</span><span class="code-params">()</span>.<span class="code-params">appendChild</span>(<span class="code-params">e</span>)}<span class="code-params">paintImageXObject</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">objs</span>.<span class="code-params">get</span>(<span class="code-params">e</span>);<span class="code-params">t</span>?<span class="code-params">this</span>.<span class="code-params">paintInlineImageXObject</span>(<span class="code-params">t</span>):(<span class="code-params"><span class="code-number">0</span>,s.warn</span>)(<span class="code-params"><span class="code-string">`Dependent image with object ID <span class="code-subst">${e}</span> is not ready yet`</span></span>)}<span class="code-params">paintInlineImageXObject</span>(<span class="code-params">e,t</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">width</span>,<span class="code-params">s</span>=<span class="code-params">e</span>.<span class="code-params">height</span>,<span class="code-params">n</span>=<span class="code-params">u</span>(<span class="code-params">e,<span class="code-keyword">this</span>.forceDataSchema,!!t</span>),<span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:rect"</span></span>);<span class="code-params">i</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"x"</span>,<span class="code-string">"0"</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,<span class="code-string">"0"</span></span>),<span class="code-params">i</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"width"</span>,o(r</span>)),<span class="code-params">i</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"height"</span>,o(s</span>)),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">element</span>=<span class="code-params">i</span>,<span class="code-params">this</span>.<span class="code-params">clip</span>(<span class="code-params"><span class="code-string">"nonzero"</span></span>);<span class="code-params">const</span> <span class="code-params">a</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:image"</span></span>);<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params">c,<span class="code-string">"xlink:href"</span>,n</span>),<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"x"</span>,<span class="code-string">"0"</span></span>),<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,o(-s</span>)),<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"width"</span>,o(r</span>)+"<span class="code-params">px</span>"),<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"height"</span>,o(s</span>)+"<span class="code-params">px</span>"),<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"transform"</span>,<span class="code-string">`scale(<span class="code-subst">${o(<span class="code-number">1</span><span class="code-regexp">/r)} ${o(-1/</span>s)}</span>)`</span></span>),<span class="code-params">t</span>?<span class="code-params">t</span>.<span class="code-params">appendChild</span>(<span class="code-params">a</span>):<span class="code-params">this</span>.<span class="code-params">_ensureTransformGroup</span><span class="code-params">()</span>.<span class="code-params">appendChild</span>(<span class="code-params">a</span>)}<span class="code-params">paintImageMaskXObject</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">current</span>,<span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">width</span>,<span class="code-params">s</span>=<span class="code-params">e</span>.<span class="code-params">height</span>,<span class="code-params">n</span>=<span class="code-params">t</span>.<span class="code-params">fillColor</span>;<span class="code-params">t</span>.<span class="code-params">maskId</span>="<span class="code-params">mask</span>"+<span class="code-params">f</span>++;<span class="code-params">const</span> <span class="code-params">i</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:mask"</span></span>);<span class="code-params">i</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"id"</span>,t.maskId</span>);<span class="code-params">const</span> <span class="code-params">a</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:rect"</span></span>);<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"x"</span>,<span class="code-string">"0"</span></span>),<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,<span class="code-string">"0"</span></span>),<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"width"</span>,o(r</span>)),<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"height"</span>,o(s</span>)),<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"fill"</span>,n</span>),<span class="code-params">a</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"mask"</span>,<span class="code-string">`url(#<span class="code-subst">${t.maskId}</span>)`</span></span>),<span class="code-params">this</span>.<span class="code-params">defs</span>.<span class="code-params">appendChild</span>(<span class="code-params">i</span>),<span class="code-params">this</span>.<span class="code-params">_ensureTransformGroup</span><span class="code-params">()</span>.<span class="code-params">appendChild</span>(<span class="code-params">a</span>),<span class="code-params">this</span>.<span class="code-params">paintInlineImageXObject</span>(<span class="code-params">e,i</span>)}<span class="code-params">paintFormXObjectBegin</span>(<span class="code-params">e,t</span>){<span class="code-params">if</span>(<span class="code-params"><span class="code-built_in">Array</span>.isArray(e</span>)&amp;&amp;6===<span class="code-params">e</span>.<span class="code-params">length</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">transform</span>(<span class="code-params">e[<span class="code-number">0</span>],e[<span class="code-number">1</span>],e[<span class="code-number">2</span>],e[<span class="code-number">3</span>],e[<span class="code-number">4</span>],e[<span class="code-number">5</span>]</span>),<span class="code-params">t</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">t</span>[2]-<span class="code-params">t</span>[0],<span class="code-params">r</span>=<span class="code-params">t</span>[3]-<span class="code-params">t</span>[1],<span class="code-params">s</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:rect"</span></span>);<span class="code-params">s</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"x"</span>,t[<span class="code-number">0</span>]</span>),<span class="code-params">s</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"y"</span>,t[<span class="code-number">1</span>]</span>),<span class="code-params">s</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"width"</span>,o(e</span>)),<span class="code-params">s</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"height"</span>,o(r</span>)),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">element</span>=<span class="code-params">s</span>,<span class="code-params">this</span>.<span class="code-params">clip</span>(<span class="code-params"><span class="code-string">"nonzero"</span></span>),<span class="code-params">this</span>.<span class="code-params">endPath</span><span class="code-params">()</span>}}<span class="code-params">paintFormXObjectEnd</span><span class="code-params">()</span>{}<span class="code-params">_initialize</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">create</span>(<span class="code-params">e.width,e.height</span>),<span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:defs"</span></span>);<span class="code-params">t</span>.<span class="code-params">appendChild</span>(<span class="code-params">r</span>),<span class="code-params">this</span>.<span class="code-params">defs</span>=<span class="code-params">r</span>;<span class="code-params">const</span> <span class="code-params">s</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:g"</span></span>);<span class="code-params">return</span> <span class="code-params">s</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"transform"</span>,l(e.transform</span>)),<span class="code-params">t</span>.<span class="code-params">appendChild</span>(<span class="code-params">s</span>),<span class="code-params">this</span>.<span class="code-params">svg</span>=<span class="code-params">s</span>,<span class="code-params">t</span>}<span class="code-params">_ensureClipGroup</span><span class="code-params">()</span>{<span class="code-params">if</span>(<span class="code-params">!<span class="code-keyword">this</span>.current.clipGroup</span>){<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">svgFactory</span>.<span class="code-params">createElement</span>(<span class="code-params"><span class="code-string">"svg:g"</span></span>);<span class="code-params">e</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"clip-path"</span>,<span class="code-keyword">this</span>.current.activeClipUrl</span>),<span class="code-params">this</span>.<span class="code-params">svg</span>.<span class="code-params">appendChild</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">clipGroup</span>=<span class="code-params">e</span>}<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">clipGroup</span>}<span class="code-params">_ensureTransformGroup</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">tgrp</span>||(<span class="code-params"><span class="code-keyword">this</span>.tgrp=<span class="code-keyword">this</span>.svgFactory.createElement(<span class="code-string">"svg:g"</span></span>),<span class="code-params">this</span>.<span class="code-params">tgrp</span>.<span class="code-params">setAttributeNS</span>(<span class="code-params"><span class="code-literal">null</span>,<span class="code-string">"transform"</span>,l(<span class="code-keyword">this</span>.transformMatrix</span>)),<span class="code-params">this</span>.<span class="code-params">current</span>.<span class="code-params">activeClipUrl</span>?<span class="code-params">this</span>.<span class="code-params">_ensureClipGroup</span><span class="code-params">()</span>.<span class="code-params">appendChild</span>(<span class="code-params"><span class="code-keyword">this</span>.tgrp</span>):<span class="code-params">this</span>.<span class="code-params">svg</span>.<span class="code-params">appendChild</span>(<span class="code-params"><span class="code-keyword">this</span>.tgrp</span>)),<span class="code-params">this</span>.<span class="code-params">tgrp</span>}}}},<span class="code-params">function</span>(<span class="code-params">e,t,r</span>){"<span class="code-params">use</span> <span class="code-params">strict</span>";<span class="code-params">Object</span>.<span class="code-params">defineProperty</span>(<span class="code-params">t,<span class="code-string">"__esModule"</span>,{value:!<span class="code-number">0</span>}</span>),<span class="code-params">t</span>.<span class="code-params">PDFNodeStream</span>=<span class="code-params">void</span> 0;<span class="code-params">var</span> <span class="code-params">s</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">2</span></span>),<span class="code-params">n</span>=<span class="code-params">r</span>(<span class="code-params"><span class="code-number">20</span></span>);<span class="code-params">const</span> <span class="code-params">i</span>=<span class="code-params">require</span>(<span class="code-params"><span class="code-string">"fs"</span></span>),<span class="code-params">a</span>=<span class="code-params">require</span>(<span class="code-params"><span class="code-string">"http"</span></span>),<span class="code-params">o</span>=<span class="code-params">require</span>(<span class="code-params"><span class="code-string">"https"</span></span>),<span class="code-params">l</span>=<span class="code-params">require</span>(<span class="code-params"><span class="code-string">"url"</span></span>),<span class="code-params">c</span>=/^<span class="code-params">file</span>:\/\/\/[<span class="code-params">a</span>-<span class="code-params">zA</span>-<span class="code-params">Z</span>]:\//;<span class="code-params">t</span>.<span class="code-params">PDFNodeStream</span>=<span class="code-params">class</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">source</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">url</span>=<span class="code-params">function</span>(<span class="code-params">e</span>){<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">l</span>.<span class="code-params">parse</span>(<span class="code-params">e</span>);<span class="code-params">return</span>"<span class="code-params">file</span>:"===<span class="code-params">t</span>.<span class="code-params">protocol</span>||<span class="code-params">t</span>.<span class="code-params">host</span>?<span class="code-params">t</span>:/^[<span class="code-params">a</span>-<span class="code-params">z</span>]:[/\\]/<span class="code-params">i</span>.<span class="code-params">test</span>(<span class="code-params">e</span>)?<span class="code-params">l</span>.<span class="code-params">parse</span>(<span class="code-params"><span class="code-string">"file:///"</span>+e</span>):(<span class="code-params">t.host||(t.protocol=<span class="code-string">"file:"</span></span>),<span class="code-params">t</span>)}(<span class="code-params">e.url</span>),<span class="code-params">this</span>.<span class="code-params">isHttp</span>="<span class="code-params">http</span>:"===<span class="code-params">this</span>.<span class="code-params">url</span>.<span class="code-params">protocol</span>||"<span class="code-params">https</span>:"===<span class="code-params">this</span>.<span class="code-params">url</span>.<span class="code-params">protocol</span>,<span class="code-params">this</span>.<span class="code-params">isFsUrl</span>="<span class="code-params">file</span>:"===<span class="code-params">this</span>.<span class="code-params">url</span>.<span class="code-params">protocol</span>,<span class="code-params">this</span>.<span class="code-params">httpHeaders</span>=<span class="code-params">this</span>.<span class="code-params">isHttp</span>&amp;&amp;<span class="code-params">e</span>.<span class="code-params">httpHeaders</span>||{},<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_rangeRequestReaders</span>=[]}<span class="code-params">get</span> <span class="code-params">_progressiveDataLength</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>?<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>.<span class="code-params">_loaded</span>:0}<span class="code-params">getFullReader</span><span class="code-params">()</span>{<span class="code-params">return</span>(<span class="code-params"><span class="code-number">0</span>,s.assert</span>)(<span class="code-params">!<span class="code-keyword">this</span>._fullRequestReader,<span class="code-string">"PDFNodeStream.getFullReader can only be called once."</span></span>),<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>=<span class="code-params">this</span>.<span class="code-params">isFsUrl</span>?<span class="code-params">new</span> <span class="code-params">f</span>(<span class="code-params"><span class="code-keyword">this</span></span>):<span class="code-params">new</span> <span class="code-params">p</span>(<span class="code-params"><span class="code-keyword">this</span></span>),<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>}<span class="code-params">getRangeReader</span>(<span class="code-params">e,t</span>){<span class="code-params">if</span>(<span class="code-params">t&lt;=<span class="code-keyword">this</span>._progressiveDataLength</span>)<span class="code-params">return</span> <span class="code-params">null</span>;<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">this</span>.<span class="code-params">isFsUrl</span>?<span class="code-params">new</span> <span class="code-params">m</span>(<span class="code-params"><span class="code-keyword">this</span>,e,t</span>):<span class="code-params">new</span> <span class="code-params">g</span>(<span class="code-params"><span class="code-keyword">this</span>,e,t</span>);<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_rangeRequestReaders</span>.<span class="code-params">push</span>(<span class="code-params">r</span>),<span class="code-params">r</span>}<span class="code-params">cancelAllRequests</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">_fullRequestReader</span>.<span class="code-params">cancel</span>(<span class="code-params">e</span>);<span class="code-params">this</span>.<span class="code-params">_rangeRequestReaders</span>.<span class="code-params">slice</span>(<span class="code-params"><span class="code-number">0</span></span>).<span class="code-params">forEach</span>(<span class="code-params">(<span class="code-keyword">function</span>(t</span>){<span class="code-params">t</span>.<span class="code-params">cancel</span>(<span class="code-params">e</span>)}))}};<span class="code-params">class</span> <span class="code-params">h</span>{<span class="code-params">constructor</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_url</span>=<span class="code-params">e</span>.<span class="code-params">url</span>,<span class="code-params">this</span>.<span class="code-params">_done</span>=!1,<span class="code-params">this</span>.<span class="code-params">_storedError</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">onProgress</span>=<span class="code-params">null</span>;<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">source</span>;<span class="code-params">this</span>.<span class="code-params">_contentLength</span>=<span class="code-params">t</span>.<span class="code-params">length</span>,<span class="code-params">this</span>.<span class="code-params">_loaded</span>=0,<span class="code-params">this</span>.<span class="code-params">_filename</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_disableRange</span>=<span class="code-params">t</span>.<span class="code-params">disableRange</span>||!1,<span class="code-params">this</span>.<span class="code-params">_rangeChunkSize</span>=<span class="code-params">t</span>.<span class="code-params">rangeChunkSize</span>,<span class="code-params">this</span>.<span class="code-params">_rangeChunkSize</span>||<span class="code-params">this</span>.<span class="code-params">_disableRange</span>||(<span class="code-params"><span class="code-keyword">this</span>._disableRange=!<span class="code-number">0</span></span>),<span class="code-params">this</span>.<span class="code-params">_isStreamingSupported</span>=!<span class="code-params">t</span>.<span class="code-params">disableStream</span>,<span class="code-params">this</span>.<span class="code-params">_isRangeSupported</span>=!<span class="code-params">t</span>.<span class="code-params">disableRange</span>,<span class="code-params">this</span>.<span class="code-params">_readableStream</span>=<span class="code-params">null</span>,<span class="code-params">this</span>.<span class="code-params">_readCapability</span>=(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">_headersCapability</span>=(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>}<span class="code-params">get</span> <span class="code-params">headersReady</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_headersCapability</span>.<span class="code-params">promise</span>}<span class="code-params">get</span> <span class="code-params">filename</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_filename</span>}<span class="code-params">get</span> <span class="code-params">contentLength</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_contentLength</span>}<span class="code-params">get</span> <span class="code-params">isRangeSupported</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_isRangeSupported</span>}<span class="code-params">get</span> <span class="code-params">isStreamingSupported</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_isStreamingSupported</span>}<span class="code-params">async</span> <span class="code-params">read</span><span class="code-params">()</span>{<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">await</span> <span class="code-keyword">this</span>._readCapability.promise,<span class="code-keyword">this</span>._done</span>)<span class="code-params">return</span>{<span class="code-params">value</span>:<span class="code-params">void</span> 0,<span class="code-params">done</span>:!0};<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>._storedError</span>)<span class="code-params">throw</span> <span class="code-params">this</span>.<span class="code-params">_storedError</span>;<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">_readableStream</span>.<span class="code-params">read</span><span class="code-params">()</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-literal">null</span>===e</span>)<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_readCapability</span>=(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">read</span><span class="code-params">()</span>;<span class="code-params">this</span>.<span class="code-params">_loaded</span>+=<span class="code-params">e</span>.<span class="code-params">length</span>,<span class="code-params">this</span>.<span class="code-params">onProgress</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">onProgress</span>(<span class="code-params">{loaded:<span class="code-keyword">this</span>._loaded,total:<span class="code-keyword">this</span>._contentLength}</span>);<span class="code-params">return</span>{<span class="code-params">value</span>:<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">e</span>).<span class="code-params">buffer</span>,<span class="code-params">done</span>:!1}}<span class="code-params">cancel</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_readableStream</span>?<span class="code-params">this</span>.<span class="code-params">_readableStream</span>.<span class="code-params">destroy</span>(<span class="code-params">e</span>):<span class="code-params">this</span>.<span class="code-params">_error</span>(<span class="code-params">e</span>)}<span class="code-params">_error</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_storedError</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">_readCapability</span>.<span class="code-params">resolve</span><span class="code-params">()</span>}<span class="code-params">_setReadableStream</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_readableStream</span>=<span class="code-params">e</span>,<span class="code-params">e</span>.<span class="code-params">on</span>(<span class="code-params"><span class="code-string">"readable"</span>,(</span>)=&gt;</span>{<span class="code-keyword">this</span>._readCapability.resolve()}),e.on(<span class="code-string">"end"</span>,()=&gt;{e.destroy(),<span class="code-keyword">this</span>._done=!<span class="code-number">0</span>,<span class="code-keyword">this</span>._readCapability.resolve()}),e.on(<span class="code-string">"error"</span>,e=&gt;{<span class="code-keyword">this</span>._error(e)}),!<span class="code-keyword">this</span>._isStreamingSupported&amp;&amp;<span class="code-keyword">this</span>._isRangeSupported&amp;&amp;<span class="code-keyword">this</span>._error(<span class="code-keyword">new</span> s.AbortException(<span class="code-string">"streaming is disabled"</span>)),<span class="code-keyword">this</span>._storedError&amp;&amp;<span class="code-keyword">this</span>._readableStream.destroy(<span class="code-keyword">this</span>._storedError)}}<span class="code-class"><span class="code-keyword">class</span> <span class="code-title">d</span></span>{<span class="code-keyword">constructor</span>(e){<span class="code-keyword">this</span>._url=e.url,<span class="code-keyword">this</span>._done=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._storedError=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.onProgress=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._loaded=<span class="code-number">0</span>,<span class="code-keyword">this</span>._readableStream=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._readCapability=<span class="code-function">(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>;<span class="code-params">const</span> <span class="code-params">t</span>=<span class="code-params">e</span>.<span class="code-params">source</span>;<span class="code-params">this</span>.<span class="code-params">_isStreamingSupported</span>=!<span class="code-params">t</span>.<span class="code-params">disableStream</span>}<span class="code-params">get</span> <span class="code-params">isStreamingSupported</span><span class="code-params">()</span>{<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_isStreamingSupported</span>}<span class="code-params">async</span> <span class="code-params">read</span><span class="code-params">()</span>{<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">await</span> <span class="code-keyword">this</span>._readCapability.promise,<span class="code-keyword">this</span>._done</span>)<span class="code-params">return</span>{<span class="code-params">value</span>:<span class="code-params">void</span> 0,<span class="code-params">done</span>:!0};<span class="code-params">if</span>(<span class="code-params"><span class="code-keyword">this</span>._storedError</span>)<span class="code-params">throw</span> <span class="code-params">this</span>.<span class="code-params">_storedError</span>;<span class="code-params">const</span> <span class="code-params">e</span>=<span class="code-params">this</span>.<span class="code-params">_readableStream</span>.<span class="code-params">read</span><span class="code-params">()</span>;<span class="code-params">if</span>(<span class="code-params"><span class="code-literal">null</span>===e</span>)<span class="code-params">return</span> <span class="code-params">this</span>.<span class="code-params">_readCapability</span>=(<span class="code-params"><span class="code-number">0</span>,s.createPromiseCapability</span>)<span class="code-params">()</span>,<span class="code-params">this</span>.<span class="code-params">read</span><span class="code-params">()</span>;<span class="code-params">this</span>.<span class="code-params">_loaded</span>+=<span class="code-params">e</span>.<span class="code-params">length</span>,<span class="code-params">this</span>.<span class="code-params">onProgress</span>&amp;&amp;<span class="code-params">this</span>.<span class="code-params">onProgress</span>(<span class="code-params">{loaded:<span class="code-keyword">this</span>._loaded}</span>);<span class="code-params">return</span>{<span class="code-params">value</span>:<span class="code-params">new</span> <span class="code-params">Uint8Array</span>(<span class="code-params">e</span>).<span class="code-params">buffer</span>,<span class="code-params">done</span>:!1}}<span class="code-params">cancel</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_readableStream</span>?<span class="code-params">this</span>.<span class="code-params">_readableStream</span>.<span class="code-params">destroy</span>(<span class="code-params">e</span>):<span class="code-params">this</span>.<span class="code-params">_error</span>(<span class="code-params">e</span>)}<span class="code-params">_error</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_storedError</span>=<span class="code-params">e</span>,<span class="code-params">this</span>.<span class="code-params">_readCapability</span>.<span class="code-params">resolve</span><span class="code-params">()</span>}<span class="code-params">_setReadableStream</span>(<span class="code-params">e</span>){<span class="code-params">this</span>.<span class="code-params">_readableStream</span>=<span class="code-params">e</span>,<span class="code-params">e</span>.<span class="code-params">on</span>(<span class="code-params"><span class="code-string">"readable"</span>,(</span>)=&gt;</span>{<span class="code-keyword">this</span>._readCapability.resolve()}),e.on(<span class="code-string">"end"</span>,()=&gt;{e.destroy(),<span class="code-keyword">this</span>._done=!<span class="code-number">0</span>,<span class="code-keyword">this</span>._readCapability.resolve()}),e.on(<span class="code-string">"error"</span>,e=&gt;{<span class="code-keyword">this</span>._error(e)}),<span class="code-keyword">this</span>._storedError&amp;&amp;<span class="code-keyword">this</span>._readableStream.destroy(<span class="code-keyword">this</span>._storedError)}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">u</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">protocol</span>:e.protocol,<span class="code-attr">auth</span>:e.auth,<span class="code-attr">host</span>:e.hostname,<span class="code-attr">port</span>:e.port,<span class="code-attr">path</span>:e.path,<span class="code-attr">method</span>:<span class="code-string">"GET"</span>,<span class="code-attr">headers</span>:t}}<span class="code-class"><span class="code-keyword">class</span> <span class="code-title">p</span> <span class="code-keyword">extends</span> <span class="code-title">h</span></span>{<span class="code-keyword">constructor</span>(e){<span class="code-keyword">super</span>(e);<span class="code-keyword">const</span> t=<span class="code-function"><span class="code-params">t</span>=&gt;</span>{<span class="code-keyword">if</span>(<span class="code-number">404</span>===t.statusCode){<span class="code-keyword">const</span> e=<span class="code-keyword">new</span> s.MissingPDFException(<span class="code-string">`Missing PDF "<span class="code-subst">${<span class="code-keyword">this</span>._url}</span>".`</span>);<span class="code-keyword">return</span> <span class="code-keyword">this</span>._storedError=e,<span class="code-keyword">void</span> <span class="code-keyword">this</span>._headersCapability.reject(e)}<span class="code-keyword">this</span>._headersCapability.resolve(),<span class="code-keyword">this</span>._setReadableStream(t);<span class="code-keyword">const</span> r=<span class="code-function"><span class="code-params">e</span>=&gt;</span><span class="code-keyword">this</span>._readableStream.headers[e.toLowerCase()],{<span class="code-attr">allowRangeRequests</span>:i,<span class="code-attr">suggestedLength</span>:a}=<span class="code-function">(<span class="code-params"><span class="code-number">0</span>,n.validateRangeRequestCapabilities</span>)(<span class="code-params">{getResponseHeader:r,isHttp:e.isHttp,rangeChunkSize:<span class="code-keyword">this</span>._rangeChunkSize,disableRange:<span class="code-keyword">this</span>._disableRange}</span>);<span class="code-params">this</span>.<span class="code-params">_isRangeSupported</span>=<span class="code-params">i</span>,<span class="code-params">this</span>.<span class="code-params">_contentLength</span>=<span class="code-params">a</span>||<span class="code-params">this</span>.<span class="code-params">_contentLength</span>,<span class="code-params">this</span>.<span class="code-params">_filename</span>=(<span class="code-params"><span class="code-number">0</span>,n.extractFilenameFromHeader</span>)(<span class="code-params">r</span>)};<span class="code-params">this</span>.<span class="code-params">_request</span>=<span class="code-params">null</span>,"<span class="code-params">http</span>:"===<span class="code-params">this</span>.<span class="code-params">_url</span>.<span class="code-params">protocol</span>?<span class="code-params">this</span>.<span class="code-params">_request</span>=<span class="code-params">a</span>.<span class="code-params">request</span>(<span class="code-params">u(<span class="code-keyword">this</span>._url,e.httpHeaders</span>),<span class="code-params">t</span>):<span class="code-params">this</span>.<span class="code-params">_request</span>=<span class="code-params">o</span>.<span class="code-params">request</span>(<span class="code-params">u(<span class="code-keyword">this</span>._url,e.httpHeaders</span>),<span class="code-params">t</span>),<span class="code-params">this</span>.<span class="code-params">_request</span>.<span class="code-params">on</span>(<span class="code-params"><span class="code-string">"error"</span>,e=&gt;{<span class="code-keyword">this</span>._storedError=e,<span class="code-keyword">this</span>._headersCapability.reject(e</span>)}),<span class="code-params">this</span>.<span class="code-params">_request</span>.<span class="code-params">end</span><span class="code-params">()</span>}}<span class="code-params">class</span> <span class="code-params">g</span> <span class="code-params">extends</span> <span class="code-params">d</span>{<span class="code-params">constructor</span>(<span class="code-params">e,t,r</span>){<span class="code-params">super</span>(<span class="code-params">e</span>),<span class="code-params">this</span>.<span class="code-params">_httpHeaders</span>={};<span class="code-params">for</span>(<span class="code-params"><span class="code-keyword">const</span> t <span class="code-keyword">in</span> e.httpHeaders</span>){<span class="code-params">const</span> <span class="code-params">r</span>=<span class="code-params">e</span>.<span class="code-params">httpHeaders</span>[<span class="code-params">t</span>];<span class="code-params">void</span> 0!==<span class="code-params">r</span>&amp;&amp;(<span class="code-params"><span class="code-keyword">this</span>._httpHeaders[t]=r</span>)}<span class="code-params">this</span>.<span class="code-params">_httpHeaders</span>.<span class="code-params">Range</span>=`<span class="code-params">bytes</span>=<span class="code-params">$</span>{<span class="code-params">t</span>}-<span class="code-params">$</span>{<span class="code-params">r</span>-1}`;<span class="code-params">const</span> <span class="code-params">n</span>=<span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">if</span>(<span class="code-number">404</span>!==e.statusCode)<span class="code-keyword">this</span>._setReadableStream(e);<span class="code-keyword">else</span>{<span class="code-keyword">const</span> e=<span class="code-keyword">new</span> s.MissingPDFException(<span class="code-string">`Missing PDF "<span class="code-subst">${<span class="code-keyword">this</span>._url}</span>".`</span>);<span class="code-keyword">this</span>._storedError=e}};<span class="code-keyword">this</span>._request=<span class="code-literal">null</span>,<span class="code-string">"http:"</span>===<span class="code-keyword">this</span>._url.protocol?<span class="code-keyword">this</span>._request=a.request(u(<span class="code-keyword">this</span>._url,<span class="code-keyword">this</span>._httpHeaders),n):<span class="code-keyword">this</span>._request=o.request(u(<span class="code-keyword">this</span>._url,<span class="code-keyword">this</span>._httpHeaders),n),<span class="code-keyword">this</span>._request.on(<span class="code-string">"error"</span>,e=&gt;{<span class="code-keyword">this</span>._storedError=e}),<span class="code-keyword">this</span>._request.end()}}<span class="code-class"><span class="code-keyword">class</span> <span class="code-title">f</span> <span class="code-keyword">extends</span> <span class="code-title">h</span></span>{<span class="code-keyword">constructor</span>(e){<span class="code-keyword">super</span>(e);<span class="code-keyword">let</span> t=<span class="code-built_in">decodeURIComponent</span>(<span class="code-keyword">this</span>._url.path);c.test(<span class="code-keyword">this</span>._url.href)&amp;&amp;<span class="code-function">(<span class="code-params">t=t.replace(<span class="code-regexp">/^\//</span>,<span class="code-string">""</span></span>)),<span class="code-params">i</span>.<span class="code-params">lstat</span>(<span class="code-params">t,(e,r</span>)=&gt;</span>{<span class="code-keyword">if</span>(e)<span class="code-keyword">return</span><span class="code-string">"ENOENT"</span>===e.code&amp;&amp;(e=<span class="code-keyword">new</span> s.MissingPDFException(<span class="code-string">`Missing PDF "<span class="code-subst">${t}</span>".`</span>)),<span class="code-keyword">this</span>._storedError=e,<span class="code-keyword">void</span> <span class="code-keyword">this</span>._headersCapability.reject(e);<span class="code-keyword">this</span>._contentLength=r.size,<span class="code-keyword">this</span>._setReadableStream(i.createReadStream(t)),<span class="code-keyword">this</span>._headersCapability.resolve()})}}<span class="code-class"><span class="code-keyword">class</span> <span class="code-title">m</span> <span class="code-keyword">extends</span> <span class="code-title">d</span></span>{<span class="code-keyword">constructor</span>(e,t,r){<span class="code-keyword">super</span>(e);<span class="code-keyword">let</span> s=<span class="code-built_in">decodeURIComponent</span>(<span class="code-keyword">this</span>._url.path);c.test(<span class="code-keyword">this</span>._url.href)&amp;&amp;(s=s.replace(<span class="code-regexp">/^\//</span>,<span class="code-string">""</span>)),<span class="code-keyword">this</span>._setReadableStream(i.createReadStream(s,{<span class="code-attr">start</span>:t,<span class="code-attr">end</span>:r<span class="code-number">-1</span>}))}}},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,r</span>)</span>{<span class="code-string">"use strict"</span>;<span class="code-built_in">Object</span>.defineProperty(t,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),t.createResponseStatusError=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">if</span>(<span class="code-number">404</span>===e||<span class="code-number">0</span>===e&amp;&amp;t.startsWith(<span class="code-string">"file:"</span>))<span class="code-keyword">return</span> <span class="code-keyword">new</span> s.MissingPDFException(<span class="code-string">'Missing PDF "'</span>+t+<span class="code-string">'".'</span>);<span class="code-keyword">return</span> <span class="code-keyword">new</span> s.UnexpectedResponseException(<span class="code-string">"Unexpected server response ("</span>+e+<span class="code-string">') while retrieving PDF "'</span>+t+<span class="code-string">'".'</span>,e)},t.extractFilenameFromHeader=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">const</span> t=e(<span class="code-string">"Content-Disposition"</span>);<span class="code-keyword">if</span>(t){<span class="code-keyword">let</span> e=(<span class="code-number">0</span>,n.getFilenameFromContentDispositionHeader)(t);<span class="code-keyword">if</span>(e.includes(<span class="code-string">"%"</span>))<span class="code-keyword">try</span>{e=<span class="code-built_in">decodeURIComponent</span>(e)}<span class="code-keyword">catch</span>(e){}<span class="code-keyword">if</span>(<span class="code-regexp">/\.pdf$/i</span>.test(e))<span class="code-keyword">return</span> e}<span class="code-keyword">return</span> <span class="code-literal">null</span>},t.validateRangeRequestCapabilities=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">{getResponseHeader:e,isHttp:t,rangeChunkSize:r,disableRange:n}</span>)</span>{(<span class="code-number">0</span>,s.assert)(r&gt;<span class="code-number">0</span>,<span class="code-string">"Range chunk size must be larger than zero"</span>);<span class="code-keyword">const</span> i={<span class="code-attr">allowRangeRequests</span>:!<span class="code-number">1</span>,<span class="code-attr">suggestedLength</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>},a=<span class="code-built_in">parseInt</span>(e(<span class="code-string">"Content-Length"</span>),<span class="code-number">10</span>);<span class="code-keyword">if</span>(!<span class="code-built_in">Number</span>.isInteger(a))<span class="code-keyword">return</span> i;<span class="code-keyword">if</span>(i.suggestedLength=a,a&lt;=<span class="code-number">2</span>*r)<span class="code-keyword">return</span> i;<span class="code-keyword">if</span>(n||!t)<span class="code-keyword">return</span> i;<span class="code-keyword">if</span>(<span class="code-string">"bytes"</span>!==e(<span class="code-string">"Accept-Ranges"</span>))<span class="code-keyword">return</span> i;<span class="code-keyword">if</span>(<span class="code-string">"identity"</span>!==(e(<span class="code-string">"Content-Encoding"</span>)||<span class="code-string">"identity"</span>))<span class="code-keyword">return</span> i;<span class="code-keyword">return</span> i.allowRangeRequests=!<span class="code-number">0</span>,i},t.validateResponseStatus=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">200</span>===e||<span class="code-number">206</span>===e};<span class="code-keyword">var</span> s=r(<span class="code-number">2</span>),n=r(<span class="code-number">21</span>)},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,r</span>)</span>{<span class="code-string">"use strict"</span>;<span class="code-built_in">Object</span>.defineProperty(t,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),t.getFilenameFromContentDispositionHeader=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">let</span> t=!<span class="code-number">0</span>,r=s(<span class="code-string">"filename\\*"</span>,<span class="code-string">"i"</span>).exec(e);<span class="code-keyword">if</span>(r){r=r[<span class="code-number">1</span>];<span class="code-keyword">let</span> e=a(r);<span class="code-keyword">return</span> e=<span class="code-built_in">unescape</span>(e),e=o(e),e=l(e),i(e)}<span class="code-keyword">if</span>(r=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">const</span> t=[];<span class="code-keyword">let</span> r;<span class="code-keyword">const</span> n=s(<span class="code-string">"filename\\*((?!0\\d)\\d+)(\\*?)"</span>,<span class="code-string">"ig"</span>);<span class="code-keyword">for</span>(;<span class="code-literal">null</span>!==(r=n.exec(e));){<span class="code-keyword">let</span>[,e,s,n]=r;<span class="code-keyword">if</span>(e=<span class="code-built_in">parseInt</span>(e,<span class="code-number">10</span>),e <span class="code-keyword">in</span> t){<span class="code-keyword">if</span>(<span class="code-number">0</span>===e)<span class="code-keyword">break</span>}<span class="code-keyword">else</span> t[e]=[s,n]}<span class="code-keyword">const</span> i=[];<span class="code-keyword">for</span>(<span class="code-keyword">let</span> e=<span class="code-number">0</span>;e&lt;t.length&amp;&amp;e <span class="code-keyword">in</span> t;++e){<span class="code-keyword">let</span>[r,s]=t[e];s=a(s),r&amp;&amp;(s=<span class="code-built_in">unescape</span>(s),<span class="code-number">0</span>===e&amp;&amp;(s=o(s))),i.push(s)}<span class="code-keyword">return</span> i.join(<span class="code-string">""</span>)}(e),r){<span class="code-keyword">return</span> i(l(r))}<span class="code-keyword">if</span>(r=s(<span class="code-string">"filename"</span>,<span class="code-string">"i"</span>).exec(e),r){r=r[<span class="code-number">1</span>];<span class="code-keyword">let</span> e=a(r);<span class="code-keyword">return</span> e=l(e),i(e)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">s</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> <span class="code-built_in">RegExp</span>(<span class="code-string">"(?:^|;)\\s*"</span>+e+<span class="code-string">'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)'</span>,t)}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">n</span>(<span class="code-params">e,r</span>)</span>{<span class="code-keyword">if</span>(e){<span class="code-keyword">if</span>(!<span class="code-regexp">/^[\x00-\xFF]+$/</span>.test(r))<span class="code-keyword">return</span> r;<span class="code-keyword">try</span>{<span class="code-keyword">const</span> s=<span class="code-keyword">new</span> TextDecoder(e,{<span class="code-attr">fatal</span>:!<span class="code-number">0</span>}),n=<span class="code-built_in">Array</span>.from(r,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> <span class="code-number">255</span>&amp;e.charCodeAt(<span class="code-number">0</span>)}));r=s.decode(<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(n)),t=!<span class="code-number">1</span>}<span class="code-keyword">catch</span>(s){<span class="code-keyword">if</span>(<span class="code-regexp">/^utf-?8$/i</span>.test(e))<span class="code-keyword">try</span>{r=<span class="code-built_in">decodeURIComponent</span>(<span class="code-built_in">escape</span>(r)),t=!<span class="code-number">1</span>}<span class="code-keyword">catch</span>(e){}}}<span class="code-keyword">return</span> r}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span> t&amp;&amp;<span class="code-regexp">/[\x80-\xff]/</span>.test(e)&amp;&amp;(e=n(<span class="code-string">"utf-8"</span>,e),t&amp;&amp;(e=n(<span class="code-string">"iso-8859-1"</span>,e))),e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">if</span>(e.startsWith(<span class="code-string">'"'</span>)){<span class="code-keyword">const</span> t=e.slice(<span class="code-number">1</span>).split(<span class="code-string">'\\"'</span>);<span class="code-keyword">for</span>(<span class="code-keyword">let</span> e=<span class="code-number">0</span>;e&lt;t.length;++e){<span class="code-keyword">const</span> r=t[e].indexOf(<span class="code-string">'"'</span>);<span class="code-number">-1</span>!==r&amp;&amp;(t[e]=t[e].slice(<span class="code-number">0</span>,r),t.length=e+<span class="code-number">1</span>),t[e]=t[e].replace(<span class="code-regexp">/\\(.)/g</span>,<span class="code-string">"$1"</span>)}e=t.join(<span class="code-string">'"'</span>)}<span class="code-keyword">return</span> e}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">o</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">const</span> t=e.indexOf(<span class="code-string">"'"</span>);<span class="code-keyword">if</span>(<span class="code-number">-1</span>===t)<span class="code-keyword">return</span> e;<span class="code-keyword">return</span> n(e.slice(<span class="code-number">0</span>,t),e.slice(t+<span class="code-number">1</span>).replace(<span class="code-regexp">/^[^']*'/</span>,<span class="code-string">""</span>))}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">l</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">return</span>!e.startsWith(<span class="code-string">"=?"</span>)||<span class="code-regexp">/[\x00-\x19\x80-\xff]/</span>.test(e)?e:e.replace(<span class="code-regexp">/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,r,s</span>)</span>{<span class="code-keyword">if</span>(<span class="code-string">"q"</span>===r||<span class="code-string">"Q"</span>===r)<span class="code-keyword">return</span> n(t,s=(s=s.replace(<span class="code-regexp">/_/g</span>,<span class="code-string">" "</span>)).replace(<span class="code-regexp">/=([0-9a-fA-F]{2})/g</span>,(<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t</span>)</span>{<span class="code-keyword">return</span> <span class="code-built_in">String</span>.fromCharCode(<span class="code-built_in">parseInt</span>(t,<span class="code-number">16</span>))})));<span class="code-keyword">try</span>{s=atob(s)}<span class="code-keyword">catch</span>(e){}<span class="code-keyword">return</span> n(t,s)}))}<span class="code-keyword">return</span><span class="code-string">""</span>}},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,r</span>)</span>{<span class="code-string">"use strict"</span>;<span class="code-built_in">Object</span>.defineProperty(t,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),t.PDFNetworkStream=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">var</span> s=r(<span class="code-number">2</span>),n=r(<span class="code-number">20</span>);<span class="code-class"><span class="code-keyword">class</span> <span class="code-title">i</span></span>{<span class="code-keyword">constructor</span>(e,t){<span class="code-keyword">this</span>.url=e,t=t||{},<span class="code-keyword">this</span>.isHttp=<span class="code-regexp">/^https?:/i</span>.test(e),<span class="code-keyword">this</span>.httpHeaders=<span class="code-keyword">this</span>.isHttp&amp;&amp;t.httpHeaders||{},<span class="code-keyword">this</span>.withCredentials=t.withCredentials||!<span class="code-number">1</span>,<span class="code-keyword">this</span>.getXhr=t.getXhr||<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params"></span>)</span>{<span class="code-keyword">return</span> <span class="code-keyword">new</span> XMLHttpRequest},<span class="code-keyword">this</span>.currXhrId=<span class="code-number">0</span>,<span class="code-keyword">this</span>.pendingRequests=<span class="code-built_in">Object</span>.create(<span class="code-literal">null</span>)}requestRange(e,t,r){<span class="code-keyword">const</span> s={<span class="code-attr">begin</span>:e,<span class="code-attr">end</span>:t};<span class="code-keyword">for</span>(<span class="code-keyword">const</span> e <span class="code-keyword">in</span> r)s[e]=r[e];<span class="code-keyword">return</span> <span class="code-keyword">this</span>.request(s)}requestFull(e){<span class="code-keyword">return</span> <span class="code-keyword">this</span>.request(e)}request(e){<span class="code-keyword">const</span> t=<span class="code-keyword">this</span>.getXhr(),r=<span class="code-keyword">this</span>.currXhrId++,s=<span class="code-keyword">this</span>.pendingRequests[r]={<span class="code-attr">xhr</span>:t};t.open(<span class="code-string">"GET"</span>,<span class="code-keyword">this</span>.url),t.withCredentials=<span class="code-keyword">this</span>.withCredentials;<span class="code-keyword">for</span>(<span class="code-keyword">const</span> e <span class="code-keyword">in</span> <span class="code-keyword">this</span>.httpHeaders){<span class="code-keyword">const</span> r=<span class="code-keyword">this</span>.httpHeaders[e];<span class="code-keyword">void</span> <span class="code-number">0</span>!==r&amp;&amp;t.setRequestHeader(e,r)}<span class="code-keyword">return</span> <span class="code-keyword">this</span>.isHttp&amp;&amp;<span class="code-string">"begin"</span><span class="code-keyword">in</span> e&amp;&amp;<span class="code-string">"end"</span><span class="code-keyword">in</span> e?(t.setRequestHeader(<span class="code-string">"Range"</span>,<span class="code-string">`bytes=<span class="code-subst">${e.begin}</span>-<span class="code-subst">${e.end<span class="code-number">-1</span>}</span>`</span>),s.expectedStatus=<span class="code-number">206</span>):s.expectedStatus=<span class="code-number">200</span>,t.responseType=<span class="code-string">"arraybuffer"</span>,e.onError&amp;&amp;(t.onerror=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">r</span>)</span>{e.onError(t.status)}),t.onreadystatechange=<span class="code-keyword">this</span>.onStateChange.bind(<span class="code-keyword">this</span>,r),t.onprogress=<span class="code-keyword">this</span>.onProgress.bind(<span class="code-keyword">this</span>,r),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(<span class="code-literal">null</span>),r}onProgress(e,t){<span class="code-keyword">const</span> r=<span class="code-keyword">this</span>.pendingRequests[e];r&amp;&amp;r.onProgress&amp;&amp;r.onProgress(t)}onStateChange(e,t){<span class="code-keyword">const</span> r=<span class="code-keyword">this</span>.pendingRequests[e];<span class="code-keyword">if</span>(!r)<span class="code-keyword">return</span>;<span class="code-keyword">const</span> n=r.xhr;<span class="code-keyword">if</span>(n.readyState&gt;=<span class="code-number">2</span>&amp;&amp;r.onHeadersReceived&amp;&amp;(r.onHeadersReceived(),<span class="code-keyword">delete</span> r.onHeadersReceived),<span class="code-number">4</span>!==n.readyState)<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(!(e <span class="code-keyword">in</span> <span class="code-keyword">this</span>.pendingRequests))<span class="code-keyword">return</span>;<span class="code-keyword">if</span>(<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.pendingRequests[e],<span class="code-number">0</span>===n.status&amp;&amp;<span class="code-keyword">this</span>.isHttp)<span class="code-keyword">return</span> <span class="code-keyword">void</span>(r.onError&amp;&amp;r.onError(n.status));<span class="code-keyword">const</span> i=n.status||<span class="code-number">200</span>;<span class="code-keyword">if</span>(!(<span class="code-number">200</span>===i&amp;&amp;<span class="code-number">206</span>===r.expectedStatus)&amp;&amp;i!==r.expectedStatus)<span class="code-keyword">return</span> <span class="code-keyword">void</span>(r.onError&amp;&amp;r.onError(n.status));<span class="code-keyword">const</span> a=<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">const</span> t=e.response;<span class="code-keyword">return</span><span class="code-string">"string"</span>!=<span class="code-keyword">typeof</span> t?t:(<span class="code-number">0</span>,s.stringToBytes)(t).buffer}(n);<span class="code-keyword">if</span>(<span class="code-number">206</span>===i){<span class="code-keyword">const</span> e=n.getResponseHeader(<span class="code-string">"Content-Range"</span>),t=<span class="code-regexp">/bytes (\d+)-(\d+)\/(\d+)/</span>.exec(e);r.onDone({<span class="code-attr">begin</span>:<span class="code-built_in">parseInt</span>(t[<span class="code-number">1</span>],<span class="code-number">10</span>),<span class="code-attr">chunk</span>:a})}<span class="code-keyword">else</span> a?r.onDone({<span class="code-attr">begin</span>:<span class="code-number">0</span>,<span class="code-attr">chunk</span>:a}):r.onError&amp;&amp;r.onError(n.status)}hasPendingRequests(){<span class="code-keyword">for</span>(<span class="code-keyword">const</span> e <span class="code-keyword">in</span> <span class="code-keyword">this</span>.pendingRequests)<span class="code-keyword">return</span>!<span class="code-number">0</span>;<span class="code-keyword">return</span>!<span class="code-number">1</span>}getRequestXhr(e){<span class="code-keyword">return</span> <span class="code-keyword">this</span>.pendingRequests[e].xhr}isPendingRequest(e){<span class="code-keyword">return</span> e <span class="code-keyword">in</span> <span class="code-keyword">this</span>.pendingRequests}abortAllRequests(){<span class="code-keyword">for</span>(<span class="code-keyword">const</span> e <span class="code-keyword">in</span> <span class="code-keyword">this</span>.pendingRequests)<span class="code-keyword">this</span>.abortRequest(<span class="code-number">0</span>|e)}abortRequest(e){<span class="code-keyword">const</span> t=<span class="code-keyword">this</span>.pendingRequests[e].xhr;<span class="code-keyword">delete</span> <span class="code-keyword">this</span>.pendingRequests[e],t.abort()}}t.PDFNetworkStream=<span class="code-class"><span class="code-keyword">class</span></span>{<span class="code-keyword">constructor</span>(e){<span class="code-keyword">this</span>._source=e,<span class="code-keyword">this</span>._manager=<span class="code-keyword">new</span> i(e.url,{<span class="code-attr">httpHeaders</span>:e.httpHeaders,<span class="code-attr">withCredentials</span>:e.withCredentials}),<span class="code-keyword">this</span>._rangeChunkSize=e.rangeChunkSize,<span class="code-keyword">this</span>._fullRequestReader=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){<span class="code-keyword">const</span> t=<span class="code-keyword">this</span>._rangeRequestReaders.indexOf(e);t&gt;=<span class="code-number">0</span>&amp;&amp;<span class="code-keyword">this</span>._rangeRequestReaders.splice(t,<span class="code-number">1</span>)}getFullReader(){<span class="code-keyword">return</span>(<span class="code-number">0</span>,s.assert)(!<span class="code-keyword">this</span>._fullRequestReader,<span class="code-string">"PDFNetworkStream.getFullReader can only be called once."</span>),<span class="code-keyword">this</span>._fullRequestReader=<span class="code-keyword">new</span> a(<span class="code-keyword">this</span>._manager,<span class="code-keyword">this</span>._source),<span class="code-keyword">this</span>._fullRequestReader}getRangeReader(e,t){<span class="code-keyword">const</span> r=<span class="code-keyword">new</span> o(<span class="code-keyword">this</span>._manager,e,t);<span class="code-keyword">return</span> r.onClosed=<span class="code-keyword">this</span>._onRangeRequestReaderClosed.bind(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>._rangeRequestReaders.push(r),r}cancelAllRequests(e){<span class="code-keyword">this</span>._fullRequestReader&amp;&amp;<span class="code-keyword">this</span>._fullRequestReader.cancel(e);<span class="code-keyword">this</span>._rangeRequestReaders.slice(<span class="code-number">0</span>).forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.cancel(e)}))}};<span class="code-class"><span class="code-keyword">class</span> <span class="code-title">a</span></span>{<span class="code-keyword">constructor</span>(e,t){<span class="code-keyword">this</span>._manager=e;<span class="code-keyword">const</span> r={<span class="code-attr">onHeadersReceived</span>:<span class="code-keyword">this</span>._onHeadersReceived.bind(<span class="code-keyword">this</span>),<span class="code-attr">onDone</span>:<span class="code-keyword">this</span>._onDone.bind(<span class="code-keyword">this</span>),<span class="code-attr">onError</span>:<span class="code-keyword">this</span>._onError.bind(<span class="code-keyword">this</span>),<span class="code-attr">onProgress</span>:<span class="code-keyword">this</span>._onProgress.bind(<span class="code-keyword">this</span>)};<span class="code-keyword">this</span>._url=t.url,<span class="code-keyword">this</span>._fullRequestId=e.requestFull(r),<span class="code-keyword">this</span>._headersReceivedCapability=(<span class="code-number">0</span>,s.createPromiseCapability)(),<span class="code-keyword">this</span>._disableRange=t.disableRange||!<span class="code-number">1</span>,<span class="code-keyword">this</span>._contentLength=t.length,<span class="code-keyword">this</span>._rangeChunkSize=t.rangeChunkSize,<span class="code-keyword">this</span>._rangeChunkSize||<span class="code-keyword">this</span>._disableRange||(<span class="code-keyword">this</span>._disableRange=!<span class="code-number">0</span>),<span class="code-keyword">this</span>._isStreamingSupported=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._isRangeSupported=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._cachedChunks=[],<span class="code-keyword">this</span>._requests=[],<span class="code-keyword">this</span>._done=!<span class="code-number">1</span>,<span class="code-keyword">this</span>._storedError=<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-keyword">this</span>._filename=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.onProgress=<span class="code-literal">null</span>}_onHeadersReceived(){<span class="code-keyword">const</span> e=<span class="code-keyword">this</span>._fullRequestId,t=<span class="code-keyword">this</span>._manager.getRequestXhr(e),r=<span class="code-function"><span class="code-params">e</span>=&gt;</span>t.getResponseHeader(e),{<span class="code-attr">allowRangeRequests</span>:s,<span class="code-attr">suggestedLength</span>:i}=(<span class="code-number">0</span>,n.validateRangeRequestCapabilities)({<span class="code-attr">getResponseHeader</span>:r,<span class="code-attr">isHttp</span>:<span class="code-keyword">this</span>._manager.isHttp,<span class="code-attr">rangeChunkSize</span>:<span class="code-keyword">this</span>._rangeChunkSize,<span class="code-attr">disableRange</span>:<span class="code-keyword">this</span>._disableRange});s&amp;&amp;(<span class="code-keyword">this</span>._isRangeSupported=!<span class="code-number">0</span>),<span class="code-keyword">this</span>._contentLength=i||<span class="code-keyword">this</span>._contentLength,<span class="code-keyword">this</span>._filename=(<span class="code-number">0</span>,n.extractFilenameFromHeader)(r),<span class="code-keyword">this</span>._isRangeSupported&amp;&amp;<span class="code-keyword">this</span>._manager.abortRequest(e),<span class="code-keyword">this</span>._headersReceivedCapability.resolve()}_onDone(e){<span class="code-keyword">if</span>(e)<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._requests.length&gt;<span class="code-number">0</span>){<span class="code-keyword">this</span>._requests.shift().resolve({<span class="code-attr">value</span>:e.chunk,<span class="code-attr">done</span>:!<span class="code-number">1</span>})}<span class="code-keyword">else</span> <span class="code-keyword">this</span>._cachedChunks.push(e.chunk);<span class="code-keyword">this</span>._done=!<span class="code-number">0</span>,<span class="code-keyword">this</span>._cachedChunks.length&gt;<span class="code-number">0</span>||(<span class="code-keyword">this</span>._requests.forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.resolve({<span class="code-attr">value</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">done</span>:!<span class="code-number">0</span>})})),<span class="code-keyword">this</span>._requests=[])}_onError(e){<span class="code-keyword">const</span> t=<span class="code-keyword">this</span>._url,r=(<span class="code-number">0</span>,n.createResponseStatusError)(e,t);<span class="code-keyword">this</span>._storedError=r,<span class="code-keyword">this</span>._headersReceivedCapability.reject(r),<span class="code-keyword">this</span>._requests.forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.reject(r)})),<span class="code-keyword">this</span>._requests=[],<span class="code-keyword">this</span>._cachedChunks=[]}_onProgress(e){<span class="code-keyword">this</span>.onProgress&amp;&amp;<span class="code-keyword">this</span>.onProgress({<span class="code-attr">loaded</span>:e.loaded,<span class="code-attr">total</span>:e.lengthComputable?e.total:<span class="code-keyword">this</span>._contentLength})}<span class="code-keyword">get</span> filename(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._filename}<span class="code-keyword">get</span> isRangeSupported(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._isRangeSupported}<span class="code-keyword">get</span> isStreamingSupported(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._isStreamingSupported}<span class="code-keyword">get</span> contentLength(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._contentLength}<span class="code-keyword">get</span> headersReady(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._headersReceivedCapability.promise}<span class="code-keyword">async</span> read(){<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._storedError)<span class="code-keyword">throw</span> <span class="code-keyword">this</span>._storedError;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._cachedChunks.length&gt;<span class="code-number">0</span>){<span class="code-keyword">return</span>{<span class="code-attr">value</span>:<span class="code-keyword">this</span>._cachedChunks.shift(),<span class="code-attr">done</span>:!<span class="code-number">1</span>}}<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._done)<span class="code-keyword">return</span>{<span class="code-attr">value</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">done</span>:!<span class="code-number">0</span>};<span class="code-keyword">const</span> e=(<span class="code-number">0</span>,s.createPromiseCapability)();<span class="code-keyword">return</span> <span class="code-keyword">this</span>._requests.push(e),e.promise}cancel(e){<span class="code-keyword">this</span>._done=!<span class="code-number">0</span>,<span class="code-keyword">this</span>._headersReceivedCapability.reject(e),<span class="code-keyword">this</span>._requests.forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.resolve({<span class="code-attr">value</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">done</span>:!<span class="code-number">0</span>})})),<span class="code-keyword">this</span>._requests=[],<span class="code-keyword">this</span>._manager.isPendingRequest(<span class="code-keyword">this</span>._fullRequestId)&amp;&amp;<span class="code-keyword">this</span>._manager.abortRequest(<span class="code-keyword">this</span>._fullRequestId),<span class="code-keyword">this</span>._fullRequestReader=<span class="code-literal">null</span>}}<span class="code-class"><span class="code-keyword">class</span> <span class="code-title">o</span></span>{<span class="code-keyword">constructor</span>(e,t,r){<span class="code-keyword">this</span>._manager=e;<span class="code-keyword">const</span> s={<span class="code-attr">onDone</span>:<span class="code-keyword">this</span>._onDone.bind(<span class="code-keyword">this</span>),<span class="code-attr">onProgress</span>:<span class="code-keyword">this</span>._onProgress.bind(<span class="code-keyword">this</span>)};<span class="code-keyword">this</span>._requestId=e.requestRange(t,r,s),<span class="code-keyword">this</span>._requests=[],<span class="code-keyword">this</span>._queuedChunk=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._done=!<span class="code-number">1</span>,<span class="code-keyword">this</span>.onProgress=<span class="code-literal">null</span>,<span class="code-keyword">this</span>.onClosed=<span class="code-literal">null</span>}_close(){<span class="code-keyword">this</span>.onClosed&amp;&amp;<span class="code-keyword">this</span>.onClosed(<span class="code-keyword">this</span>)}_onDone(e){<span class="code-keyword">const</span> t=e.chunk;<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._requests.length&gt;<span class="code-number">0</span>){<span class="code-keyword">this</span>._requests.shift().resolve({<span class="code-attr">value</span>:t,<span class="code-attr">done</span>:!<span class="code-number">1</span>})}<span class="code-keyword">else</span> <span class="code-keyword">this</span>._queuedChunk=t;<span class="code-keyword">this</span>._done=!<span class="code-number">0</span>,<span class="code-keyword">this</span>._requests.forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.resolve({<span class="code-attr">value</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">done</span>:!<span class="code-number">0</span>})})),<span class="code-keyword">this</span>._requests=[],<span class="code-keyword">this</span>._close()}_onProgress(e){!<span class="code-keyword">this</span>.isStreamingSupported&amp;&amp;<span class="code-keyword">this</span>.onProgress&amp;&amp;<span class="code-keyword">this</span>.onProgress({<span class="code-attr">loaded</span>:e.loaded})}<span class="code-keyword">get</span> isStreamingSupported(){<span class="code-keyword">return</span>!<span class="code-number">1</span>}<span class="code-keyword">async</span> read(){<span class="code-keyword">if</span>(<span class="code-literal">null</span>!==<span class="code-keyword">this</span>._queuedChunk){<span class="code-keyword">const</span> e=<span class="code-keyword">this</span>._queuedChunk;<span class="code-keyword">return</span> <span class="code-keyword">this</span>._queuedChunk=<span class="code-literal">null</span>,{<span class="code-attr">value</span>:e,<span class="code-attr">done</span>:!<span class="code-number">1</span>}}<span class="code-keyword">if</span>(<span class="code-keyword">this</span>._done)<span class="code-keyword">return</span>{<span class="code-attr">value</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">done</span>:!<span class="code-number">0</span>};<span class="code-keyword">const</span> e=(<span class="code-number">0</span>,s.createPromiseCapability)();<span class="code-keyword">return</span> <span class="code-keyword">this</span>._requests.push(e),e.promise}cancel(e){<span class="code-keyword">this</span>._done=!<span class="code-number">0</span>,<span class="code-keyword">this</span>._requests.forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e</span>)</span>{e.resolve({<span class="code-attr">value</span>:<span class="code-keyword">void</span> <span class="code-number">0</span>,<span class="code-attr">done</span>:!<span class="code-number">0</span>})})),<span class="code-keyword">this</span>._requests=[],<span class="code-keyword">this</span>._manager.isPendingRequest(<span class="code-keyword">this</span>._requestId)&amp;&amp;<span class="code-keyword">this</span>._manager.abortRequest(<span class="code-keyword">this</span>._requestId),<span class="code-keyword">this</span>._close()}}},<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">e,t,r</span>)</span>{<span class="code-string">"use strict"</span>;<span class="code-built_in">Object</span>.defineProperty(t,<span class="code-string">"__esModule"</span>,{<span class="code-attr">value</span>:!<span class="code-number">0</span>}),t.PDFFetchStream=<span class="code-keyword">void</span> <span class="code-number">0</span>;<span class="code-keyword">var</span> s=r(<span class="code-number">2</span>),n=r(<span class="code-number">20</span>);<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">i</span>(<span class="code-params">e,t,r</span>)</span>{<span class="code-keyword">return</span>{<span class="code-attr">method</span>:<span class="code-string">"GET"</span>,<span class="code-attr">headers</span>:e,<span class="code-attr">signal</span>:r&amp;&amp;r.signal,<span class="code-attr">mode</span>:<span class="code-string">"cors"</span>,<span class="code-attr">credentials</span>:t?<span class="code-string">"include"</span>:<span class="code-string">"same-origin"</span>,<span class="code-attr">redirect</span>:<span class="code-string">"follow"</span>}}<span class="code-function"><span class="code-keyword">function</span> <span class="code-title">a</span>(<span class="code-params">e</span>)</span>{<span class="code-keyword">const</span> t=<span class="code-keyword">new</span> Headers;<span class="code-keyword">for</span>(<span class="code-keyword">const</span> r <span class="code-keyword">in</span> e){<span class="code-keyword">const</span> s=e[r];<span class="code-keyword">void</span> <span class="code-number">0</span>!==s&amp;&amp;t.append(r,s)}<span class="code-keyword">return</span> t}t.PDFFetchStream=<span class="code-class"><span class="code-keyword">class</span></span>{<span class="code-keyword">constructor</span>(e){<span class="code-keyword">this</span>.source=e,<span class="code-keyword">this</span>.isHttp=<span class="code-regexp">/^https?:/i</span>.test(e.url),<span class="code-keyword">this</span>.httpHeaders=<span class="code-keyword">this</span>.isHttp&amp;&amp;e.httpHeaders||{},<span class="code-keyword">this</span>._fullRequestReader=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._rangeRequestReaders=[]}<span class="code-keyword">get</span> _progressiveDataLength(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._fullRequestReader?<span class="code-keyword">this</span>._fullRequestReader._loaded:<span class="code-number">0</span>}getFullReader(){<span class="code-keyword">return</span>(<span class="code-number">0</span>,s.assert)(!<span class="code-keyword">this</span>._fullRequestReader,<span class="code-string">"PDFFetchStream.getFullReader can only be called once."</span>),<span class="code-keyword">this</span>._fullRequestReader=<span class="code-keyword">new</span> o(<span class="code-keyword">this</span>),<span class="code-keyword">this</span>._fullRequestReader}getRangeReader(e,t){<span class="code-keyword">if</span>(t&lt;=<span class="code-keyword">this</span>._progressiveDataLength)<span class="code-keyword">return</span> <span class="code-literal">null</span>;<span class="code-keyword">const</span> r=<span class="code-keyword">new</span> l(<span class="code-keyword">this</span>,e,t);<span class="code-keyword">return</span> <span class="code-keyword">this</span>._rangeRequestReaders.push(r),r}cancelAllRequests(e){<span class="code-keyword">this</span>._fullRequestReader&amp;&amp;<span class="code-keyword">this</span>._fullRequestReader.cancel(e);<span class="code-keyword">this</span>._rangeRequestReaders.slice(<span class="code-number">0</span>).forEach((<span class="code-function"><span class="code-keyword">function</span>(<span class="code-params">t</span>)</span>{t.cancel(e)}))}};<span class="code-class"><span class="code-keyword">class</span> <span class="code-title">o</span></span>{<span class="code-keyword">constructor</span>(e){<span class="code-keyword">this</span>._stream=e,<span class="code-keyword">this</span>._reader=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._loaded=<span class="code-number">0</span>,<span class="code-keyword">this</span>._filename=<span class="code-literal">null</span>;<span class="code-keyword">const</span> t=e.source;<span class="code-keyword">this</span>._withCredentials=t.withCredentials||!<span class="code-number">1</span>,<span class="code-keyword">this</span>._contentLength=t.length,<span class="code-keyword">this</span>._headersCapability=(<span class="code-number">0</span>,s.createPromiseCapability)(),<span class="code-keyword">this</span>._disableRange=t.disableRange||!<span class="code-number">1</span>,<span class="code-keyword">this</span>._rangeChunkSize=t.rangeChunkSize,<span class="code-keyword">this</span>._rangeChunkSize||<span class="code-keyword">this</span>._disableRange||(<span class="code-keyword">this</span>._disableRange=!<span class="code-number">0</span>),<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> AbortController&amp;&amp;(<span class="code-keyword">this</span>._abortController=<span class="code-keyword">new</span> AbortController),<span class="code-keyword">this</span>._isStreamingSupported=!t.disableStream,<span class="code-keyword">this</span>._isRangeSupported=!t.disableRange,<span class="code-keyword">this</span>._headers=a(<span class="code-keyword">this</span>._stream.httpHeaders);<span class="code-keyword">const</span> r=t.url;fetch(r,i(<span class="code-keyword">this</span>._headers,<span class="code-keyword">this</span>._withCredentials,<span class="code-keyword">this</span>._abortController)).then(<span class="code-function"><span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">if</span>(!(<span class="code-number">0</span>,n.validateResponseStatus)(e.status))<span class="code-keyword">throw</span>(<span class="code-number">0</span>,n.createResponseStatusError)(e.status,r);<span class="code-keyword">this</span>._reader=e.body.getReader(),<span class="code-keyword">this</span>._headersCapability.resolve();<span class="code-keyword">const</span> t=<span class="code-function"><span class="code-params">t</span>=&gt;</span>e.headers.get(t),{<span class="code-attr">allowRangeRequests</span>:i,<span class="code-attr">suggestedLength</span>:a}=(<span class="code-number">0</span>,n.validateRangeRequestCapabilities)({<span class="code-attr">getResponseHeader</span>:t,<span class="code-attr">isHttp</span>:<span class="code-keyword">this</span>._stream.isHttp,<span class="code-attr">rangeChunkSize</span>:<span class="code-keyword">this</span>._rangeChunkSize,<span class="code-attr">disableRange</span>:<span class="code-keyword">this</span>._disableRange});<span class="code-keyword">this</span>._isRangeSupported=i,<span class="code-keyword">this</span>._contentLength=a||<span class="code-keyword">this</span>._contentLength,<span class="code-keyword">this</span>._filename=(<span class="code-number">0</span>,n.extractFilenameFromHeader)(t),!<span class="code-keyword">this</span>._isStreamingSupported&amp;&amp;<span class="code-keyword">this</span>._isRangeSupported&amp;&amp;<span class="code-keyword">this</span>.cancel(<span class="code-keyword">new</span> s.AbortException(<span class="code-string">"Streaming is disabled."</span>))}).catch(<span class="code-keyword">this</span>._headersCapability.reject),<span class="code-keyword">this</span>.onProgress=<span class="code-literal">null</span>}<span class="code-keyword">get</span> headersReady(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._headersCapability.promise}<span class="code-keyword">get</span> filename(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._filename}<span class="code-keyword">get</span> contentLength(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._contentLength}<span class="code-keyword">get</span> isRangeSupported(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._isRangeSupported}<span class="code-keyword">get</span> isStreamingSupported(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._isStreamingSupported}<span class="code-keyword">async</span> read(){<span class="code-keyword">await</span> <span class="code-keyword">this</span>._headersCapability.promise;<span class="code-keyword">const</span>{<span class="code-attr">value</span>:e,<span class="code-attr">done</span>:t}=<span class="code-keyword">await</span> <span class="code-keyword">this</span>._reader.read();<span class="code-keyword">if</span>(t)<span class="code-keyword">return</span>{<span class="code-attr">value</span>:e,<span class="code-attr">done</span>:t};<span class="code-keyword">this</span>._loaded+=e.byteLength,<span class="code-keyword">this</span>.onProgress&amp;&amp;<span class="code-keyword">this</span>.onProgress({<span class="code-attr">loaded</span>:<span class="code-keyword">this</span>._loaded,<span class="code-attr">total</span>:<span class="code-keyword">this</span>._contentLength});<span class="code-keyword">return</span>{<span class="code-attr">value</span>:<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e).buffer,<span class="code-attr">done</span>:!<span class="code-number">1</span>}}cancel(e){<span class="code-keyword">this</span>._reader&amp;&amp;<span class="code-keyword">this</span>._reader.cancel(e),<span class="code-keyword">this</span>._abortController&amp;&amp;<span class="code-keyword">this</span>._abortController.abort()}}<span class="code-class"><span class="code-keyword">class</span> <span class="code-title">l</span></span>{<span class="code-keyword">constructor</span>(e,t,r){<span class="code-keyword">this</span>._stream=e,<span class="code-keyword">this</span>._reader=<span class="code-literal">null</span>,<span class="code-keyword">this</span>._loaded=<span class="code-number">0</span>;<span class="code-keyword">const</span> o=e.source;<span class="code-keyword">this</span>._withCredentials=o.withCredentials||!<span class="code-number">1</span>,<span class="code-keyword">this</span>._readCapability=(<span class="code-number">0</span>,s.createPromiseCapability)(),<span class="code-keyword">this</span>._isStreamingSupported=!o.disableStream,<span class="code-string">"undefined"</span>!=<span class="code-keyword">typeof</span> AbortController&amp;&amp;(<span class="code-keyword">this</span>._abortController=<span class="code-keyword">new</span> AbortController),<span class="code-keyword">this</span>._headers=a(<span class="code-keyword">this</span>._stream.httpHeaders),<span class="code-keyword">this</span>._headers.append(<span class="code-string">"Range"</span>,<span class="code-string">`bytes=<span class="code-subst">${t}</span>-<span class="code-subst">${r<span class="code-number">-1</span>}</span>`</span>);<span class="code-keyword">const</span> l=o.url;fetch(l,i(<span class="code-keyword">this</span>._headers,<span class="code-keyword">this</span>._withCredentials,<span class="code-keyword">this</span>._abortController)).then(<span class="code-function"><span class="code-params">e</span>=&gt;</span>{<span class="code-keyword">if</span>(!(<span class="code-number">0</span>,n.validateResponseStatus)(e.status))<span class="code-keyword">throw</span>(<span class="code-number">0</span>,n.createResponseStatusError)(e.status,l);<span class="code-keyword">this</span>._readCapability.resolve(),<span class="code-keyword">this</span>._reader=e.body.getReader()}),<span class="code-keyword">this</span>.onProgress=<span class="code-literal">null</span>}<span class="code-keyword">get</span> isStreamingSupported(){<span class="code-keyword">return</span> <span class="code-keyword">this</span>._isStreamingSupported}<span class="code-keyword">async</span> read(){<span class="code-keyword">await</span> <span class="code-keyword">this</span>._readCapability.promise;<span class="code-keyword">const</span>{<span class="code-attr">value</span>:e,<span class="code-attr">done</span>:t}=<span class="code-keyword">await</span> <span class="code-keyword">this</span>._reader.read();<span class="code-keyword">if</span>(t)<span class="code-keyword">return</span>{<span class="code-attr">value</span>:e,<span class="code-attr">done</span>:t};<span class="code-keyword">this</span>._loaded+=e.byteLength,<span class="code-keyword">this</span>.onProgress&amp;&amp;<span class="code-keyword">this</span>.onProgress({<span class="code-attr">loaded</span>:<span class="code-keyword">this</span>._loaded});<span class="code-keyword">return</span>{<span class="code-attr">value</span>:<span class="code-keyword">new</span> <span class="code-built_in">Uint8Array</span>(e).buffer,<span class="code-attr">done</span>:!<span class="code-number">1</span>}}cancel(e){<span class="code-keyword">this</span>._reader&amp;&amp;<span class="code-keyword">this</span>._reader.cancel(e),<span class="code-keyword">this</span>._abortController&amp;&amp;<span class="code-keyword">this</span>._abortController.abort()}}}])}));</code></td></tr><tr><td class="css-a4x74f">\</td><style data-emotion-css="jhhjkz">.css-jhhjkz{padding-left:10px;color:rgba(27,31,35,.3);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;}</style><td class="css-jhhjkz">No newline at end of file</td></tr></tbody></table></div></div></div></div><style data-emotion-css="1teho9j">.css-1teho9j{margin-top:5rem;background:black;color:#aaa;}</style><footer class="css-1teho9j"><style data-emotion-css="1ui8put">.css-1ui8put{max-width:940px;padding:10px 20px;margin:0 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}</style><div class="css-1ui8put"><p><span>Build: <!-- -->a7ebffa</span></p><p><span>© <!-- -->2024<!-- --> UNPKG</span></p><style data-emotion-css="la3nd4">.css-la3nd4{font-size:1.5rem;}</style><p class="css-la3nd4"><style data-emotion-css="bogekj">.css-bogekj{color:#aaa;display:inline-block;}.css-bogekj:hover{color:white;}</style><a href="https://twitter.com/unpkg" class="css-bogekj"><style data-emotion-css="i6dzq1">.css-i6dzq1{vertical-align:text-bottom;}</style><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><style data-emotion-css="3czw03">.css-3czw03{color:#aaa;display:inline-block;margin-left:1rem;}.css-3czw03:hover{color:white;}</style><a href="https://github.com/mjackson/unpkg" class="css-3czw03"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" class="css-i6dzq1" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></p></div></footer></div><script src="/react@16.8.6/umd/react.production.min.js"></script><script src="/react-dom@16.8.6/umd/react-dom.production.min.js"></script><script src="/@emotion/core@10.0.6/dist/core.umd.min.js"></script><script>'use strict';(function(t,A,c){function w(){w=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var e=arguments[b],c;for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(a[c]=e[c])}return a};return w.apply(this,arguments)}function P(a,b){if(null==a)return{};var e={},c=Object.keys(a),d;for(d=0;d<c.length;d++){var h=c[d];0<=b.indexOf(h)||(e[h]=a[h])}return e}function Q(a,b){b||(b=a.slice(0));a.raw=b;return a}function R(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,
"default")?a["default"]:a}function D(a,b){return b={exports:{}},a(b,b.exports),b.exports}function J(a,b,e,c,d){for(var g in a)if(ua(a,g)){try{if("function"!==typeof a[g]){var r=Error((c||"React class")+": "+e+" type `"+g+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[g]+"`.");r.name="Invariant Violation";throw r;}var k=a[g](b,g,c,e,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(q){k=q}!k||k instanceof Error||K((c||"React class")+": type specification of "+
e+" `"+g+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof k+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).");if(k instanceof Error&&!(k.message in L)){L[k.message]=!0;var B=d?d():"";K("Failed "+e+" type: "+k.message+(null!=B?B:""))}}}function G(){return null}function S(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={border:"1px solid #dfe2e5",
borderRadius:3},b["@media (max-width: 700px)"]={borderRightWidth:0,borderLeftWidth:0},b),a)},e)}function T(a){var b,e=a.children;a=a.css;return c.jsx("div",{css:w((b={padding:10,background:"#f6f8fa",color:"#424242",border:"1px solid #d1d5da",borderTopLeftRadius:3,borderTopRightRadius:3,margin:"-1px -1px 0",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},b["@media (max-width: 700px)"]={paddingRight:20,paddingLeft:20},b),a)},e)}function U(a){return a&&a.map(function(a,
c){return t.createElement(a.tag,z({key:c},a.attr),U(a.child))})}function E(a){return function(b){return t.createElement(va,z({attr:z({},a.attr)},b),U(a.child))}}function va(a){var b=function(b){var c=a.size||b.size||"1em";if(b.className)var e=b.className;a.className&&(e=(e?e+" ":"")+a.className);var h=a.attr,r=a.title,k=["attr","title"],B={},q;for(q in a)Object.prototype.hasOwnProperty.call(a,q)&&0>k.indexOf(q)&&(B[q]=a[q]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var p=0;for(q=
Object.getOwnPropertySymbols(a);p<q.length;p++)0>k.indexOf(q[p])&&(B[q[p]]=a[q[p]])}return t.createElement("svg",z({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},b.attr,h,B,{className:e,style:z({color:a.color||b.color},b.style,a.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&t.createElement("title",null,r),a.children)};return void 0!==V?t.createElement(V.Consumer,null,function(a){return b(a)}):b(W)}function F(a,b){var e=b.css;b=P(b,["css"]);return c.jsx(a,w({css:w({},
e,{verticalAlign:"text-bottom"})},b))}function wa(a){return F(X,a)}function xa(a){return F(Y,a)}function ya(a){return F(Z,a)}function za(a){return F(aa,a)}function Aa(a){return F(ba,a)}function ca(a){var b=a.path,e=a.details,g=Object.keys(e).reduce(function(a,b){var c=a.subdirs,g=a.files;b=e[b];"directory"===b.type?c.push(b):"file"===b.type&&g.push(b);return a},{subdirs:[],files:[]});a=g.subdirs;g=g.files;a.sort(da("path"));g.sort(da("path"));var d=[];"/"!==b&&d.push(c.jsx("tr",{key:".."},c.jsx("td",
{css:M}),c.jsx("td",{css:y},c.jsx("a",{title:"Parent directory",href:"../",css:N},"..")),c.jsx("td",{css:y}),c.jsx("td",{css:O})));a.forEach(function(a){a=a.path.substr(1<b.length?b.length+1:1);var e=a+"/";d.push(c.jsx("tr",{key:a},c.jsx("td",{css:M},c.jsx(ya,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:e,css:N},a)),c.jsx("td",{css:y},"-"),c.jsx("td",{css:O},"-")))});g.forEach(function(a){var e=a.size,g=a.contentType;a=a.path.substr(1<b.length?b.length+1:1);d.push(c.jsx("tr",{key:a},c.jsx("td",
{css:M},"text/plain"===g||"text/markdown"===g?c.jsx(wa,null):c.jsx(xa,null)),c.jsx("td",{css:y},c.jsx("a",{title:a,href:a,css:N},a)),c.jsx("td",{css:y},ea(e)),c.jsx("td",{css:O},g)))});var h=[];0<g.length&&h.push(g.length+" file"+(1===g.length?"":"s"));0<a.length&&h.push(a.length+" folder"+(1===a.length?"":"s"));return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,h.join(", "))),c.jsx("table",{css:{width:"100%",borderCollapse:"collapse",borderRadius:2,background:"#fff","@media (max-width: 700px)":{"& th + th + th + th, & td + td + td + td":{display:"none"}},
"& tr:first-of-type td":{borderTop:0}}},c.jsx("thead",null,c.jsx("tr",null,c.jsx("th",null,c.jsx(H,null,"Icon")),c.jsx("th",null,c.jsx(H,null,"Name")),c.jsx("th",null,c.jsx(H,null,"Size")),c.jsx("th",null,c.jsx(H,null,"Content Type")))),c.jsx("tbody",null,d)))}function Ba(a){a=a.split("/");return a[a.length-1]}function Ca(a){var b=a.uri;return c.jsx("div",{css:{padding:20,textAlign:"center"}},c.jsx("img",{alt:Ba(a.path),src:b}))}function Da(a){a=a.highlights.slice(0);var b=a.length&&""===a[a.length-
1];b&&a.pop();return c.jsx("div",{className:"code-listing",css:{overflowX:"auto",overflowY:"hidden",paddingTop:5,paddingBottom:5}},c.jsx("table",{css:{border:"none",borderCollapse:"collapse",borderSpacing:0}},c.jsx("tbody",null,a.map(function(a,b){var e=b+1;return c.jsx("tr",{key:b},c.jsx("td",{id:"L"+e,css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},c.jsx("span",null,e)),c.jsx("td",{id:"LC"+e,css:{paddingLeft:10,
paddingRight:10,color:"#24292e",whiteSpace:"pre"}},c.jsx("code",{dangerouslySetInnerHTML:{__html:a}})))}),!b&&c.jsx("tr",{key:"no-newline"},c.jsx("td",{css:{paddingLeft:10,paddingRight:10,color:"rgba(27,31,35,.3)",textAlign:"right",verticalAlign:"top",width:"1%",minWidth:50,userSelect:"none"}},"\\"),c.jsx("td",{css:{paddingLeft:10,color:"rgba(27,31,35,.3)",userSelect:"none"}},"No newline at end of file")))))}function Ea(){return c.jsx("div",{css:{padding:20}},c.jsx("p",{css:{textAlign:"center"}},
"No preview available."))}function fa(a){var b=a.packageName,e=a.packageVersion,g=a.path;a=a.details;var d=a.highlights,h=a.uri,r=a.language;return c.jsx(S,null,c.jsx(T,null,c.jsx("span",null,ea(a.size)),c.jsx("span",null,r),c.jsx("span",null,c.jsx("a",{href:"/"+b+"@"+e+g,css:{display:"inline-block",marginLeft:8,padding:"2px 8px",textDecoration:"none",fontWeight:600,fontSize:"0.9rem",color:"#24292e",backgroundColor:"#eff3f6",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,":hover":{backgroundColor:"#e6ebf1",
borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},"View Raw"))),d?c.jsx(Da,{highlights:d}):h?c.jsx(Ca,{path:g,uri:h}):c.jsx(Ea,null))}function ha(){var a=Q(["\n  .code-listing {\n    background: #fbfdff;\n    color: #383a42;\n  }\n  .code-comment,\n  .code-quote {\n    color: #a0a1a7;\n    font-style: italic;\n  }\n  .code-doctag,\n  .code-keyword,\n  .code-link,\n  .code-formula {\n    color: #a626a4;\n  }\n  .code-section,\n  .code-name,\n  .code-selector-tag,\n  .code-deletion,\n  .code-subst {\n    color: #e45649;\n  }\n  .code-literal {\n    color: #0184bb;\n  }\n  .code-string,\n  .code-regexp,\n  .code-addition,\n  .code-attribute,\n  .code-meta-string {\n    color: #50a14f;\n  }\n  .code-built_in,\n  .code-class .code-title {\n    color: #c18401;\n  }\n  .code-attr,\n  .code-variable,\n  .code-template-variable,\n  .code-type,\n  .code-selector-class,\n  .code-selector-attr,\n  .code-selector-pseudo,\n  .code-number {\n    color: #986801;\n  }\n  .code-symbol,\n  .code-bullet,\n  .code-meta,\n  .code-selector-id,\n  .code-title {\n    color: #4078f2;\n  }\n  .code-emphasis {\n    font-style: italic;\n  }\n  .code-strong {\n    font-weight: bold;\n  }\n"]);
ha=function(){return a};return a}function ia(){var a=Q(["\n  html {\n    box-sizing: border-box;\n  }\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    margin: 0;\n  }\n\n  body {\n    ","\n    font-size: 16px;\n    line-height: 1.5;\n    overflow-wrap: break-word;\n    background: white;\n    color: black;\n  }\n\n  code {\n    ","\n  }\n\n  th,\n  td {\n    padding: 0;\n  }\n\n  select {\n    font-size: inherit;\n  }\n\n  #root {\n    display: flex;\n    flex-direction: column;\n  }\n"]);
ia=function(){return a};return a}function ja(a){var b=a.css;a=P(a,["css"]);return c.jsx("a",w({},a,{css:w({color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},b)}))}function Fa(){return c.jsx("header",{css:{marginTop:"2rem"}},c.jsx("h1",{css:{textAlign:"center",fontSize:"3rem",letterSpacing:"0.05em"}},c.jsx("a",{href:"/",css:{color:"#000",textDecoration:"none"}},"UNPKG")))}function Ga(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;a=a.filename;var d=[];if("/"===
a)d.push(b);else{var h="/browse/"+b+"@"+e;d.push(c.jsx(ja,{href:h+"/"},b));b=a.replace(/^\/+/,"").replace(/\/+$/,"").split("/");a=b.pop();b.forEach(function(a){h+="/"+a;d.push(c.jsx(ja,{href:h+"/"},a))});d.push(a)}return c.jsx("header",{css:{display:"flex",flexDirection:"row",alignItems:"center","@media (max-width: 700px)":{flexDirection:"column-reverse",alignItems:"flex-start"}}},c.jsx("h1",{css:{fontSize:"1.5rem",fontWeight:"normal",flex:1,wordBreak:"break-all"}},c.jsx("nav",null,d.map(function(a,
b,e){return c.jsx(t.Fragment,{key:b},0!==b&&c.jsx("span",{css:{paddingLeft:5,paddingRight:5}},"/"),b===e.length-1?c.jsx("strong",null,a):a)}))),c.jsx(Ha,{packageVersion:e,availableVersions:g,onChange:function(a){window.location.href=window.location.href.replace("@"+e,"@"+a)}}))}function Ha(a){var b=a.onChange;return c.jsx("p",{css:{marginLeft:20,"@media (max-width: 700px)":{marginLeft:0,marginBottom:0}}},c.jsx("label",null,"Version:"," ",c.jsx("select",{name:"version",defaultValue:a.packageVersion,
onChange:function(a){b&&b(a.target.value)},css:{appearance:"none",cursor:"pointer",padding:"4px 24px 4px 8px",fontWeight:600,fontSize:"0.9em",color:"#24292e",border:"1px solid rgba(27,31,35,.2)",borderRadius:3,backgroundColor:"#eff3f6",backgroundImage:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAKCAYAAAC9vt6cAAAAAXNSR0IArs4c6QAAARFJREFUKBVjZAACNS39RhBNKrh17WI9o4quoT3Dn78HSNUMUs/CzOTI/O7Vi4dCYpJ3/jP+92BkYGAlyiBGhm8MjIxJt65e3MQM0vDu9YvLYmISILYZELOBxHABRkaGr0yMzF23r12YDFIDNgDEePv65SEhEXENBkYGFSAXuyGMjF8Z/jOsvX3tYiFIDwgwQSgIaaijnvj/P8M5IO8HsjiY/f//D4b//88A1SQhywG9jQr09PS4v/1mPAeUUPzP8B8cJowMjL+Bqu6xMQmaXL164AuyDgwDQJLa2qYSP//9vARkCoMVMzK8YeVkNbh+9uxzMB+JwGoASF5Vx0jz/98/18BqmZi171w9D2EjaaYKEwAEK00XQLdJuwAAAABJRU5ErkJggg==)",
backgroundPosition:"right 8px center",backgroundRepeat:"no-repeat",backgroundSize:"auto 25%",":hover":{backgroundColor:"#e6ebf1",borderColor:"rgba(27,31,35,.35)"},":active":{backgroundColor:"#e9ecef",borderColor:"rgba(27,31,35,.35)",boxShadow:"inset 0 0.15em 0.3em rgba(27,31,35,.15)"}}},a.availableVersions.map(function(a){return c.jsx("option",{key:a,value:a},a)}))))}function Ia(a){var b=a.packageName,e=a.packageVersion;a=a.target;return"directory"===a.type?c.jsx(ca,{path:a.path,details:a.details}):
"file"===a.type?c.jsx(fa,{packageName:b,packageVersion:e,path:a.path,details:a.details}):null}function ka(a){var b=a.packageName,e=a.packageVersion,g=a.availableVersions;g=void 0===g?[]:g;var d=a.filename;a=a.target;return c.jsx(t.Fragment,null,c.jsx(c.Global,{styles:Ja}),c.jsx(c.Global,{styles:Ka}),c.jsx("div",{css:{flex:"1 0 auto"}},c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Fa,null)),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto"}},c.jsx(Ga,{packageName:b,
packageVersion:e,availableVersions:g,filename:d})),c.jsx("div",{css:{maxWidth:940,padding:"0 20px",margin:"0 auto","@media (max-width: 700px)":{padding:0,margin:0}}},c.jsx(Ia,{packageName:b,packageVersion:e,target:a}))),c.jsx("footer",{css:{marginTop:"5rem",background:"black",color:"#aaa"}},c.jsx("div",{css:{maxWidth:940,padding:"10px 20px",margin:"0 auto",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},c.jsx("p",null,c.jsx("span",null,"Build: ","a7ebffa")),
c.jsx("p",null,c.jsx("span",null,"\u00a9 ",(new Date).getFullYear()," UNPKG")),c.jsx("p",{css:{fontSize:"1.5rem"}},c.jsx("a",{href:"https://twitter.com/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"}}},c.jsx(za,null)),c.jsx("a",{href:"https://github.com/mjackson/unpkg",css:{color:"#aaa",display:"inline-block",":hover":{color:"white"},marginLeft:"1rem"}},c.jsx(Aa,null))))))}var la="default"in t?t["default"]:t;A=A&&A.hasOwnProperty("default")?A["default"]:A;var La="undefined"!==
typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},m=D(function(a,b){function c(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case d:switch(a=a.type,a){case l:case f:case r:case m:case k:case v:return a;default:switch(a=a&&a.$$typeof,a){case p:case n:case q:return a;default:return b}}case x:case u:case h:return b}}}function g(a){return c(a)===f}Object.defineProperty(b,"__esModule",{value:!0});var d=
(a="function"===typeof Symbol&&Symbol.for)?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,r=a?Symbol.for("react.fragment"):60107,k=a?Symbol.for("react.strict_mode"):60108,m=a?Symbol.for("react.profiler"):60114,q=a?Symbol.for("react.provider"):60109,p=a?Symbol.for("react.context"):60110,l=a?Symbol.for("react.async_mode"):60111,f=a?Symbol.for("react.concurrent_mode"):60111,n=a?Symbol.for("react.forward_ref"):60112,v=a?Symbol.for("react.suspense"):60113,u=a?Symbol.for("react.memo"):
60115,x=a?Symbol.for("react.lazy"):60116;b.typeOf=c;b.AsyncMode=l;b.ConcurrentMode=f;b.ContextConsumer=p;b.ContextProvider=q;b.Element=d;b.ForwardRef=n;b.Fragment=r;b.Lazy=x;b.Memo=u;b.Portal=h;b.Profiler=m;b.StrictMode=k;b.Suspense=v;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===r||a===f||a===m||a===k||a===v||"object"===typeof a&&null!==a&&(a.$$typeof===x||a.$$typeof===u||a.$$typeof===q||a.$$typeof===p||a.$$typeof===n)};b.isAsyncMode=function(a){return g(a)||
c(a)===l};b.isConcurrentMode=g;b.isContextConsumer=function(a){return c(a)===p};b.isContextProvider=function(a){return c(a)===q};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===d};b.isForwardRef=function(a){return c(a)===n};b.isFragment=function(a){return c(a)===r};b.isLazy=function(a){return c(a)===x};b.isMemo=function(a){return c(a)===u};b.isPortal=function(a){return c(a)===h};b.isProfiler=function(a){return c(a)===m};b.isStrictMode=function(a){return c(a)===k};b.isSuspense=
function(a){return c(a)===v}});R(m);var na=D(function(a,b){(function(){function a(a){if("object"===typeof a&&null!==a){var b=a.$$typeof;switch(b){case h:switch(a=a.type,a){case f:case n:case k:case q:case m:case u:return a;default:switch(a=a&&a.$$typeof,a){case l:case v:case p:return a;default:return b}}case I:case x:case r:return b}}}function c(b){return a(b)===n}Object.defineProperty(b,"__esModule",{value:!0});var d="function"===typeof Symbol&&Symbol.for,h=d?Symbol.for("react.element"):60103,r=
d?Symbol.for("react.portal"):60106,k=d?Symbol.for("react.fragment"):60107,m=d?Symbol.for("react.strict_mode"):60108,q=d?Symbol.for("react.profiler"):60114,p=d?Symbol.for("react.provider"):60109,l=d?Symbol.for("react.context"):60110,f=d?Symbol.for("react.async_mode"):60111,n=d?Symbol.for("react.concurrent_mode"):60111,v=d?Symbol.for("react.forward_ref"):60112,u=d?Symbol.for("react.suspense"):60113,x=d?Symbol.for("react.memo"):60115,I=d?Symbol.for("react.lazy"):60116;d=function(){};var Ma=function(a){for(var b=
arguments.length,f=Array(1<b?b-1:0),c=1;c<b;c++)f[c-1]=arguments[c];var n=0;b="Warning: "+a.replace(/%s/g,function(){return f[n++]});"undefined"!==typeof console&&console.warn(b);try{throw Error(b);}catch(Xa){}},Na=d=function(a,b){if(void 0===b)throw Error("`lowPriorityWarning(condition, format, ...args)` requires a warning message argument");if(!a){for(var f=arguments.length,c=Array(2<f?f-2:0),n=2;n<f;n++)c[n-2]=arguments[n];Ma.apply(void 0,[b].concat(c))}},ma=!1;b.typeOf=a;b.AsyncMode=f;b.ConcurrentMode=
n;b.ContextConsumer=l;b.ContextProvider=p;b.Element=h;b.ForwardRef=v;b.Fragment=k;b.Lazy=I;b.Memo=x;b.Portal=r;b.Profiler=q;b.StrictMode=m;b.Suspense=u;b.isValidElementType=function(a){return"string"===typeof a||"function"===typeof a||a===k||a===n||a===q||a===m||a===u||"object"===typeof a&&null!==a&&(a.$$typeof===I||a.$$typeof===x||a.$$typeof===p||a.$$typeof===l||a.$$typeof===v)};b.isAsyncMode=function(b){ma||(ma=!0,Na(!1,"The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API."));
return c(b)||a(b)===f};b.isConcurrentMode=c;b.isContextConsumer=function(b){return a(b)===l};b.isContextProvider=function(b){return a(b)===p};b.isElement=function(a){return"object"===typeof a&&null!==a&&a.$$typeof===h};b.isForwardRef=function(b){return a(b)===v};b.isFragment=function(b){return a(b)===k};b.isLazy=function(b){return a(b)===I};b.isMemo=function(b){return a(b)===x};b.isPortal=function(b){return a(b)===r};b.isProfiler=function(b){return a(b)===q};b.isStrictMode=function(b){return a(b)===
m};b.isSuspense=function(b){return a(b)===u}})()});R(na);var oa=D(function(a){a.exports=na}),pa=Object.getOwnPropertySymbols,Oa=Object.prototype.hasOwnProperty,Pa=Object.prototype.propertyIsEnumerable,Qa=function(){try{if(!Object.assign)return!1;var a=new String("abc");a[5]="de";if("5"===Object.getOwnPropertyNames(a)[0])return!1;var b={};for(a=0;10>a;a++)b["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(b).map(function(a){return b[a]}).join(""))return!1;var c={};"abcdefghijklmnopqrst".split("").forEach(function(a){c[a]=
a});return"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},c)).join("")?!1:!0}catch(g){return!1}}()?Object.assign:function(a,b){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");var c=Object(a);for(var g,d=1;d<arguments.length;d++){var h=Object(arguments[d]);for(var r in h)Oa.call(h,r)&&(c[r]=h[r]);if(pa){g=pa(h);for(var k=0;k<g.length;k++)Pa.call(h,g[k])&&(c[g[k]]=h[g[k]])}}return c},K=function(){},L={},ua=Function.call.bind(Object.prototype.hasOwnProperty);
K=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};J.resetWarningCache=function(){L={}};var Ra=Function.call.bind(Object.prototype.hasOwnProperty),C=function(){};C=function(a){a="Warning: "+a;"undefined"!==typeof console&&console.error(a);try{throw Error(a);}catch(b){}};var Sa=function(a,b){function c(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b}function g(a){this.message=a;this.stack=""}function d(a){function c(c,n,v,d,e,u,h){d=d||"<<anonymous>>";
u=u||v;if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==h){if(b)throw c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),c.name="Invariant Violation",c;"undefined"!==typeof console&&(h=d+":"+v,!f[h]&&3>l&&(C("You are manually calling a React.PropTypes validation function for the `"+u+"` prop on `"+d+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),
f[h]=!0,l++))}return null==n[v]?c?null===n[v]?new g("The "+e+" `"+u+"` is marked as required "+("in `"+d+"`, but its value is `null`.")):new g("The "+e+" `"+u+"` is marked as required in "+("`"+d+"`, but its value is `undefined`.")):null:a(n,v,d,e,u)}var f={},l=0,d=c.bind(null,!1);d.isRequired=c.bind(null,!0);return d}function h(a){return d(function(b,c,f,d,l,e){b=b[c];return k(b)!==a?(b=m(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("`"+a+"`."))):null})}function r(b){switch(typeof b){case "number":case "string":case "undefined":return!0;
case "boolean":return!b;case "object":if(Array.isArray(b))return b.every(r);if(null===b||a(b))return!0;var c=b&&(p&&b[p]||b["@@iterator"]);var f="function"===typeof c?c:void 0;if(f)if(c=f.call(b),f!==b.entries)for(;!(b=c.next()).done;){if(!r(b.value))return!1}else for(;!(b=c.next()).done;){if((b=b.value)&&!r(b[1]))return!1}else return!1;return!0;default:return!1}}function k(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":"symbol"===b||a&&("Symbol"===a["@@toStringTag"]||
"function"===typeof Symbol&&a instanceof Symbol)?"symbol":b}function m(a){if("undefined"===typeof a||null===a)return""+a;var b=k(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}function q(a){a=m(a);switch(a){case "array":case "object":return"an "+a;case "boolean":case "date":case "regexp":return"a "+a;default:return a}}var p="function"===typeof Symbol&&Symbol.iterator,l={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),
string:h("string"),symbol:h("symbol"),any:d(G),arrayOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside arrayOf.");b=b[c];if(!Array.isArray(b))return b=k(b),new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected an array."));for(c=0;c<b.length;c++){var n=a(b,c,f,d,l+"["+c+"]","SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");if(n instanceof Error)return n}return null})},
element:function(){return d(function(b,c,d,l,e){b=b[c];return a(b)?null:(b=k(b),new g("Invalid "+l+" `"+e+"` of type "+("`"+b+"` supplied to `"+d+"`, expected a single ReactElement.")))})}(),elementType:function(){return d(function(a,b,c,d,l){a=a[b];return oa.isValidElementType(a)?null:(a=k(a),new g("Invalid "+d+" `"+l+"` of type "+("`"+a+"` supplied to `"+c+"`, expected a single ReactElement type.")))})}(),instanceOf:function(a){return d(function(b,c,f,d,l){if(!(b[c]instanceof a)){var n=a.name||
"<<anonymous>>";b=b[c];b=b.constructor&&b.constructor.name?b.constructor.name:"<<anonymous>>";return new g("Invalid "+d+" `"+l+"` of type "+("`"+b+"` supplied to `"+f+"`, expected ")+("instance of `"+n+"`."))}return null})},node:function(){return d(function(a,b,c,d,l){return r(a[b])?null:new g("Invalid "+d+" `"+l+"` supplied to "+("`"+c+"`, expected a ReactNode."))})}(),objectOf:function(a){return d(function(b,c,f,d,l){if("function"!==typeof a)return new g("Property `"+l+"` of component `"+f+"` has invalid PropType notation inside objectOf.");
b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+d+" `"+l+"` of type "+("`"+c+"` supplied to `"+f+"`, expected an object."));for(var n in b)if(Ra(b,n)&&(c=a(b,n,f,d,l+"."+n,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"),c instanceof Error))return c;return null})},oneOf:function(a){return Array.isArray(a)?d(function(b,f,d,l,e){b=b[f];for(f=0;f<a.length;f++)if(c(b,a[f]))return null;f=JSON.stringify(a,function(a,b){return"symbol"===m(b)?String(b):b});return new g("Invalid "+l+" `"+e+"` of value `"+
String(b)+"` "+("supplied to `"+d+"`, expected one of "+f+"."))}):(1<arguments.length?C("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):C("Invalid argument supplied to oneOf, expected an array."),G)},oneOfType:function(a){if(!Array.isArray(a))return C("Invalid argument supplied to oneOfType, expected an instance of array."),G;for(var b=0;b<a.length;b++){var c=a[b];if("function"!==
typeof c)return C("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+q(c)+" at index "+b+"."),G}return d(function(b,c,f,d,l){for(var e=0;e<a.length;e++)if(null==(0,a[e])(b,c,f,d,l,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return null;return new g("Invalid "+d+" `"+l+"` supplied to "+("`"+f+"`."))})},shape:function(a){return d(function(b,c,d,l,f){b=b[c];c=k(b);if("object"!==c)return new g("Invalid "+l+" `"+f+"` of type `"+c+"` "+("supplied to `"+d+"`, expected `object`."));
for(var e in a)if(c=a[e])if(c=c(b,e,d,l,f+"."+e,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return c;return null})},exact:function(a){return d(function(b,c,d,l,f){var e=b[c],n=k(e);if("object"!==n)return new g("Invalid "+l+" `"+f+"` of type `"+n+"` "+("supplied to `"+d+"`, expected `object`."));n=Qa({},b[c],a);for(var h in n){n=a[h];if(!n)return new g("Invalid "+l+" `"+f+"` key `"+h+"` supplied to `"+d+"`.\nBad object: "+JSON.stringify(b[c],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(a),
null,"  "));if(n=n(e,h,d,l,f+"."+h,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"))return n}return null})}};g.prototype=Error.prototype;l.checkPropTypes=J;l.resetWarningCache=J.resetWarningCache;return l.PropTypes=l};m=D(function(a){a.exports=Sa(oa.isElement,!0)});var Ta=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],g;for(g in c)Object.prototype.hasOwnProperty.call(c,g)&&(a[g]=c[g])}return a},Ua={border:0,clip:"rect(0 0 0 0)",height:"1px",width:"1px",margin:"-1px",
padding:0,overflow:"hidden",position:"absolute"},H=function(a){return la.createElement("div",Ta({style:Ua},a))},qa=D(function(a){(function(b,c){a.exports=c()})(La,function(){function a(a){if(!a)return!0;if(!d(a)||0!==a.length)for(var b in a)if(q.call(a,b))return!1;return!0}function c(a){return"number"===typeof a||"[object Number]"===t.call(a)}function g(a){return"string"===typeof a||"[object String]"===t.call(a)}function d(a){return"object"===typeof a&&"number"===typeof a.length&&"[object Array]"===
t.call(a)}function h(a){var b=parseInt(a);return b.toString()===a?b:a}function m(b,d,e,k){c(d)&&(d=[d]);if(a(d))return b;if(g(d))return m(b,d.split("."),e,k);var f=h(d[0]);if(1===d.length)return d=b[f],void 0!==d&&k||(b[f]=e),d;void 0===b[f]&&(c(f)?b[f]=[]:b[f]={});return m(b[f],d.slice(1),e,k)}function k(b,f){c(f)&&(f=[f]);if(!a(b)){if(a(f))return b;if(g(f))return k(b,f.split("."));var e=h(f[0]),l=b[e];if(1===f.length)void 0!==l&&(d(b)?b.splice(e,1):delete b[e]);else if(void 0!==b[e])return k(b[e],
f.slice(1));return b}}var t=Object.prototype.toString,q=Object.prototype.hasOwnProperty,p={ensureExists:function(a,b,c){return m(a,b,c,!0)},set:function(a,b,c,d){return m(a,b,c,d)},insert:function(a,b,c,e){var f=p.get(a,b);e=~~e;d(f)||(f=[],p.set(a,b,f));f.splice(e,0,c)},empty:function(b,f){if(a(f))return b;if(!a(b)){var e,h;if(!(e=p.get(b,f)))return b;if(g(e))return p.set(b,f,"");if("boolean"===typeof e||"[object Boolean]"===t.call(e))return p.set(b,f,!1);if(c(e))return p.set(b,f,0);if(d(e))e.length=
0;else if("object"===typeof e&&"[object Object]"===t.call(e))for(h in e)q.call(e,h)&&delete e[h];else return p.set(b,f,null)}},push:function(a,b){var c=p.get(a,b);d(c)||(c=[],p.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,b,c){for(var d,e=0,f=b.length;e<f;e++)if(void 0!==(d=p.get(a,b[e])))return d;return c},get:function(b,d,e){c(d)&&(d=[d]);if(a(d))return b;if(a(b))return e;if(g(d))return p.get(b,d.split("."),e);var f=h(d[0]);return 1===d.length?void 0===
b[f]?e:b[f]:p.get(b[f],d.slice(1),e)},del:function(a,b){return k(a,b)}};return p})});var ra=function(a){return function(b){return typeof b===a}};var Va=function(a,b){var c=1,g=b||function(a,b){return b};"-"===a[0]&&(c=-1,a=a.substr(1));return function(b,e){var d;b=g(a,qa.get(b,a));e=g(a,qa.get(e,a));b<e&&(d=-1);b>e&&(d=1);b===e&&(d=0);return d*c}};var da=function(){var a=Array.prototype.slice.call(arguments),b=a.filter(ra("string")),c=a.filter(ra("function"))[0];return function(a,d){for(var e=b.length,
g=0,k=0;0===g&&k<e;)g=Va(b[k],c)(a,d),k++;return g}};let sa="B kB MB GB TB PB EB ZB YB".split(" "),ta=(a,b)=>{let c=a;"string"===typeof b?c=a.toLocaleString(b):!0===b&&(c=a.toLocaleString());return c};var ea=(a,b)=>{if(!Number.isFinite(a))throw new TypeError(`Expected a finite number, got ${typeof a}: ${a}`);b=Object.assign({},b);if(b.signed&&0===a)return" 0 B";var c=0>a;let g=c?"-":b.signed?"+":"";c&&(a=-a);if(1>a)return a=ta(a,b.locale),g+a+" B";c=Math.min(Math.floor(Math.log10(a)/3),sa.length-
1);a=Number((a/Math.pow(1E3,c)).toPrecision(3));a=ta(a,b.locale);return g+a+" "+sa[c]},W={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},V=t.createContext&&t.createContext(W),z=function(){z=Object.assign||function(a){for(var b,c=1,g=arguments.length;c<g;c++){b=arguments[c];for(var d in b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d])}return a};return z.apply(this,arguments)},Y=function(a){return E({tag:"svg",attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",
d:"M8.5 1H1c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h10c.55 0 1-.45 1-1V4.5L8.5 1zM11 14H1V2h7l3 3v9zM5 6.98L3.5 8.5 5 10l-.5 1L2 8.5 4.5 6l.5.98zM7.5 6L10 8.5 7.5 11l-.5-.98L8.5 8.5 7 7l.5-1z"}}]})(a)};Y.displayName="GoFileCode";var Z=function(a){return E({tag:"svg",attr:{viewBox:"0 0 14 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}}]})(a)};Z.displayName="GoFileDirectory";var X=function(a){return E({tag:"svg",
attr:{viewBox:"0 0 12 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}}]})(a)};X.displayName="GoFile";var ba=function(a){return E({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(a)};
ba.displayName="FaGithub";var aa=function(a){return E({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(a)};
aa.displayName="FaTwitter";var N={color:"#0076ff",textDecoration:"none",":hover":{textDecoration:"underline"}},y={paddingTop:6,paddingRight:3,paddingBottom:6,paddingLeft:3,borderTop:"1px solid #eaecef"},M=w({},y,{color:"#424242",width:17,paddingRight:2,paddingLeft:10,"@media (max-width: 700px)":{paddingLeft:20}}),O=w({},y,{textAlign:"right",paddingRight:10,"@media (max-width: 700px)":{paddingRight:20}});ca.propTypes={path:m.string.isRequired,details:m.objectOf(m.shape({path:m.string.isRequired,type:m.oneOf(["directory",
"file"]).isRequired,contentType:m.string,integrity:m.string,size:m.number})).isRequired};fa.propTypes={path:m.string.isRequired,details:m.shape({contentType:m.string.isRequired,highlights:m.arrayOf(m.string),uri:m.string,integrity:m.string.isRequired,language:m.string.isRequired,size:m.number.isRequired}).isRequired};var Ja=c.css(ia(),'\nfont-family: -apple-system,\n  BlinkMacSystemFont,\n  "Segoe UI",\n  "Roboto",\n  "Oxygen",\n  "Ubuntu",\n  "Cantarell",\n  "Fira Sans",\n  "Droid Sans",\n  "Helvetica Neue",\n  sans-serif;\n',
"\nfont-family: Menlo,\n  Monaco,\n  Lucida Console,\n  Liberation Mono,\n  DejaVu Sans Mono,\n  Bitstream Vera Sans Mono,\n  Courier New,\n  monospace;\n"),Ka=c.css(ha()),Wa=m.shape({path:m.string.isRequired,type:m.oneOf(["directory","file"]).isRequired,details:m.object.isRequired});ka.propTypes={packageName:m.string.isRequired,packageVersion:m.string.isRequired,availableVersions:m.arrayOf(m.string),filename:m.string.isRequired,target:Wa.isRequired};A.hydrate(la.createElement(ka,window.__DATA__||
{}),document.getElementById("root"))})(React,ReactDOM,emotionCore);
</script></body></html>